"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[312],{7740:(x,M,s)=>{s.d(M,{w:()=>E});var p=s(6568);let E=(()=>{class l{constructor(){}transform(r,u,d){return Array.isArray(r)?r.map(o=>d.find(m=>m[u]===o)):d.find(o=>o[u]===r)}static#t=this.\u0275fac=function(u){return new(u||l)};static#i=this.\u0275pipe=p.UTH({name:"fuseFindByKey",type:l,pure:!1,standalone:!0})}return l})()},3924:(x,M,s)=>{s.d(M,{M:()=>c});var p=s(8608),E=s(1952),l=s(6272),h=s(4320),r=s(4832),u=s(6764),d=s(9240),o=s(6568),m=s(5528);let c=(()=>{class f{constructor(g,i,a){this._httpClient=g,this._router=i,this.route=a,this.showTitle=!1,this._tangibleWealthes=new p.g(null),this._tangibleTypes=new p.g(null),this._router.events.pipe((0,E.I)(t=>t instanceof d.MT)).subscribe(()=>{const t=this.route.firstChild;t&&t.data.pipe((0,l.k)(e=>e.title)).subscribe(e=>{this.showTitle="Wealth Management"===e})})}get tangableWealthes$(){return this._tangibleWealthes.asObservable()}getTangableWealth(){return this._httpClient.get("api/wealth-managements/all").pipe((0,h.y)(g=>{this._tangibleWealthes.next(g)}))}get tangibleTypes$(){return this._tangibleTypes.asObservable()}getTangibleTypes(){return this._httpClient.get("api/wealth-managements/tangible-types").pipe((0,h.y)(g=>{this._tangibleTypes.next(g)}))}addVehicles(){return this.tangableWealthes$.pipe((0,r.U)(1),(0,u.G)(g=>this._httpClient.post("api/family-tree/family-members",{}).pipe((0,l.k)(i=>(console.log("newfamiliesMembers",i),this._tangibleWealthes.next([i,...g]),i)))))}static#t=this.\u0275fac=function(i){return new(i||f)(o.CoB(m.KK),o.CoB(d.E5),o.CoB(d.gV))};static#i=this.\u0275prov=o.wxM({token:f,factory:f.\u0275fac,providedIn:"root"})}return f})()},8728:(x,M,s)=>{s.d(M,{O:()=>f});var p=s(8608),E=s(4320),l=s(4832),h=s(6272),r=s(6764),u=s(6936),d=s(6488),o=s(1952),m=s(6568),c=s(5528);let f=(()=>{class v{constructor(i){this._httpClient=i,this._individual=new p.g(null),this._individuals=new p.g(null),this._countries=new p.g(null),this._tags=new p.g(null)}get individual$(){return this._individual.asObservable()}get individuals$(){return this._individuals.asObservable()}get countries$(){return this._countries.asObservable()}get tags$(){return this._tags.asObservable()}getIndividuals(){return this._httpClient.get("api/individuals/all").pipe((0,E.y)(i=>{this._individuals.next(i)}))}searchIndividuals(i){return this._httpClient.get("api/individuals/search",{params:{query:i}}).pipe((0,E.y)(a=>{this._individuals.next(a)}))}getIndividualById(i){return this._individuals.pipe((0,l.U)(1),(0,h.k)(a=>{const t=a.find(e=>e.id===i)||null;return this._individual.next(t),t}),(0,r.G)(a=>a?(0,d.of)(a):(0,u.c)("Could not found individual with id of "+i+"!")))}createIndividual(){return console.log(this.individuals$),this.individuals$.pipe((0,l.U)(1),(0,r.G)(i=>this._httpClient.post("api/individuals/individual",{}).pipe((0,h.k)(a=>(console.log(i),this._individuals.next([a,...i]),a)))))}updateIndividual(i,a){return this.individuals$.pipe((0,l.U)(1),(0,r.G)(t=>this._httpClient.patch("api/individuals/individual",{id:i,individual:a}).pipe((0,h.k)(e=>{const n=t.findIndex(_=>_.id===i);return t[n]=e,this._individuals.next(t),e}),(0,r.G)(e=>this.individual$.pipe((0,l.U)(1),(0,o.I)(n=>n&&n.id===i),(0,E.y)(()=>(this._individual.next(e),e)))))))}deleteIndividual(i){return this.individuals$.pipe((0,l.U)(1),(0,r.G)(a=>this._httpClient.delete("api/individuals/individual",{params:{id:i}}).pipe((0,h.k)(t=>{const e=a.findIndex(n=>n.id===i);return a.splice(e,1),this._individuals.next(a),t}))))}getCountries(){return this._httpClient.get("api/individuals/countries").pipe((0,E.y)(i=>{this._countries.next(i)}))}getTags(){return this._httpClient.get("api/individuals/tags").pipe((0,E.y)(i=>{this._tags.next(i)}))}createTag(i){return this.tags$.pipe((0,l.U)(1),(0,r.G)(a=>this._httpClient.post("api/individuals/tag",{tag:i}).pipe((0,h.k)(t=>(this._tags.next([...a,t]),t)))))}updateTag(i,a){return this.tags$.pipe((0,l.U)(1),(0,r.G)(t=>this._httpClient.patch("api/individuals/tag",{id:i,tag:a}).pipe((0,h.k)(e=>{const n=t.findIndex(_=>_.id===i);return t[n]=e,this._tags.next(t),e}))))}deleteTag(i){return this.tags$.pipe((0,l.U)(1),(0,r.G)(a=>this._httpClient.delete("api/individuals/tag",{params:{id:i}}).pipe((0,h.k)(t=>{const e=a.findIndex(n=>n.id===i);return a.splice(e,1),this._tags.next(a),t}),(0,o.I)(t=>t),(0,r.G)(t=>this.individuals$.pipe((0,l.U)(1),(0,h.k)(e=>(e.forEach(n=>{const _=n.tags.findIndex(O=>O===i);_>-1&&n.tags.splice(_,1)}),t)))))))}uploadAvatar(i,a){return this.individuals$.pipe((0,l.U)(1),(0,r.G)(t=>this._httpClient.post("api/individuals/avatar",{id:i,avatar:a},{headers:{"Content-Type":a.type}}).pipe((0,h.k)(e=>{const n=t.findIndex(_=>_.id===i);return t[n]=e,this._individuals.next(t),e}),(0,r.G)(e=>this.individual$.pipe((0,l.U)(1),(0,o.I)(n=>n&&n.id===i),(0,E.y)(()=>(this._individual.next(e),e)))))))}static#t=this.\u0275fac=function(a){return new(a||v)(m.CoB(c.KK))};static#i=this.\u0275prov=m.wxM({token:v,factory:v.\u0275fac,providedIn:"root"})}return v})()},988:(x,M,s)=>{s.d(M,{c:()=>g});var p=s(8608),E=s(6820),l=s(4320),h=s(8168),r=s(4832),u=s(6764),d=s(6272),o=s(6936),m=s(6488),c=s(1952),f=s(6568),v=s(5528);let g=(()=>{class i{constructor(t){this._httpClient=t,this._family=new p.g(null),this._families=new p.g(null),this._unsubscribeAll=new E.E,this._familyMembers=new p.g(null),this._familiesMembers=new p.g(null),this._unsubscribeAllMembers=new E.E}get family$(){return this._family.asObservable()}get families$(){return this._families.asObservable()}getFamily(){return this._httpClient.get("api/family-tree/familys").pipe((0,l.y)(t=>{console.log(t),this._families.next(t)}))}createRelationship(t){return this.getFamily().pipe((0,h.a)(this._unsubscribeAll)).subscribe(e=>{console.log("test"),console.log(e),this._families.next([...e])}),this.families$.pipe((0,r.U)(1),(0,u.G)(e=>this._httpClient.post("api/family-tree/family",{type:t}).pipe((0,d.k)(n=>(console.log("newfamilies",n),this._families.next([n,...e]),n)))))}getFamilyById(t){return this._families.pipe((0,r.U)(1),(0,d.k)(e=>{const n=e.find(_=>_.id===t)||null;return this._family.next(n),n}),(0,u.G)(e=>e?(0,m.of)(e):(0,o.c)("Could not found bequest with id of "+t+"!")))}get familyMembers$(){return this._familyMembers.asObservable()}get familiesMembers$(){return this._familiesMembers.asObservable()}getFamilyMembers(){return this._httpClient.get("api/family-tree/familys-members").pipe((0,l.y)(t=>{console.log(t),this._familiesMembers.next(t)}))}createMember(t){return this.getFamilyMembers().pipe((0,h.a)(this._unsubscribeAllMembers)).subscribe(e=>{console.log("test"),this._familiesMembers.next([...e])}),this.familiesMembers$.pipe((0,r.U)(1),(0,u.G)(e=>this._httpClient.post("api/family-tree/family-members",{type:t}).pipe((0,d.k)(n=>(console.log("newfamiliesMembers",n),this._familiesMembers.next([n,...e]),n)))))}getFamilyMembersById(t){return this._familiesMembers.pipe((0,r.U)(1),(0,d.k)(e=>{const n=e.find(_=>_.id===t)||null;return console.log("idddddd",e,this._familiesMembers),this._familyMembers.next(n),n}),(0,u.G)(e=>e?(0,m.of)(e):(0,o.c)("Could not found Members with id of "+t+"!")))}updateFamilyMembers(t,e){return this.familiesMembers$.pipe((0,r.U)(1),(0,u.G)(n=>this._httpClient.patch("api/family-tree/family-members",{id:t,familyMember:e}).pipe((0,d.k)(_=>{const O=n.findIndex(C=>C.id===t);return n[O]=_,this._familiesMembers.next(n),_}),(0,u.G)(_=>this.familyMembers$.pipe((0,r.U)(1),(0,c.I)(O=>O&&O.id===t),(0,l.y)(()=>(this._familyMembers.next(_),_)))))))}static#t=this.\u0275fac=function(e){return new(e||i)(f.CoB(v.KK))};static#i=this.\u0275prov=f.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})()}}]);