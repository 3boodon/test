"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[432],{52:(st,x,i)=>{i.r(x),i.d(x,{default:()=>ot});var u=i(9240),t=i(6568);let D=(()=>{class e{constructor(){}ngOnInit(){}static#t=this.\u0275fac=function(a){return new(a||e)};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-insurances"]],standalone:!0,features:[t.UHJ],decls:1,vars:0,template:function(a,o){1&a&&t.wR5(0,"router-outlet")},dependencies:[u.cP],encapsulation:2,changeDetection:0})}return e})();var m=i(3848),C=i(2556),d=i(3328),c=i(324),v=i(9512),g=i(6300),w=i(8083),f=i(2523),R=i(6364),b=i(4332),p=i(6312),k=i(6820),G=i(8168),O=i(9124),S=i(8608),T=i(4320),y=i(4832),E=i(6272),I=i(6764),Y=i(6936),A=i(6488),F=i(1952),M=i(5528);let $=(()=>{class e{constructor(n){this._httpClient=n,this._insurances=new S.g(null),this._insurance=new S.g(null)}get insurance$(){return this._insurance.asObservable()}get insurances$(){return this._insurances.asObservable()}getInsurancesData(){return this._httpClient.get("api/insurances/all").pipe((0,T.y)(n=>{this._insurances.next(n)}))}getInsuranceById(n){return this._insurances.pipe((0,y.U)(1),(0,E.k)(a=>{const o=a.find(s=>s.id.toString()===n)||null;return console.log("idddddd",a,this._insurances),this._insurance.next(o),o}),(0,I.G)(a=>a?(0,A.of)(a):(0,Y.c)("Could not found Members with id of "+n+"!")))}updateInsurances(n,a){return this.insurances$.pipe((0,y.U)(1),(0,I.G)(o=>this._httpClient.patch("api/insurance/update-insurance",{id:n,insurance:a}).pipe((0,E.k)(s=>{const l=o.findIndex(it=>it.id.toString()===n);return o[l]=s,this._insurances.next(o),s}),(0,I.G)(s=>this.insurance$.pipe((0,y.U)(1),(0,F.I)(l=>l&&l.id.toString()===n),(0,T.y)(()=>(this._insurance.next(s),s)))))))}static#t=this.\u0275fac=function(a){return new(a||e)(t.CoB(M.KK))};static#e=this.\u0275prov=t.wxM({token:e,factory:e.\u0275fac,providedIn:"root"})}return e})();var B=i(7804);function N(e,r){if(1&e&&(t.SAx(0),t.I0R(1,"mat-option",22)(2,"div",23),t.OEk(3),t.C$Y()(),t.k70()),2&e){const n=r.$implicit;t.yG2(),t.E7m("value",n.value),t.yG2(2),t.cNF(n.label)}}function L(e,r){1&e&&(t.I0R(0,"th",24),t.OEk(1,"Company Name"),t.C$Y())}function U(e,r){if(1&e&&(t.I0R(0,"td",25),t.OEk(1),t.C$Y()),2&e){const n=r.$implicit;t.yG2(),t.oRS(" ",n.companyName," ")}}function j(e,r){1&e&&(t.I0R(0,"th",24),t.OEk(1,"insurance Type"),t.C$Y())}function Q(e,r){if(1&e&&(t.I0R(0,"td",25),t.OEk(1),t.C$Y()),2&e){const n=r.$implicit;t.yG2(),t.oRS(" ",n.insuranceType," ")}}function _(e,r){1&e&&(t.I0R(0,"th",24),t.OEk(1,"premium Amount"),t.C$Y())}function z(e,r){if(1&e&&(t.I0R(0,"td",25),t.OEk(1),t.C$Y()),2&e){const n=r.$implicit;t.yG2(),t.oRS(" ",n.premiumAmount," ")}}function V(e,r){1&e&&(t.I0R(0,"th",24),t.OEk(1,"status Insurance"),t.C$Y())}function H(e,r){if(1&e&&(t.I0R(0,"td",25),t.OEk(1),t.C$Y()),2&e){const n=r.$implicit;t.yG2(),t.oRS(" ",n.statusInsurance," ")}}function J(e,r){1&e&&(t.I0R(0,"th",24),t.OEk(1,"policy Start Date"),t.C$Y())}function K(e,r){if(1&e&&(t.I0R(0,"td",25),t.OEk(1),t.wVc(2,"date"),t.C$Y()),2&e){const n=r.$implicit;t.yG2(),t.oRS(" ",t.g7$(2,1,n.policyStartDate,"yyyy/MM/dd")," ")}}function P(e,r){1&e&&t.wR5(0,"tr",26)}function X(e,r){if(1&e){const n=t.KQA();t.I0R(0,"tr",27),t.qCj("click",function(){const s=t.usT(n).$implicit,l=t.GaO();return t.CGJ(l.clickedRows(s))}),t.C$Y()}}const W=()=>[5,10,15];let Z=(()=>{class e{ngAfterViewInit(){this.data.paginator=this.paginator}constructor(n,a,o,s,l){this._matDialog=n,this._insuranceServeice=a,this._router=o,this._activatedRoute=s,this._changeDetectorRef=l,this.displayedColumns=["companyName","insuranceType","premiumAmount","policyStartDate","statusInsurance"],this.gender="before",this._unsubscribeAll=new k.E,this.dataSource=new c._c}ngOnInit(){this._insuranceServeice.getInsurancesData().pipe((0,G.a)(this._unsubscribeAll)).subscribe(n=>{this.data=n,this.insuranceData=n,this.dataSource=new c._c(this.insuranceData),this.dataSource.paginator=this.paginator,console.log("data Source",this.insuranceData)}),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}clickedRows(n){this._router.navigate(["./",n.id],{relativeTo:this._activatedRoute}),console.log("write id ",n),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByFn(n,a){return a.id||n}static#t=this.\u0275fac=function(a){return new(a||e)(t.GI1(O.qW),t.GI1($),t.GI1(u.E5),t.GI1(u.gV),t.GI1(t.kD9))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-table"]],viewQuery:function(a,o){if(1&a&&t.CC$(d.Qb,5),2&a){let s;t.wto(s=t.Gqi())&&(o.paginator=s.first)}},standalone:!0,features:[t.UHJ],decls:35,vars:12,consts:[[1,"flex","flex-col","flex-auto","p-4"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"fuse-mat-dense","w-40","shadow-none","relaionships-border-none-mate-select",3,"subscriptSizing"],["disableOptionCentering","",3,"panelClass","value"],["roleSelect","matSelect"],[1,"text-md"],[1,"ml-1","font-medium"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","companyName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","insuranceType"],["matColumnDef","premiumAmount"],["matColumnDef","statusInsurance"],["matColumnDef","policyStartDate"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"h-auto","py-4","leading-none",3,"value"],[1,"font-medium"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row","",3,"click"]],template:function(a,o){if(1&a&&(t.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),t.OEk(4," All Members "),t.C$Y(),t.I0R(5,"mat-form-field",4)(6,"mat-select",5,6)(8,"mat-select-trigger",7)(9,"span"),t.OEk(10,"Short by:"),t.C$Y(),t.I0R(11,"span",8),t.OEk(12),t.wVc(13,"titlecase"),t.C$Y()(),t.yuY(14,N,4,2,"ng-container",9),t.C$Y()()(),t.I0R(15,"div",10)(16,"table",11),t.SAx(17,12),t.yuY(18,L,2,0,"th",13)(19,U,2,1,"td",14),t.k70(),t.SAx(20,15),t.yuY(21,j,2,0,"th",13)(22,Q,2,1,"td",14),t.k70(),t.SAx(23,16),t.yuY(24,_,2,0,"th",13)(25,z,2,1,"td",14),t.k70(),t.SAx(26,17),t.yuY(27,V,2,0,"th",13)(28,H,2,1,"td",14),t.k70(),t.SAx(29,18),t.yuY(30,J,2,0,"th",13)(31,K,3,4,"td",14),t.k70(),t.yuY(32,P,1,0,"tr",19)(33,X,1,0,"tr",20),t.C$Y(),t.wR5(34,"mat-paginator",21),t.C$Y()()()),2&a){const s=t.Gew(7);t.yG2(5),t.E7m("subscriptSizing","dynamic"),t.yG2(),t.E7m("panelClass","w-72 min-w-72 max-w-72 h-auto max-h-none")("value","newest"),t.yG2(6),t.cNF(t.kDX(13,9,s.value)),t.yG2(2),t.E7m("ngForOf",o.roles),t.yG2(2),t.E7m("dataSource",o.dataSource),t.yG2(16),t.E7m("matHeaderRowDef",o.displayedColumns),t.yG2(),t.E7m("matRowDefColumns",o.displayedColumns),t.yG2(),t.E7m("pageSizeOptions",t.q4q(11,W))}},dependencies:[c.If,c.wL,c.ie,c.aG,c.Af,c.uc,c.gx,c.qC,c.cX,c.yC,c._I,m.oL,m.Iw,p.sb,b.y,w.cN,g.Up,R.KO,C.oB,g.wb,v.oJ,f.d5,f.kX,f.gl,B.I5,d.w5,d.Qb,m.y],styles:[".demo-table{width:100%}.mat-mdc-row .mat-mdc-cell{cursor:pointer;border:none}.mat-mdc-row:hover .mat-mdc-cell{background-color:#f5f5f5;border-color:currentColor}.demo-row-is-clicked{font-weight:700!important}\n"],encapsulation:2,changeDetection:0})}return e})();var h=i(6524),q=i(5836);const tt=["matDrawer"];function et(e,r){if(1&e&&(t.SAx(0),t.OEk(1),t.k70()),2&e){const n=t.GaO();t.yG2(),t.oRS(" ",n.stepssCount," ")}}const nt=()=>({"=0":"No Insurances","=1":"Insurances",other:"Insurances"}),ot=[{path:"",component:D,children:[{path:"",component:(()=>{class e{ngAfterViewInit(){this.dataSource.paginator=this.paginator}constructor(n,a,o,s,l){this._insurancesService=n,this._router=a,this._activatedRoute=o,this._changeDetectorRef=s,this._fuseMediaWatcherService=l,this.displayedColumns=["fullName","mother","father","childrenMale","childrenFemale","spouse","grandpa"],this.dataSource=new c._c,this.position="before",this.drawerMode="over",this._unsubscribeAll=new k.E}ngOnInit(){this.matDrawer.openedChange.subscribe(n=>{n||this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,G.a)(this._unsubscribeAll)).subscribe(({matchingAliases:n})=>{this.drawerMode=(n.includes("lg"),"over"),this._changeDetectorRef.markForCheck()}),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}trackByFn(n,a){return a.id||n}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createInsurances(){this._router.navigate(["./","create-insurance"],{relativeTo:this._activatedRoute})}static#t=this.\u0275fac=function(a){return new(a||e)(t.GI1($),t.GI1(u.E5),t.GI1(u.gV),t.GI1(t.kD9),t.GI1(q.E))};static#e=this.\u0275cmp=t.In1({type:e,selectors:[["app-insurances"]],viewQuery:function(a,o){if(1&a&&(t.CC$(tt,7),t.CC$(d.Qb,5)),2&a){let s;t.wto(s=t.Gqi())&&(o.matDrawer=s.first),t.wto(s=t.Gqi())&&(o.paginator=s.first)}},standalone:!0,features:[t.UHJ],decls:40,vars:17,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","h-full","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"matMenuTriggerFor","color"],["moreMenu","matMenu"],["mat-menu-item",""],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6"]],template:function(a,o){if(1&a&&(t.I0R(0,"div",0)(1,"mat-drawer-container",1),t.qCj("backdropClick",function(){return o.onBackdropClicked()}),t.I0R(2,"mat-drawer",2,3),t.wR5(4,"router-outlet"),t.C$Y(),t.I0R(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),t.SAx(12),t.I0R(13,"div",11),t.OEk(14," Main Insurances "),t.C$Y(),t.I0R(15,"div",12),t.yuY(16,et,2,1,"ng-container",13),t.OEk(17),t.wVc(18,"i18nPlural"),t.C$Y(),t.k70(),t.C$Y()(),t.I0R(19,"div",14)(20,"button",15),t.qCj("click",function(){return o.createInsurances()}),t.wR5(21,"mat-icon",16),t.I0R(22,"span",17),t.OEk(23,"Add Insurances"),t.C$Y()(),t.I0R(24,"button",18),t.wR5(25,"mat-icon",16),t.I0R(26,"span",17),t.OEk(27,"Export"),t.C$Y()(),t.I0R(28,"mat-menu",null,19)(30,"button",20),t.wR5(31,"mat-icon",21),t.I0R(32,"span"),t.OEk(33,"as PDF"),t.C$Y()(),t.I0R(34,"button",20),t.wR5(35,"mat-icon",21),t.I0R(36,"span"),t.OEk(37,"as XLS"),t.C$Y()()()()()()()(),t.I0R(38,"div",22),t.wR5(39,"app-table"),t.C$Y()()()()),2&a){const s=t.Gew(29);t.yG2(2),t.E7m("mode",o.drawerMode)("opened",!1)("position","end")("disableClose",!0),t.yG2(14),t.E7m("ngIf",o.stepssCount>0),t.yG2(),t.oRS(" ",t.g7$(18,13,o.stepssCount,t.q4q(16,nt))," "),t.yG2(3),t.E7m("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_outline:plus"),t.yG2(3),t.E7m("matMenuTriggerFor",s)("color","primary"),t.yG2(),t.E7m("svgIcon","heroicons_solid:arrow-up-tray"),t.yG2(6),t.E7m("svgIcon","heroicons_outline:document-text"),t.yG2(4),t.E7m("svgIcon","heroicons_outline:document-text")}},dependencies:[c.If,Z,m.u_,p.sb,p.Iz,p.G4,p.q0,b.y,d.w5,w.cN,R.KO,C.oB,C.qL,u.cP,g.wb,v.oJ,v.Gw,f.d5,m.od,h._A,h.aM,h.OQ,h.yG],encapsulation:2,changeDetection:0})}return e})()}]}]}}]);