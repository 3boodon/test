"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[192],{9192:(je,T,l)=>{l.r(T),l.d(T,{default:()=>Ae});var e=l(6568),f=l(9240),p=l(3848),y=l(2556),b=l(3328),c=l(324),h=l(9512),g=l(6300),G=l(8083),_=l(2523),x=l(6364),m=l(4332),C=l(6312),w=l(6820),d=l(8168),Y=l(9124),v=l(8728),B=l(988),I=l(7804);function S(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"mat-option",22)(2,"div",23),e.OEk(3),e.C$Y()(),e.k70()),2&i){const t=r.$implicit;e.yG2(),e.E7m("value",t.value),e.yG2(2),e.cNF(t.label)}}function A(i,r){1&i&&(e.I0R(0,"th",24),e.OEk(1,"Full Name"),e.C$Y())}function N(i,r){if(1&i&&(e.I0R(0,"td",25),e.OEk(1),e.C$Y()),2&i){const t=r.$implicit;e.yG2(),e.oRS(" ",t.name," ")}}function P(i,r){1&i&&(e.I0R(0,"th",24),e.OEk(1,"Phone Number"),e.C$Y())}function M(i,r){if(1&i&&(e.I0R(0,"span",27),e.OEk(1),e.C$Y()),2&i){const t=r.$implicit;e.yG2(),e.CAO(" ",t.label,": ",t.phoneNumber," ")}}function j(i,r){if(1&i&&(e.I0R(0,"td",25),e.yuY(1,M,2,2,"span",26),e.C$Y()),2&i){const t=r.$implicit;e.yG2(),e.E7m("ngForOf",t.phoneNumbers)}}function z(i,r){1&i&&(e.I0R(0,"th",24),e.OEk(1,"BirthDate"),e.C$Y())}function Q(i,r){if(1&i&&(e.I0R(0,"td",25)(1,"span",28)(2,"span",29),e.OEk(3),e.wVc(4,"date"),e.C$Y()()()),2&i){const t=r.$implicit;e.yG2(3),e.cNF(e.g7$(4,1,t.birthday,"yyyy/MM/dd"))}}function J(i,r){1&i&&(e.I0R(0,"th",24),e.OEk(1,"Address"),e.C$Y())}function U(i,r){if(1&i&&(e.I0R(0,"td",25),e.OEk(1),e.C$Y()),2&i){const t=r.$implicit;e.yG2(),e.oRS(" ",t.address," ")}}function K(i,r){1&i&&(e.I0R(0,"th",24),e.OEk(1,"Title"),e.C$Y())}function L(i,r){if(1&i&&(e.I0R(0,"td",25),e.OEk(1),e.C$Y()),2&i){const t=r.$implicit;e.yG2(),e.oRS(" ",t.title," ")}}function V(i,r){1&i&&e.wR5(0,"tr",30)}function q(i,r){if(1&i){const t=e.KQA();e.I0R(0,"tr",31),e.qCj("click",function(){const o=e.usT(t).$implicit,s=e.GaO();return e.CGJ(s.clickedRows(o))}),e.C$Y()}}const X=()=>[5,10,15,20];let H=(()=>{class i{ngAfterViewInit(){this.data.paginator=this.paginator}constructor(t,n,a,o,s,u){this._matDialog=t,this._beneficiariesService=n,this._familyTreeServeice=a,this._router=o,this._activatedRoute=s,this._changeDetectorRef=u,this.displayedColumns=["name","emails","birthday","address","title"],this.gender="before",this._unsubscribeAll=new w.E,this.dataSource=new c._c,this.dataSources=new c._c}ngOnInit(){this._familyTreeServeice.getFamilyMembers().pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.data=t}),this._beneficiariesService.getIndividuals().pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.dataSources=new c._c(t),this.data=t,this.dataSources.paginator=this.paginator}),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}clickedRows(t){this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}trackByFn(t,n){return n.id||t}static#e=this.\u0275fac=function(n){return new(n||i)(e.GI1(Y.qW),e.GI1(v.O),e.GI1(B.c),e.GI1(f.E5),e.GI1(f.gV),e.GI1(e.kD9))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-table"]],viewQuery:function(n,a){if(1&n&&e.CC$(b.Qb,5),2&n){let o;e.wto(o=e.Gqi())&&(a.paginator=o.first)}},standalone:!0,features:[e.UHJ],decls:35,vars:12,consts:[[1,"flex","flex-col","flex-auto","p-4"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"fuse-mat-dense","w-40","shadow-none","relaionships-border-none-mate-select",3,"subscriptSizing"],["disableOptionCentering","",3,"panelClass","value"],["roleSelect","matSelect"],[1,"text-md"],[1,"ml-1","font-medium"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"mat-elevation-z8",3,"dataSource"],["matColumnDef","name"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","emails"],["matColumnDef","birthday"],["matColumnDef","address"],["matColumnDef","title"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"h-auto","py-4","leading-none",3,"value"],[1,"font-medium"],["mat-header-cell",""],["mat-cell",""],["class","m-1 block w-max",4,"ngFor","ngForOf"],[1,"m-1","block","w-max"],[1,"flex","items-center"],[1,"ml-3","leading-4"],["mat-header-row",""],["mat-row","",3,"click"]],template:function(n,a){if(1&n&&(e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),e.OEk(4," All Members "),e.C$Y(),e.I0R(5,"mat-form-field",4)(6,"mat-select",5,6)(8,"mat-select-trigger",7)(9,"span"),e.OEk(10,"Short by:"),e.C$Y(),e.I0R(11,"span",8),e.OEk(12),e.wVc(13,"titlecase"),e.C$Y()(),e.yuY(14,S,4,2,"ng-container",9),e.C$Y()()(),e.I0R(15,"div",10)(16,"table",11),e.SAx(17,12),e.yuY(18,A,2,0,"th",13)(19,N,2,1,"td",14),e.k70(),e.SAx(20,15),e.yuY(21,P,2,0,"th",13)(22,j,2,1,"td",14),e.k70(),e.SAx(23,16),e.yuY(24,z,2,0,"th",13)(25,Q,5,4,"td",14),e.k70(),e.SAx(26,17),e.yuY(27,J,2,0,"th",13)(28,U,2,1,"td",14),e.k70(),e.SAx(29,18),e.yuY(30,K,2,0,"th",13)(31,L,2,1,"td",14),e.k70(),e.yuY(32,V,1,0,"tr",19)(33,q,1,0,"tr",20),e.C$Y(),e.wR5(34,"mat-paginator",21),e.C$Y()()()),2&n){const o=e.Gew(7);e.yG2(5),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("panelClass","w-72 min-w-72 max-w-72 h-auto max-h-none")("value","newest"),e.yG2(6),e.cNF(e.kDX(13,9,o.value)),e.yG2(2),e.E7m("ngForOf",a.roles),e.yG2(2),e.E7m("dataSource",a.dataSources),e.yG2(16),e.E7m("matHeaderRowDef",a.displayedColumns),e.yG2(),e.E7m("matRowDefColumns",a.displayedColumns),e.yG2(),e.E7m("pageSizeOptions",e.q4q(11,X))}},dependencies:[c.If,c.wL,c.ie,c.aG,c.Af,c.uc,c.gx,c.qC,c.cX,c.yC,c._I,p.oL,p.Iw,C.sb,m.y,G.cN,g.Up,x.KO,y.oB,g.wb,h.oJ,_.d5,_.kX,_.gl,I.I5,b.w5,b.Qb,p.y],styles:[".demo-table{width:100%}.mat-mdc-row .mat-mdc-cell{cursor:pointer;border:none}.mat-mdc-row:hover .mat-mdc-cell{background-color:#f5f5f5;border-color:currentColor}.demo-row-is-clicked{font-weight:700!important}\n"],encapsulation:2,changeDetection:0})}return i})();var R=l(6524),W=l(5836);const Z=["matDrawer"];function ee(i,r){if(1&i&&(e.SAx(0),e.OEk(1),e.k70()),2&i){const t=e.GaO();e.yG2(),e.oRS(" ",t.individualsCount," ")}}const te=()=>({"=0":"No Beneficiaries","=1":"Beneficiaries",other:"Beneficiaries"});let D=(()=>{class i{ngAfterViewInit(){this.dataSource.paginator=this.paginator}constructor(t,n,a,o,s){this._beneficiariesService=t,this._router=n,this._activatedRoute=a,this._changeDetectorRef=o,this._fuseMediaWatcherService=s,this.displayedColumns=["fullName","mother","father","childrenMale","childrenFemale","spouse","grandpa"],this.dataSource=new c._c,this.position="before",this.drawerMode="over",this._unsubscribeAll=new w.E}ngOnInit(){this.individual$=this._beneficiariesService.individuals$,this._beneficiariesService.individuals$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.individualsCount=t.length,this._changeDetectorRef.markForCheck()}),this._beneficiariesService.individual$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.selectedIndividual=t,this._changeDetectorRef.markForCheck()}),this._beneficiariesService.countries$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this.matDrawer.openedChange.subscribe(t=>{t||this._changeDetectorRef.markForCheck()}),this._fuseMediaWatcherService.onMediaChange$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(({matchingAliases:t})=>{this.drawerMode=(t.includes("lg"),"over"),this._changeDetectorRef.markForCheck()}),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}trackByFn(t,n){return n.id||t}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createBeneficiaries(){this._beneficiariesService.createIndividual().subscribe(t=>{this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}static#e=this.\u0275fac=function(n){return new(n||i)(e.GI1(v.O),e.GI1(f.E5),e.GI1(f.gV),e.GI1(e.kD9),e.GI1(W.E))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["app-beneficiaries"]],viewQuery:function(n,a){if(1&n&&(e.CC$(Z,7),e.CC$(b.Qb,5)),2&n){let o;e.wto(o=e.Gqi())&&(a.matDrawer=o.first),e.wto(o=e.Gqi())&&(a.paginator=o.first)}},standalone:!0,features:[e.UHJ],decls:40,vars:17,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","h-full","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-4xl","font-extrabold","tracking-tight","leading-none"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"matMenuTriggerFor","color"],["moreMenu","matMenu"],["mat-menu-item",""],[3,"svgIcon"],[1,"flex","flex-col","flex-auto","p-6"]],template:function(n,a){if(1&n&&(e.I0R(0,"div",0)(1,"mat-drawer-container",1),e.qCj("backdropClick",function(){return a.onBackdropClicked()}),e.I0R(2,"mat-drawer",2,3),e.wR5(4,"router-outlet"),e.C$Y(),e.I0R(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),e.SAx(12),e.I0R(13,"div",11),e.OEk(14," Main Beneficiaries "),e.C$Y(),e.I0R(15,"div",12),e.yuY(16,ee,2,1,"ng-container",13),e.OEk(17),e.wVc(18,"i18nPlural"),e.C$Y(),e.k70(),e.C$Y()(),e.I0R(19,"div",14)(20,"button",15),e.qCj("click",function(){return a.createBeneficiaries()}),e.wR5(21,"mat-icon",16),e.I0R(22,"span",17),e.OEk(23,"Add Beneficiaries"),e.C$Y()(),e.I0R(24,"button",18),e.wR5(25,"mat-icon",16),e.I0R(26,"span",17),e.OEk(27,"Export"),e.C$Y()(),e.I0R(28,"mat-menu",null,19)(30,"button",20),e.wR5(31,"mat-icon",21),e.I0R(32,"span"),e.OEk(33,"as PDF"),e.C$Y()(),e.I0R(34,"button",20),e.wR5(35,"mat-icon",21),e.I0R(36,"span"),e.OEk(37,"as XLS"),e.C$Y()()()()()()()(),e.I0R(38,"div",22),e.wR5(39,"app-table"),e.C$Y()()()()),2&n){const o=e.Gew(29);e.yG2(2),e.E7m("mode",a.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.yG2(14),e.E7m("ngIf",a.individualsCount>0),e.yG2(),e.oRS(" ",e.g7$(18,13,a.individualsCount,e.q4q(16,te))," "),e.yG2(3),e.E7m("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_outline:plus"),e.yG2(3),e.E7m("matMenuTriggerFor",o)("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_solid:arrow-up-tray"),e.yG2(6),e.E7m("svgIcon","heroicons_outline:document-text"),e.yG2(4),e.E7m("svgIcon","heroicons_outline:document-text")}},dependencies:[c.If,H,p.u_,C.sb,C.Iz,C.G4,C.q0,m.y,b.w5,G.cN,x.KO,y.oB,y.qL,f.cP,g.wb,h.oJ,h.Gw,_.d5,p.od,R._A,R.aM,R.OQ,R.yG],encapsulation:2,changeDetection:0})}return i})();var ie=l(9696),O=l(6924),F=l(7280),E=l(568),ne=l(7740),ae=l(8616),oe=l(4864),re=l(4248);const le=["avatarFileInput"],se=["tagsPanel"],ce=["tagsPanelOrigin"];function me(i,r){if(1&i&&e.wR5(0,"img",41),2&i){const t=e.GaO();e.E7m("src",null==t.individual?null:t.individual.avatar,e.K6U)}}function de(i,r){if(1&i&&(e.I0R(0,"div",42),e.OEk(1),e.C$Y()),2&i){const t=e.GaO();e.yG2(),e.oRS(" ",null==t.individual?null:t.individual.name.charAt(0)," ")}}function ue(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"div",43)(2,"span",44),e.OEk(3),e.C$Y()(),e.k70()),2&i){const t=r.$implicit;e.yG2(3),e.cNF(t.title)}}function fe(i,r){if(1&i&&(e.SAx(0),e.yuY(1,ue,4,1,"ng-container",29),e.wVc(2,"fuseFindByKey"),e.k70()),2&i){const t=e.GaO();e.yG2(),e.E7m("ngForOf",e.I7O(2,2,null==t.individual?null:t.individual.tags,"id",t.tags))("ngForTrackBy",t.trackByFn)}}function pe(i,r){1&i&&(e.SAx(0),e.wR5(1,"mat-icon",31),e.I0R(2,"span",45),e.OEk(3,"Edit"),e.C$Y(),e.k70()),2&i&&(e.yG2(),e.E7m("svgIcon","heroicons_solid:pencil-square"))}function ge(i,r){1&i&&(e.SAx(0),e.wR5(1,"mat-icon",31),e.I0R(2,"span",45),e.OEk(3,"Add"),e.C$Y(),e.k70()),2&i&&(e.yG2(),e.E7m("svgIcon","heroicons_solid:plus-circle"))}function he(i,r){1&i&&e.wR5(0,"mat-icon",31),2&i&&e.E7m("svgIcon","heroicons_solid:pencil-square")}function _e(i,r){1&i&&e.wR5(0,"mat-icon",31),2&i&&e.E7m("svgIcon","heroicons_solid:check")}function ve(i,r){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",56),e.qCj("click",function(){const o=e.usT(t).$implicit,s=e.GaO(3);return e.CGJ(s.toggleIndividualTag(o))}),e.wR5(2,"mat-checkbox",57),e.I0R(3,"div"),e.OEk(4),e.C$Y()(),e.k70()}if(2&i){const t=r.$implicit,n=e.GaO(3);e.yG2(2),e.E7m("checked",null==n.individual?null:n.individual.tags.includes(t.id))("color","primary")("disableRipple",!0),e.yG2(2),e.cNF(t.title)}}function ye(i,r){if(1&i&&(e.SAx(0),e.yuY(1,ve,5,4,"ng-container",29),e.k70()),2&i){const t=e.GaO(2);e.yG2(),e.E7m("ngForOf",t.filteredTags)("ngForTrackBy",t.trackByFn)}}function be(i,r){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",48)(2,"mat-form-field",59)(3,"input",60),e.qCj("input",function(a){const s=e.usT(t).$implicit,u=e.GaO(3);return e.CGJ(u.updateTagTitle(s,a))}),e.C$Y(),e.I0R(4,"button",61),e.qCj("click",function(){const o=e.usT(t).$implicit,s=e.GaO(3);return e.CGJ(s.deleteTag(o))}),e.wR5(5,"mat-icon",62),e.C$Y()()(),e.k70()}if(2&i){const t=r.$implicit;e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("value",t.title),e.yG2(2),e.E7m("svgIcon","heroicons_solid:trash")}}function Ce(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"div",58),e.yuY(2,be,6,3,"ng-container",29),e.C$Y(),e.k70()),2&i){const t=e.GaO(2);e.yG2(2),e.E7m("ngForOf",t.filteredTags)("ngForTrackBy",t.trackByFn)}}function Ie(i,r){if(1&i){const t=e.KQA();e.I0R(0,"div",63),e.qCj("click",function(){e.usT(t),e.GaO();const a=e.Gew(6);return e.GaO().createTag(a.value),e.CGJ(a.value="")}),e.wR5(1,"mat-icon",64),e.I0R(2,"div",65),e.OEk(3,' Create "'),e.I0R(4,"b"),e.OEk(5),e.C$Y(),e.OEk(6,'" '),e.C$Y()()}if(2&i){e.GaO();const t=e.Gew(6);e.yG2(),e.E7m("svgIcon","heroicons_solid:plus-circle"),e.yG2(4),e.cNF(t.value)}}function ke(i,r){if(1&i){const t=e.KQA();e.I0R(0,"div",46)(1,"div",47)(2,"div",48),e.wR5(3,"mat-icon",31),e.I0R(4,"div",49)(5,"input",50,51),e.qCj("input",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.filterTags(a))})("keydown",function(a){e.usT(t);const o=e.GaO();return e.CGJ(o.filterTagsInputKeyDown(a))}),e.C$Y()()(),e.I0R(7,"button",52),e.qCj("click",function(){e.usT(t);const a=e.GaO();return e.CGJ(a.toggleTagsEditMode())}),e.yuY(8,he,1,1,"mat-icon",53)(9,_e,1,1,"mat-icon",53),e.C$Y()(),e.I0R(10,"div",54),e.yuY(11,ye,2,2,"ng-container",23)(12,Ce,3,2,"ng-container",23)(13,Ie,7,2,"div",55),e.C$Y()()}if(2&i){const t=e.Gew(6),n=e.GaO();e.yG2(3),e.E7m("svgIcon","heroicons_solid:magnifying-glass"),e.yG2(2),e.E7m("maxLength",30),e.yG2(3),e.E7m("ngIf",!n.tagsEditMode),e.yG2(),e.E7m("ngIf",n.tagsEditMode),e.yG2(2),e.E7m("ngIf",!n.tagsEditMode),e.yG2(),e.E7m("ngIf",n.tagsEditMode),e.yG2(),e.E7m("ngIf",n.shouldShowCreateTagButton(t.value))}}function Ge(i,r){1&i&&(e.I0R(0,"mat-label"),e.OEk(1,"Email"),e.C$Y())}function xe(i,r){1&i&&(e.I0R(0,"mat-label"),e.OEk(1,"Label"),e.C$Y())}const $=i=>({"mt-6":i});function Re(i,r){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",71)(2,"button",72),e.qCj("click",function(){e.usT(t);const a=e.GaO().index,o=e.GaO();return e.CGJ(o.removeEmailField(a))}),e.wR5(3,"mat-icon",31),e.C$Y()(),e.k70()}if(2&i){const t=e.GaO().first;e.yG2(),e.E7m("ngClass",e.S45(2,$,t)),e.yG2(2),e.E7m("svgIcon","heroicons_solid:trash")}}function Ee(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"div",66)(2,"mat-form-field",67),e.yuY(3,Ge,2,0,"mat-label",23),e.wR5(4,"mat-icon",20)(5,"input",68),e.C$Y(),e.I0R(6,"mat-form-field",69),e.yuY(7,xe,2,0,"mat-label",23),e.wR5(8,"mat-icon",20)(9,"input",70),e.C$Y(),e.yuY(10,Re,4,4,"ng-container",23),e.C$Y(),e.k70()),2&i){const t=r.$implicit,n=r.first,a=r.last;e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("ngIf",n),e.yG2(),e.E7m("svgIcon","heroicons_solid:envelope"),e.yG2(),e.E7m("formControl",t.get("email"))("placeholder","Email address")("spellcheck",!1),e.yG2(),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("ngIf",n),e.yG2(),e.E7m("svgIcon","heroicons_solid:tag"),e.yG2(),e.E7m("formControl",t.get("label"))("placeholder","Label"),e.yG2(),e.E7m("ngIf",!(n&&a))}}function we(i,r){1&i&&(e.I0R(0,"mat-label"),e.OEk(1,"Phone"),e.C$Y())}function Te(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"mat-option",77)(2,"span",48),e.wR5(3,"span",78),e.I0R(4,"span",49),e.OEk(5),e.C$Y(),e.I0R(6,"span",79),e.OEk(7),e.C$Y()()(),e.k70()),2&i){const t=r.$implicit;e.yG2(),e.E7m("value",t.iso),e.yG2(2),e.m4B("background","url('/assets/images/countries/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",t.flagImagePos),e.yG2(2),e.cNF(t.name),e.yG2(2),e.cNF(t.code)}}function De(i,r){1&i&&(e.I0R(0,"mat-label"),e.OEk(1,"Label"),e.C$Y())}function Oe(i,r){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",71)(2,"button",72),e.qCj("click",function(){e.usT(t);const a=e.GaO().index,o=e.GaO();return e.CGJ(o.removePhoneNumberField(a))}),e.wR5(3,"mat-icon",31),e.C$Y()(),e.k70()}if(2&i){const t=e.GaO().first;e.yG2(),e.E7m("ngClass",e.S45(2,$,t)),e.yG2(2),e.E7m("svgIcon","heroicons_solid:trash")}}function Fe(i,r){if(1&i&&(e.SAx(0),e.I0R(1,"div",73)(2,"mat-form-field",67),e.yuY(3,we,2,0,"mat-label",23),e.wR5(4,"input",70),e.I0R(5,"mat-select",74)(6,"mat-select-trigger")(7,"span",48),e.wR5(8,"span",75),e.I0R(9,"span",76),e.OEk(10),e.C$Y()()(),e.yuY(11,Te,8,9,"ng-container",29),e.C$Y()(),e.I0R(12,"mat-form-field",69),e.yuY(13,De,2,0,"mat-label",23),e.wR5(14,"mat-icon",20)(15,"input",70),e.C$Y(),e.yuY(16,Oe,4,4,"ng-container",23),e.C$Y(),e.k70()),2&i){const t=r.$implicit,n=r.first,a=r.last,o=e.GaO();e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("ngIf",n),e.yG2(),e.E7m("formControl",t.get("phoneNumber"))("placeholder","Phone"),e.yG2(),e.E7m("formControl",t.get("country")),e.yG2(3),e.m4B("background","url('/assets/images/countries/flags.png') no-repeat 0 0")("background-size","24px 3876px")("background-position",o.getCountryByIso(t.get("country").value).flagImagePos),e.yG2(2),e.cNF(o.getCountryByIso(t.get("country").value).code),e.yG2(),e.E7m("ngForOf",o.countries)("ngForTrackBy",o.trackByFn),e.yG2(),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("ngIf",n),e.yG2(),e.E7m("svgIcon","heroicons_solid:tag"),e.yG2(),e.E7m("formControl",t.get("label"))("placeholder","Label"),e.yG2(),e.E7m("ngIf",!(n&&a))}}const $e=()=>["../"];let Ye=(()=>{class i{constructor(t,n,a,o,s,u,k,Ne,Pe,Me){this._activatedRoute=t,this._changeDetectorRef=n,this._beneficiariesComponent=a,this._beneficiariesService=o,this._formBuilder=s,this._fuseConfirmationService=u,this._renderer2=k,this._router=Ne,this._overlay=Pe,this._viewContainerRef=Me,this.editMode=!0,this.tagsEditMode=!1,this._unsubscribeAll=new w.E}ngOnInit(){this._beneficiariesComponent.matDrawer.open(),this.individualForm=this._formBuilder.group({id:[""],avatar:[null],name:["",[m.AQ.required]],emails:this._formBuilder.array([]),phoneNumbers:this._formBuilder.array([]),title:[""],company:[""],birthday:[null],address:[null],notes:[null],tags:[[]]}),this._beneficiariesService.getIndividuals().pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.individuals=t,this._changeDetectorRef.markForCheck()}),this._beneficiariesService.individual$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this._beneficiariesComponent.matDrawer.open(),this.individual=t,this.individualForm.get("emails").clear(),this.individualForm.get("phoneNumbers").clear(),this.individualForm.patchValue(t);const n=[];t.emails.length>0?t.emails.forEach(o=>{n.push(this._formBuilder.group({email:[o.email],label:[o.label]}))}):n.push(this._formBuilder.group({email:[""],label:[""]})),n.forEach(o=>{this.individualForm.get("emails").push(o)});const a=[];t.phoneNumbers.length>0?t.phoneNumbers.forEach(o=>{a.push(this._formBuilder.group({country:[o.country],phoneNumber:[o.phoneNumber],label:[o.label]}))}):a.push(this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]})),a.forEach(o=>{this.individualForm.get("phoneNumbers").push(o)}),this._changeDetectorRef.markForCheck()}),this._beneficiariesService.countries$.pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.countries=t,this._changeDetectorRef.markForCheck()}),this.editMode=!1,this._beneficiariesService.getTags().pipe((0,d.a)(this._unsubscribeAll)).subscribe(t=>{this.tags=t,this.filteredTags=t,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.dispose()}closeDrawer(){return this._beneficiariesComponent.matDrawer.close()}toggleEditMode(t=null){this.closeDrawer()}updateIndividual(){const t=this.individualForm.getRawValue();t.emails=t.emails.filter(n=>n.email),t.phoneNumbers=t.phoneNumbers.filter(n=>n.phoneNumber),this._beneficiariesService.updateIndividual(t.id,t).subscribe(()=>{this.closeDrawer()})}deleteIndividual(){this._fuseConfirmationService.open({title:"Delete individual",message:"Are you sure you want to delete this individual? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(n=>{if("confirmed"===n){const a=this.individual.id,o=this.individuals.findIndex(k=>k.id===a),u=1===this.individuals.length&&this.individuals[0].id===a?null:this.individuals[o+(o===this.individuals.length-1?-1:1)].id;this._beneficiariesService.deleteIndividual(a).subscribe(k=>{k&&(this._router.navigate(u?["../",u]:["../"],{relativeTo:this._activatedRoute}),this.toggleEditMode(!1))}),this._changeDetectorRef.markForCheck()}})}uploadAvatar(t){if(!t.length)return;const a=t[0];["image/jpeg","image/png"].includes(a.type)&&this._beneficiariesService.uploadAvatar(this.individual.id,a).subscribe()}removeAvatar(){this.individualForm.get("avatar").setValue(null),this._avatarFileInput.nativeElement.value=null,this.individual.avatar=null}openTagsPanel(){this._tagsPanelOverlayRef=this._overlay.create({backdropClass:"",hasBackdrop:!0,scrollStrategy:this._overlay.scrollStrategies.block(),positionStrategy:this._overlay.position().flexibleConnectedTo(this._tagsPanelOrigin.nativeElement).withFlexibleDimensions(!0).withViewportMargin(64).withLockedPosition(!0).withPositions([{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"}])}),this._tagsPanelOverlayRef.attachments().subscribe(()=>{this._renderer2.addClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef.overlayElement.querySelector("input").focus()});const t=new ie.CC(this._tagsPanel,this._viewContainerRef);this._tagsPanelOverlayRef.attach(t),this._tagsPanelOverlayRef.backdropClick().subscribe(()=>{this._renderer2.removeClass(this._tagsPanelOrigin.nativeElement,"panel-opened"),this._tagsPanelOverlayRef&&this._tagsPanelOverlayRef.hasAttached()&&(this._tagsPanelOverlayRef.detach(),this.filteredTags=this.tags,this.tagsEditMode=!1),t&&t.isAttached&&t.detach()})}toggleTagsEditMode(){this.tagsEditMode=!this.tagsEditMode}filterTags(t){const n=t.target.value.toLowerCase();this.filteredTags=this.tags.filter(a=>a.title.toLowerCase().includes(n))}filterTagsInputKeyDown(t){if("Enter"!==t.key)return;if(0===this.filteredTags.length)return this.createTag(t.target.value),void(t.target.value="");const n=this.filteredTags[0];this.individual.tags.find(o=>o===n.id)?this.removeTagFromIndividual(n):this.addTagToIndividual(n)}createTag(t){this._beneficiariesService.createTag({title:t}).subscribe(a=>{this.addTagToIndividual(a)})}updateTagTitle(t,n){t.title=n.target.value,this._beneficiariesService.updateTag(t.id,t).pipe((0,ae.o)(300)).subscribe(),this._changeDetectorRef.markForCheck()}deleteTag(t){this._beneficiariesService.deleteTag(t.id).subscribe(),this._changeDetectorRef.markForCheck()}addTagToIndividual(t){this.individual.tags.unshift(t.id),this.individualForm.get("tags").patchValue(this.individual.tags),this._changeDetectorRef.markForCheck()}removeTagFromIndividual(t){this.individual.tags.splice(this.individual.tags.findIndex(n=>n===t.id),1),this.individualForm.get("tags").patchValue(this.individual.tags),this._changeDetectorRef.markForCheck()}toggleIndividualTag(t){this.individual.tags.includes(t.id)?this.removeTagFromIndividual(t):this.addTagToIndividual(t)}shouldShowCreateTagButton(t){return!(""===t||this.tags.findIndex(n=>n.title.toLowerCase()===t.toLowerCase())>-1)}addEmailField(){const t=this._formBuilder.group({email:[""],label:[""]});this.individualForm.get("emails").push(t),this._changeDetectorRef.markForCheck()}removeEmailField(t){this.individualForm.get("emails").removeAt(t),this._changeDetectorRef.markForCheck()}addPhoneNumberField(){const t=this._formBuilder.group({country:["us"],phoneNumber:[""],label:[""]});this.individualForm.get("phoneNumbers").push(t),this._changeDetectorRef.markForCheck()}removePhoneNumberField(t){this.individualForm.get("phoneNumbers").removeAt(t),this._changeDetectorRef.markForCheck()}getCountryByIso(t){return this.countries.find(n=>n.iso===t)}trackByFn(t,n){return n.id||t}static#e=this.\u0275fac=function(n){return new(n||i)(e.GI1(f.gV),e.GI1(e.kD9),e.GI1(D),e.GI1(v.O),e.GI1(m.KE),e.GI1(oe.q),e.GI1(e.q87),e.GI1(f.E5),e.GI1(re.mc),e.GI1(e.y8U))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["beneficiaries-detail"]],viewQuery:function(n,a){if(1&n&&(e.CC$(le,5),e.CC$(se,5),e.CC$(ce,5)),2&n){let o;e.wto(o=e.Gqi())&&(a._avatarFileInput=o.first),e.wto(o=e.Gqi())&&(a._tagsPanel=o.first),e.wto(o=e.Gqi())&&(a._tagsPanelOrigin=o.first)}},standalone:!0,features:[e.UHJ],decls:90,vars:55,consts:[[1,"flex","flex-col","w-full"],[1,"relative","w-full","h-40","sm:h-48","px-8","sm:px-12","bg-accent-100","dark:bg-accent-700"],[1,"flex","items-center","justify-end","w-full","max-w-3xl","mx-auto","pt-6"],["mat-icon-button","",3,"matTooltip","routerLink"],[1,"text-white",3,"svgIcon"],[1,"relative","flex","flex-col","flex-auto","items-center","px-6","sm:px-12"],[1,"w-full","max-w-3xl"],[3,"formGroup"],[1,"flex","flex-auto","items-end","-mt-16"],[1,"relative","flex","items-center","justify-center","w-32","h-32","rounded-full","overflow-hidden","ring-4","ring-bg-card"],[1,"absolute","inset-0","bg-black","bg-opacity-50","z-10"],[1,"absolute","inset-0","flex","items-center","justify-center","z-20"],["id","avatar-file-input","type","file",1,"absolute","h-0","w-0","opacity-0","invisible","pointer-events-none",3,"multiple","accept","change"],["avatarFileInput",""],["for","avatar-file-input","matRipple","",1,"flex","items-center","justify-center","w-10","h-10","rounded-full","cursor-pointer","hover:bg-hover"],["mat-icon-button","",3,"click"],["class","object-cover w-full h-full",3,"src",4,"ngIf"],["class","flex items-center justify-center w-full h-full rounded overflow-hidden uppercase text-8xl font-bold leading-none bg-gray-200 text-gray-600 dark:bg-gray-700 dark:text-gray-200",4,"ngIf"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","placeholder","spellcheck"],[1,"flex","flex-wrap","items-center","-m-1.5","mt-6"],[4,"ngIf"],[1,"flex","items-center","justify-center","px-4","m-1.5","rounded-full","leading-9","cursor-pointer","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700",3,"click"],["tagsPanelOrigin",""],["tagsPanel",""],["matInput","",3,"formControlName","placeholder"],[1,"space-y-4"],[4,"ngFor","ngForOf","ngForTrackBy"],[1,"group","inline-flex","items-center","mt-2","-ml-4","py-2","px-4","rounded","cursor-pointer",3,"click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2","font-medium","text-secondary","group-hover:underline"],["matInput","",3,"matDatepicker","formControlName","placeholder"],["matSuffix","",3,"for"],["birthdayDatepicker",""],["matInput","","cdkTextareaAutosize","",3,"formControlName","placeholder","rows","spellcheck"],[1,"flex","items-center","mt-10","-mx-6","sm:-mx-12","py-4","pr-4","pl-1","sm:pr-12","sm:pl-7","border-t","bg-gray-50","dark:bg-transparent"],["mat-button","",3,"color","matTooltip","click"],["mat-button","",1,"ml-auto",3,"matTooltip","click"],["mat-flat-button","",1,"ml-2",3,"color","disabled","matTooltip","click"],[1,"object-cover","w-full","h-full",3,"src"],[1,"flex","items-center","justify-center","w-full","h-full","rounded","overflow-hidden","uppercase","text-8xl","font-bold","leading-none","bg-gray-200","text-gray-600","dark:bg-gray-700","dark:text-gray-200"],[1,"flex","items-center","justify-center","px-4","m-1.5","rounded-full","leading-9","text-gray-500","bg-gray-100","dark:text-gray-300","dark:bg-gray-700"],[1,"text-md","font-medium","whitespace-nowrap"],[1,"ml-1.5","text-md","font-medium","whitespace-nowrap"],[1,"w-60","rounded","border","shadow-md","bg-card"],[1,"flex","items-center","m-3","mr-2"],[1,"flex","items-center"],[1,"ml-2"],["type","text","placeholder","Enter tag name",1,"w-full","min-w-0","py-1","border-0",3,"maxLength","input","keydown"],["newTagInput",""],["mat-icon-button","",1,"ml-1",3,"click"],["class","icon-size-5",3,"svgIcon",4,"ngIf"],[1,"flex","flex-col","max-h-64","py-2","border-t","overflow-y-auto"],["class","flex items-center h-10 min-h-10 -ml-0.5 pl-4 pr-3 leading-none cursor-pointer hover:bg-hover","matRipple","",3,"click",4,"ngIf"],["matRipple","",1,"flex","items-center","h-10","min-h-10","pl-1","pr-4","cursor-pointer","hover:bg-hover",3,"click"],[1,"flex","items-center","h-10","min-h-10","pointer-events-none",3,"checked","color","disableRipple"],[1,"py-2","space-y-2"],[1,"fuse-mat-dense","w-full","mx-4",3,"subscriptSizing"],["matInput","",3,"value","input"],["mat-icon-button","","matSuffix","",3,"click"],[1,"icon-size-5","ml-2",3,"svgIcon"],["matRipple","",1,"flex","items-center","h-10","min-h-10","-ml-0.5","pl-4","pr-3","leading-none","cursor-pointer","hover:bg-hover",3,"click"],[1,"mr-2","icon-size-5",3,"svgIcon"],[1,"break-all"],[1,"flex"],[1,"flex-auto",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder","spellcheck"],[1,"flex-auto","w-full","max-w-24","sm:max-w-40","ml-2","sm:ml-4",3,"subscriptSizing"],["matInput","",3,"formControl","placeholder"],[1,"flex","items-center","w-10","pl-2",3,"ngClass"],["mat-icon-button","","matTooltip","Remove",1,"w-8","h-8","min-h-8",3,"click"],[1,"relative","flex"],["matPrefix","",1,"mr-1.5",3,"formControl"],[1,"hidden","sm:flex","w-6","h-4","mr-1","overflow-hidden"],[1,"sm:mx-0.5","font-medium","text-default"],[3,"value"],[1,"w-6","h-4","overflow-hidden"],[1,"ml-2","font-medium"]],template:function(n,a){if(1&n){const o=e.KQA();e.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"a",3),e.wR5(4,"mat-icon",4),e.C$Y()()(),e.I0R(5,"div",5)(6,"div",6)(7,"form",7)(8,"div",8)(9,"div",9),e.wR5(10,"div",10),e.I0R(11,"div",11)(12,"div")(13,"input",12,13),e.qCj("change",function(){e.usT(o);const u=e.Gew(14);return e.CGJ(a.uploadAvatar(u.files))}),e.C$Y(),e.I0R(15,"label",14),e.wR5(16,"mat-icon",4),e.C$Y()(),e.I0R(17,"div")(18,"button",15),e.qCj("click",function(){return a.removeAvatar()}),e.wR5(19,"mat-icon",4),e.C$Y()()(),e.yuY(20,me,1,1,"img",16)(21,de,2,1,"div",17),e.C$Y()(),e.I0R(22,"div",18)(23,"mat-form-field",19)(24,"mat-label"),e.OEk(25,"Name"),e.C$Y(),e.wR5(26,"mat-icon",20)(27,"input",21),e.C$Y()(),e.I0R(28,"div",22),e.yuY(29,fe,3,6,"ng-container",23),e.I0R(30,"div",24,25),e.qCj("click",function(){return a.openTagsPanel()}),e.yuY(32,pe,4,1,"ng-container",23)(33,ge,4,1,"ng-container",23)(34,ke,14,7,"ng-template",null,26,e.gJz),e.C$Y()(),e.I0R(36,"div",18)(37,"mat-form-field",19)(38,"mat-label"),e.OEk(39,"Title"),e.C$Y(),e.wR5(40,"mat-icon",20)(41,"input",27),e.C$Y()(),e.I0R(42,"div",18)(43,"mat-form-field",19)(44,"mat-label"),e.OEk(45,"Company"),e.C$Y(),e.wR5(46,"mat-icon",20)(47,"input",27),e.C$Y()(),e.I0R(48,"div",18)(49,"div",28),e.yuY(50,Ee,11,12,"ng-container",29),e.C$Y(),e.I0R(51,"div",30),e.qCj("click",function(){return a.addEmailField()}),e.wR5(52,"mat-icon",31),e.I0R(53,"span",32),e.OEk(54,"Add an email address"),e.C$Y()()(),e.I0R(55,"div",18)(56,"div",28),e.yuY(57,Fe,17,20,"ng-container",29),e.C$Y(),e.I0R(58,"div",30),e.qCj("click",function(){return a.addPhoneNumberField()}),e.wR5(59,"mat-icon",31),e.I0R(60,"span",32),e.OEk(61,"Add a phone number"),e.C$Y()()(),e.I0R(62,"div",18)(63,"mat-form-field",19)(64,"mat-label"),e.OEk(65,"Address"),e.C$Y(),e.wR5(66,"mat-icon",20)(67,"input",27),e.C$Y()(),e.I0R(68,"div",18)(69,"mat-form-field",19)(70,"mat-label"),e.OEk(71,"Birthday"),e.C$Y(),e.wR5(72,"mat-icon",20)(73,"input",33)(74,"mat-datepicker-toggle",34)(75,"mat-datepicker",null,35),e.C$Y()(),e.I0R(77,"div",18)(78,"mat-form-field",19)(79,"mat-label"),e.OEk(80,"Notes"),e.C$Y(),e.wR5(81,"mat-icon",20)(82,"textarea",36),e.C$Y()(),e.I0R(83,"div",37)(84,"button",38),e.qCj("click",function(){return a.deleteIndividual()}),e.OEk(85," Delete "),e.C$Y(),e.I0R(86,"button",39),e.qCj("click",function(){return a.toggleEditMode(!1)}),e.OEk(87," Cancel "),e.C$Y(),e.I0R(88,"button",40),e.qCj("click",function(){return a.updateIndividual()}),e.OEk(89," Save "),e.C$Y()()()()()()}if(2&n){const o=e.Gew(76);e.yG2(3),e.E7m("matTooltip","Close")("routerLink",e.q4q(54,$e)),e.yG2(),e.E7m("svgIcon","heroicons_outline:x-mark"),e.yG2(3),e.E7m("formGroup",a.individualForm),e.yG2(6),e.E7m("multiple",!1)("accept","image/jpeg, image/png"),e.yG2(3),e.E7m("svgIcon","heroicons_outline:camera"),e.yG2(3),e.E7m("svgIcon","heroicons_outline:trash"),e.yG2(),e.E7m("ngIf",null==a.individual?null:a.individual.avatar),e.yG2(),e.E7m("ngIf",!(null!=a.individual&&a.individual.avatar)),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:user-circle"),e.yG2(),e.E7m("formControlName","name")("placeholder","Name")("spellcheck",!1),e.yG2(2),e.E7m("ngIf",null==a.individual?null:a.individual.tags.length),e.yG2(3),e.E7m("ngIf",null==a.individual?null:a.individual.tags.length),e.yG2(),e.E7m("ngIf",!(null!=a.individual&&a.individual.tags.length)),e.yG2(4),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:briefcase"),e.yG2(),e.E7m("formControlName","title")("placeholder","Job title"),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:building-office-2"),e.yG2(),e.E7m("formControlName","company")("placeholder","Company"),e.yG2(3),e.E7m("ngForOf",a.individualForm.get("emails").controls)("ngForTrackBy",a.trackByFn),e.yG2(2),e.E7m("svgIcon","heroicons_solid:plus-circle"),e.yG2(5),e.E7m("ngForOf",a.individualForm.get("phoneNumbers").controls)("ngForTrackBy",a.trackByFn),e.yG2(2),e.E7m("svgIcon","heroicons_solid:plus-circle"),e.yG2(4),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:map-pin"),e.yG2(),e.E7m("formControlName","address")("placeholder","Address"),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:cake"),e.yG2(),e.E7m("matDatepicker",o)("formControlName","birthday")("placeholder","Birthday"),e.yG2(),e.E7m("for",o),e.yG2(4),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("svgIcon","heroicons_solid:bars-3-bottom-left"),e.yG2(),e.E7m("formControlName","notes")("placeholder","Notes")("rows",5)("spellcheck",!1),e.yG2(2),e.E7m("color","warn")("matTooltip","Delete"),e.yG2(2),e.E7m("matTooltip","Cancel"),e.yG2(2),e.E7m("color","primary")("disabled",a.individualForm.invalid)("matTooltip","Save")}},dependencies:[p.u_,h.oJ,h.Gw,h.cP,h.um,x.KO,x.a4,f.ER,y.oB,y.qL,p.Iw,m.y,m.sz,m.ot,m.ue,m.u,m.sl,m.ug,m.uW,m.Wo,I.KE,I.UZ,g.wb,g.Up,g.w5,g.is,g.Gm,G.cN,G.yi,O.Qn,F.Vn,F.WK,p.QF,_.d5,_.kX,_.gl,I.I5,I.Ax,E.iU,E.SU,E.Ul,E.yu,O.aC,ne.w],encapsulation:2,changeDetection:0})}return i})();var Be=l(7030),Se=l(6936);const Ae=[{path:"",component:D,resolve:{individual:()=>(0,e.uUt)(v.O).getIndividuals(),countries:()=>(0,e.uUt)(v.O).getCountries()},children:[{path:":id",component:Ye,resolve:{individual:(i,r)=>{const t=(0,e.uUt)(v.O),n=(0,e.uUt)(f.E5);return t.getIndividualById(i.paramMap.get("id")).pipe((0,Be.a)(a=>{console.error(a);const o=r.url.split("/").slice(0,-1).join("/");return n.navigateByUrl(o),(0,Se.c)(a)}))},countries:()=>(0,e.uUt)(v.O).getCountries()},canDeactivate:[(i,r,t,n)=>{let a=n.root;for(;a.firstChild;)a=a.firstChild;return!(n.url.includes("/beneficiaries")&&!a.paramMap.get("id"))||i.closeDrawer().then(()=>!0)}]}]}]}}]);