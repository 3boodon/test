"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[724],{8104:(Je,O,r)=>{r.r(O),r.d(O,{default:()=>Be});var e=r(6568),d=r(9240),z=r(7030),V=r(6936),h=r(3848);let P=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(o){return new(o||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["vehicles"]],standalone:!0,features:[e.UHJ],decls:1,vars:0,template:function(o,n){1&o&&e.wR5(0,"router-outlet")},dependencies:[h.MD,d.cP],encapsulation:2,changeDetection:0})}return i})();var p=r(9512),j=r(6752),T=r(7804),_=r(2556),C=r(6524),u=r(324),I=r(8240),Q=r(9020),Y=r(6820),g=r(8168),J=r(3328),y=r(8083),$=r(6312),s=r(4332),S=r(5528),F=r(8608),f=r(4832),R=r(4320),b=r(6764),x=r(6272),D=r(1952),q=r(6488),A=r(4088);let w=(()=>{class i{constructor(t,o){this._httpClient=t,this._wealthApi=o,this.apiUrl="https://alwasiah-001-site1.btempurl.com/api/Vehicle",this._vehicle=new F.g(null),this._vehicles=new F.g(null),this._unsubscribeAll=new Y.E,this.dropDownMenu="https://alwasiah-001-site1.btempurl.com/api/VehicleType"}get vehicle$(){return this._vehicle.asObservable()}get vehicles$(){return this._vehicles.asObservable()}getDropDownMenuData(){return this._httpClient.get(this.dropDownMenu)}loadDropDownMenuData(){this.getDropDownMenuData().pipe((0,f.U)(1),(0,R.y)(t=>{console.log(t)})).subscribe()}getVehicles(t="mock"){return"mock"==t?this._httpClient.get("api/debt-management/debts").pipe((0,R.y)(o=>{console.log(o),this._vehicles.next(o)})):this._wealthApi.getVehicle("base").pipe((0,R.y)(o=>{console.log(o),this._vehicles.next(o)}))}createVehicle(t,o="mock"){return this.getVehicles("base").pipe((0,g.a)(this._unsubscribeAll)).subscribe(n=>{console.log("data  ",n),this._vehicles.next(n)}),this.vehicles$.pipe((0,f.U)(1),(0,b.G)("base"==o?n=>this._wealthApi.postvehicle("base",{type:t}).pipe((0,x.k)(l=>(console.log("newvehicle ",l),this._vehicles.next([l,...n]),l))):n=>this._httpClient.post("api/debt-management/debt",{type:t}).pipe((0,x.k)(l=>(this._vehicles.next([l,...n]),l)))))}addVehicle(t){const o=new S.UD({"Content-Type":"application/json"});return this._httpClient.post(this.apiUrl,t,{headers:o,responseType:"text"})}updatevehicle(t,o,n="mock"){return this.vehicles$.pipe((0,f.U)(1),(0,b.G)("base"==n?l=>this._wealthApi.patchvehicle("base",{id:t,vehicle:o}).pipe((0,x.k)(a=>{const m=l.findIndex(v=>v.id.toString()===t);return l[m]=a,this._vehicles.next(l),a}),(0,b.G)(a=>this.vehicle$.pipe((0,f.U)(1),(0,D.I)(m=>m&&m.id===t),(0,R.y)(()=>(this._vehicle.next(a),a))))):l=>this._httpClient.patch("api/debt-management/debt",{id:t,vehicle:o}).pipe((0,x.k)(a=>{const m=l.findIndex(v=>v.id.toString()===t);return l[m]=a,this._vehicles.next(l),a}),(0,b.G)(a=>this.vehicle$.pipe((0,f.U)(1),(0,D.I)(m=>m&&m.id===t),(0,R.y)(()=>(this._vehicle.next(a),a)))))))}deletevehicle(t){return this.vehicles$.pipe((0,f.U)(1),(0,b.G)(o=>this._httpClient.delete("api/debt-management/debt",{params:{id:t}}).pipe((0,x.k)(n=>{const l=o.findIndex(a=>a.id===t);return o.splice(l,1),this._vehicles.next(o),n}))))}getvehicleById(t){return this._vehicles.pipe((0,f.U)(1),(0,x.k)(o=>{const n=o.find(l=>l.id.toString()===t)||null;return this._vehicle.next(n),n}),(0,b.G)(o=>o?(0,q.of)(o):(0,V.c)("Could not found vehicle with id of "+t+"!")))}static#e=this.\u0275fac=function(o){return new(o||i)(e.CoB(S.KK),e.CoB(A.u))};static#t=this.\u0275prov=e.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var E=r(6300);const L=["matDrawer"];function H(i,c){if(1&i&&(e.SAx(0),e.OEk(1),e.k70()),2&i){const t=e.GaO(2);e.yG2(),e.oRS(" ",t.vehicleCount," ")}}const K=()=>({"=0":"No vehicles","=1":"vehicle",other:"vehicles"});function W(i,c){if(1&i&&(e.SAx(0),e.I0R(1,"div",43),e.OEk(2," Vehicles "),e.C$Y(),e.I0R(3,"div",44),e.yuY(4,H,2,1,"ng-container",45),e.OEk(5),e.wVc(6,"i18nPlural"),e.C$Y(),e.k70()),2&i){const t=e.GaO();e.yG2(4),e.E7m("ngIf",t.vehicleCount>0),e.yG2(),e.oRS(" ",e.g7$(6,2,t.vehicleCount,e.q4q(5,K))," ")}}function Z(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1,"description"),e.C$Y())}const X=(i,c,t)=>({"bg-blue-500":i,"bg-red-500":c,"bg-green-500":t});function ee(i,c){if(1&i&&(e.I0R(0,"td",47)(1,"span",48),e.wR5(2,"span",49),e.I0R(3,"span",50),e.OEk(4),e.C$Y()()()),2&i){const t=c.$implicit;e.yG2(2),e.E7m("ngClass",e.uAc(2,X,3===t.id,5===t.id,6===t.id)),e.yG2(2),e.cNF(t.description)}}function te(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1,"brand"),e.C$Y())}function ie(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52),e.OEk(2),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(2),e.oRS(" ",t.brandId," ")}}function oe(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1,"model"),e.C$Y())}function ne(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52),e.OEk(2),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(2),e.oRS(" ",t.modeId," ")}}function le(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1,"color"),e.C$Y())}function re(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52),e.OEk(2),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(2),e.oRS(" ",t.color," ")}}function ce(i,c){1&i&&e.wR5(0,"th",46)}function se(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52),e.OEk(2),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(2),e.oRS(" ",t.yearOfConstruction," ")}}function ae(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1,"Acquisition Cost"),e.C$Y())}function me(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52)(2,"span",53),e.OEk(3,"$"),e.C$Y(),e.OEk(4),e.wVc(5,"currency"),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(4),e.oRS("",e.wB1(5,1,t.acquisitionCost," ","symbol","1.2-2")," ")}}function ue(i,c){1&i&&(e.I0R(0,"th",46),e.OEk(1," Acquisition Date"),e.C$Y())}function he(i,c){if(1&i&&(e.I0R(0,"td",51)(1,"span",52),e.OEk(2),e.wVc(3,"date"),e.C$Y()()),2&i){const t=c.$implicit;e.yG2(2),e.oRS(" ",e.g7$(3,1,t.acquisitionDate,"yyyy-mm-dd")," ")}}function de(i,c){1&i&&e.wR5(0,"tr",54)}function pe(i,c){if(1&i){const t=e.KQA();e.I0R(0,"tr",55),e.qCj("click",function(){const l=e.usT(t).$implicit,a=e.GaO();return e.CGJ(a.clickedRows(l))}),e.C$Y()}}let M=(()=>{class i{constructor(t,o,n,l){this._vehicleService=t,this._activatedRoute=o,this._changeDetectorRef=n,this._router=l,this.searchInputControl=new s.yM,this.displayedColumns=["description","brand","model","color","yearOfConstruction","acquisitionDate","acquisitionCost"],this.wealthData=[],this.vehicleCount=0,this._unsubscribeAll=new Y.E}ngOnInit(){this._vehicleService.getVehicles("base").pipe((0,g.a)(this._unsubscribeAll)).subscribe(t=>{this.wealthData=t,this.data=t,this.vehicleCount=t.length,this._changeDetectorRef.markForCheck()})}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}clickedRows(t){this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createVehicle(t){this._vehicleService.createVehicle(t,"mock").subscribe(o=>{this._router.navigate(["./",o.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}addVehicle(){this._router.navigate(["./","add-vehicle"],{relativeTo:this._activatedRoute.parent})}filtervehicles(t){this.data=t?this.wealthData.filter(o=>o.description.toLowerCase().includes(t.toLowerCase())):this.wealthData}trackByFn(t,o){return o.id||t}closeDrawer(){return null}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#e=this.\u0275fac=function(o){return new(o||i)(e.GI1(w),e.GI1(d.gV),e.GI1(e.kD9),e.GI1(d.E5))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["vehicles-table"]],viewQuery:function(o,n){if(1&o&&e.CC$(L,7),2&o){let l;e.wto(l=e.Gqi())&&(n.matDrawer=l.first)}},standalone:!0,features:[e.UHJ],decls:67,vars:18,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-8"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[4,"transloco"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"matMenuTriggerFor","color"],["moreMenu","matMenu"],["mat-menu-item",""],[3,"svgIcon"],[1,"flex-auto","mb-8"],[1,"fuse-mat-rounded","fuse-mat-dense","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchField",""],[1,"w-full","max-w-screen-xl","mx-auto","p-4","lg:p-6"],[1,"grid","grid-cols-1","gap-8","w-full"],[1,"col-span2","flex","flex-col","flex-auto","pt-6","px-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"min-w-240","overflow-y-visible",3,"dataSource"],["matColumnDef","description","sticky",""],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","","class","pt-5",4,"matCellDef"],["matColumnDef","brand"],["mat-cell","",4,"matCellDef"],["matColumnDef","model"],["matColumnDef","color"],["matColumnDef","yearOfConstruction"],["matColumnDef","acquisitionCost"],["matColumnDef","acquisitionDate"],["mat-header-row","","class","h-10",4,"matHeaderRowDef"],["class","hover:cursor-pointer hover:!bg-black","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],[1,"text-2xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],["mat-header-cell",""],["mat-cell","",1,"pt-5"],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"ml-3","leading-4"],["mat-cell",""],[1,"font-medium","text-right"],[2,"color","rgb(0, 81, 255)"],["mat-header-row","",1,"h-10"],["mat-row","",1,"hover:cursor-pointer","hover:!bg-black",3,"click"]],template:function(o,n){if(1&o){const l=e.KQA();e.I0R(0,"div",0)(1,"mat-drawer-container",1),e.qCj("backdropClick",function(){return n.onBackdropClicked()}),e.I0R(2,"mat-drawer",2,3),e.wR5(4,"router-outlet"),e.C$Y(),e.I0R(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),e.yuY(12,W,7,6,"ng-container",11),e.C$Y()(),e.I0R(13,"div",12)(14,"button",13),e.qCj("click",function(){return n.addVehicle()}),e.wR5(15,"mat-icon",14),e.I0R(16,"span",15),e.OEk(17,"Add vehicle"),e.C$Y()(),e.I0R(18,"button",16),e.wR5(19,"mat-icon",14),e.I0R(20,"span",15),e.OEk(21,"Export"),e.C$Y()(),e.I0R(22,"mat-menu",null,17)(24,"button",18),e.wR5(25,"mat-icon",19),e.I0R(26,"span"),e.OEk(27,"as PDF"),e.C$Y()(),e.I0R(28,"button",18),e.wR5(29,"mat-icon",19),e.I0R(30,"span"),e.OEk(31,"as XLS"),e.C$Y()()()()(),e.I0R(32,"div",20)(33,"mat-form-field",21),e.wR5(34,"mat-icon",22),e.I0R(35,"input",23,24),e.qCj("input",function(){e.usT(l);const m=e.Gew(36);return e.CGJ(n.filtervehicles(m.value))}),e.C$Y()()()()(),e.I0R(37,"div",25)(38,"div",26)(39,"div",27)(40,"div",28),e.OEk(41," Vehicles "),e.C$Y(),e.I0R(42,"div",29)(43,"table",30),e.SAx(44,31),e.yuY(45,Z,2,0,"th",32)(46,ee,5,6,"td",33),e.k70(),e.SAx(47,34),e.yuY(48,te,2,0,"th",32)(49,ie,3,1,"td",35),e.k70(),e.SAx(50,36),e.yuY(51,oe,2,0,"th",32)(52,ne,3,1,"td",35),e.k70(),e.SAx(53,37),e.yuY(54,le,2,0,"th",32)(55,re,3,1,"td",35),e.k70(),e.SAx(56,38),e.yuY(57,ce,1,0,"th",32)(58,se,3,1,"td",35),e.k70(),e.SAx(59,39),e.yuY(60,ae,2,0,"th",32)(61,me,6,6,"td",35),e.k70(),e.SAx(62,40),e.yuY(63,ue,2,0,"th",32)(64,he,4,4,"td",35),e.k70(),e.yuY(65,de,1,0,"tr",41)(66,pe,1,0,"tr",42),e.C$Y()()()()()()()()()}if(2&o){const l=e.Gew(23);e.yG2(2),e.E7m("mode",n.drawerMode)("opened",!1)("position","end")("disableClose",!0),e.yG2(12),e.E7m("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_outline:plus"),e.yG2(3),e.E7m("matMenuTriggerFor",l)("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_solid:arrow-up-tray"),e.yG2(6),e.E7m("svgIcon","heroicons_outline:document-text"),e.yG2(4),e.E7m("svgIcon","heroicons_outline:document-text"),e.yG2(4),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("svgIcon","heroicons_solid:magnifying-glass"),e.yG2(),e.E7m("autocomplete","off")("placeholder","Search "),e.yG2(8),e.E7m("dataSource",n.data),e.yG2(22),e.E7m("matHeaderRowDef",n.displayedColumns),e.yG2(),e.E7m("matRowDefColumns",n.displayedColumns)}},dependencies:[I.kJ,I.IZ,_.oB,_.qL,p.oJ,p.Gw,y.cN,y.yi,E.Up,E.is,h.y,T.KE,C._A,C.aM,C.OQ,C.yG,J.w5,j.ue,Q.G,h.u_,u.If,u.wL,u.ie,u.aG,u.Af,u.uc,u.gx,u.qC,u.cX,u.yC,u._I,h.QF,h.cf,$.sb,$.Iz,$.G4,$.q0,d.cP,s.y,h.od,s.sl],encapsulation:2,changeDetection:0})}return i})();var fe=r(6924),ve=r(7280),k=r(568),N=r(3024),Ce=r(3148),U=r(84),be=r(8616),ge=r(4864),ye=r(4248);const ke=["titleField"];function Ie(i,c){if(1&i&&(e.SAx(0),e.OEk(1),e.wVc(2,"date"),e.k70()),2&i){const t=e.GaO();e.yG2(),e.cNF(e.g7$(2,1,t.vehicle.acquisitionDate,"longDate"))}}function Re(i,c){1&i&&(e.SAx(0),e.OEk(1,"Not set"),e.k70())}const xe=()=>["../"],we=(i,c,t)=>({"text-gray-500 bg-gray-100 dark:text-gray-300 dark:bg-gray-700":i,"text-green-800 bg-green-200 dark:text-green-100 dark:bg-green-500":c,"text-red-800 bg-red-200 dark:text-red-100 dark:bg-red-500":t});let Ee=(()=>{class i{constructor(t,o,n,l,a,m,v,ze,Pe,je,Qe){this._activatedRoute=t,this._changeDetectorRef=o,this._formBuilder=n,this._fuseConfirmationService=l,this._renderer2=a,this._router=m,this._vehiclesTableComponent=v,this._vehicleService=ze,this._overlay=Pe,this._viewContainerRef=je,this._wealthApi=Qe,this._unsubscribeAll=new Y.E,this.wealthData=[],this.editMode=!1}ngOnInit(){this._vehiclesTableComponent.matDrawer.open(),this.vehicleForm=this._formBuilder.group({id:[""],description:[""],model:[""],brand:[""],color:[""],AcquisitionCost:[""],acquisitionDate:[""],acquisitionCost:0,depreciationMethod:[null],bookValue:0,energyEfficiencyMeasures:0,safetySecurityFeatures:[0],vehicleSystems:[null]}),this._vehicleService.vehicles$.pipe((0,g.a)(this._unsubscribeAll)).subscribe(t=>{this.vehicles=t,this._changeDetectorRef.markForCheck()}),this._vehicleService.vehicle$.pipe((0,g.a)(this._unsubscribeAll)).subscribe(t=>{this._vehiclesTableComponent.matDrawer.open(),this.vehicle=t,this.vehicleForm.patchValue(t,{emitEvent:!1}),this._changeDetectorRef.markForCheck()}),this.vehicleForm.valueChanges.pipe((0,R.y)(t=>{this.vehicle=(0,Ce.c)(this.vehicle,t)}),(0,be.o)(300),(0,g.a)(this._unsubscribeAll)).subscribe(t=>{this._changeDetectorRef.markForCheck()}),this._router.events.pipe((0,g.a)(this._unsubscribeAll),(0,D.I)(t=>t instanceof d.MT)).subscribe(()=>{this._titleField.nativeElement.focus()})}ngAfterViewInit(){this._vehiclesTableComponent.matDrawer.openedChange.pipe((0,g.a)(this._unsubscribeAll),(0,D.I)(t=>t)).subscribe(()=>{this._titleField.nativeElement.focus()})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}closeDrawer(){return this._vehiclesTableComponent.matDrawer.close()}isOverdue(){return U.CS.fromISO(this.vehicle.acquisitionDate.toString()).startOf("day")<U.CS.now().startOf("day")}updatevehicle(){const t=this.vehicleForm.getRawValue();this._vehicleService.updatevehicle(t.id,t,"base").subscribe(()=>{this.toggleEditMode(!1)})}toggleEditMode(t=null){this.editMode=null===t?!this.editMode:t,this._changeDetectorRef.markForCheck()}deletevehicle(){this._fuseConfirmationService.open({title:"Delete vehicle",message:"Are you sure you want to delete this vehicle? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(o=>{if("confirmed"===o){const n=this.vehicle.id,l=this.vehicles.findIndex(v=>v.id===n),m=1===this.vehicles.length&&this.vehicles[0].id===n?null:this.vehicles[l+(l===this.vehicles.length-1?-1:1)].id;this._vehicleService.deletevehicle(n).subscribe(v=>{v&&this._router.navigate(m?["../",m]:["../"],{relativeTo:this._activatedRoute})}),this._changeDetectorRef.markForCheck()}})}trackByFn(t,o){return o.id||t}static#e=this.\u0275fac=function(o){return new(o||i)(e.GI1(d.gV),e.GI1(e.kD9),e.GI1(s.KE),e.GI1(ge.q),e.GI1(e.q87),e.GI1(d.E5),e.GI1(M),e.GI1(w),e.GI1(ye.mc),e.GI1(e.y8U),e.GI1(A.u))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["details-vehicles"]],viewQuery:function(o,n){if(1&o&&e.CC$(ke,5),2&o){let l;e.wto(l=e.Gqi())&&(n._titleField=l.first)}},standalone:!0,features:[e.UHJ],decls:94,vars:52,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"svgIcon"],["moreMenu","matMenu"],["mat-menu-item","",3,"click"],["mat-icon-button","",3,"routerLink"],[1,"mt-6","mb-4"],[1,"w-full","mt-4",3,"subscriptSizing"],["matInput","","cdkTextareaAutosize","",3,"formControlName","spellcheck"],["titleField",""],[1,"w-full","mt-1",3,"subscriptSizing"],[1,"flex","flex-wrap","items-center","mt-4"],[1,"ml-4"],[1,"font-medium"],[1,"text-lg"],[1,"relative","flex","items-center","mt-1.5","px-4","leading-9","rounded-full","cursor-pointer",3,"ngClass","click"],[1,"icon-size-5","text-current",3,"svgIcon"],[1,"ml-2","text-md","font-medium"],[4,"ngIf"],[1,"fuse-mat-dense","invisible","absolute","inset-0","-mt-2.5","opacity-0","pointer-events-none",3,"subscriptSizing"],["matInput","",3,"formControlName","matDatepicker"],["dueDatePicker",""],["mat-button","","matDatepickerCancel","",3,"click"],["mat-flat-button","","matDatepickerApply","",1,"",3,"color"],["mat-button","",1,"mt-2",3,"click"],[1,"flex","items-center","justify-center"],[1,"font-semibold"]],template:function(o,n){if(1&o){const l=e.KQA();e.I0R(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"button",4),e.wR5(5,"mat-icon",5),e.C$Y(),e.I0R(6,"mat-menu",null,6)(8,"button",7),e.qCj("click",function(){return n.deletevehicle()}),e.wR5(9,"mat-icon",5),e.I0R(10,"span"),e.OEk(11,"Delete"),e.C$Y()()(),e.I0R(12,"a",8),e.wR5(13,"mat-icon",5),e.C$Y()()(),e.wR5(14,"mat-divider",9),e.I0R(15,"div")(16,"mat-form-field",10)(17,"mat-label"),e.OEk(18,"description"),e.C$Y(),e.wR5(19,"input",11,12),e.C$Y()(),e.I0R(21,"div")(22,"mat-form-field",10)(23,"mat-label"),e.OEk(24,"brand"),e.C$Y(),e.wR5(25,"input",11),e.C$Y()(),e.I0R(26,"div")(27,"mat-form-field",10)(28,"mat-label"),e.OEk(29,"model"),e.C$Y(),e.wR5(30,"input",11),e.C$Y()(),e.I0R(31,"div")(32,"mat-form-field",10)(33,"mat-label"),e.OEk(34,"color"),e.C$Y(),e.wR5(35,"input",11),e.C$Y()(),e.I0R(36,"div")(37,"mat-form-field",13)(38,"mat-label"),e.OEk(39,"Acquisition Date\t"),e.C$Y(),e.wR5(40,"input",11),e.C$Y()(),e.I0R(41,"div",14)(42,"div",15),e.wR5(43,"div",16),e.I0R(44,"mat-label",17),e.OEk(45,"Acquisition Cost"),e.C$Y(),e.I0R(46,"div",18),e.qCj("click",function(){e.usT(l);const m=e.Gew(54);return e.CGJ(m.open())}),e.wR5(47,"mat-icon",19),e.I0R(48,"span",20),e.yuY(49,Ie,3,4,"ng-container",21)(50,Re,2,0,"ng-container",21),e.C$Y(),e.I0R(51,"mat-form-field",22),e.wR5(52,"input",23),e.I0R(53,"mat-datepicker",null,24)(55,"mat-datepicker-actions")(56,"button",25),e.qCj("click",function(){return n.vehicleForm.get("acquisitionDate").setValue(null)}),e.OEk(57," Clear "),e.C$Y(),e.I0R(58,"button",26),e.OEk(59," Select "),e.C$Y()()()()()()(),e.I0R(60,"div")(61,"mat-form-field",10)(62,"mat-label"),e.OEk(63,"Acquisition Cost"),e.C$Y(),e.wR5(64,"input",11),e.C$Y()(),e.I0R(65,"div")(66,"mat-form-field",10)(67,"mat-label"),e.OEk(68," Depreciation Method"),e.C$Y(),e.wR5(69,"input",11),e.C$Y()(),e.I0R(70,"div")(71,"mat-form-field",10)(72,"mat-label"),e.OEk(73," Book Value "),e.C$Y(),e.wR5(74,"input",11),e.C$Y()(),e.I0R(75,"div")(76,"mat-form-field",10)(77,"mat-label"),e.OEk(78," Energy Efficiency Measures "),e.C$Y(),e.wR5(79,"input",11),e.C$Y()(),e.I0R(80,"div")(81,"mat-form-field",10)(82,"mat-label"),e.OEk(83," Safety & Security Features "),e.C$Y(),e.wR5(84,"input",11),e.C$Y()(),e.I0R(85,"div")(86,"mat-form-field",10)(87,"mat-label"),e.OEk(88," vehicle Systems "),e.C$Y(),e.wR5(89,"input",11),e.C$Y()(),e.I0R(90,"button",27),e.qCj("click",function(){return n.updatevehicle()}),e.I0R(91,"div",28)(92,"span",29),e.OEk(93,"Save"),e.C$Y()()()()()}if(2&o){const l=e.Gew(7),a=e.Gew(54);e.yG2(),e.E7m("formGroup",n.vehicleForm),e.yG2(3),e.E7m("matMenuTriggerFor",l),e.yG2(),e.E7m("svgIcon","heroicons_outline:ellipsis-vertical"),e.yG2(4),e.E7m("svgIcon","heroicons_outline:trash"),e.yG2(3),e.E7m("routerLink",e.q4q(47,xe)),e.yG2(),e.E7m("svgIcon","heroicons_outline:x-mark"),e.yG2(3),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","description")("spellcheck",!1),e.yG2(3),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","brand")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","model")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","color")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","AcquisitionDate")("spellcheck",!1),e.yG2(6),e.E7m("ngClass",e.uAc(48,we,!(null!=n.vehicle&&n.vehicle.acquisitionDate),(null==n.vehicle?null:n.vehicle.acquisitionDate)&&!n.isOverdue(),(null==n.vehicle?null:n.vehicle.acquisitionDate)&&n.isOverdue())),e.yG2(),e.E7m("svgIcon","heroicons_solid:calendar"),e.yG2(2),e.E7m("ngIf",null==n.vehicle?null:n.vehicle.acquisitionDate),e.yG2(),e.E7m("ngIf",!(null!=n.vehicle&&n.vehicle.acquisitionDate)),e.yG2(),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("formControlName","acquisitionDate")("matDatepicker",a),e.yG2(6),e.E7m("color","primary"),e.yG2(3),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","acquisitionCost")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","depreciationMethod")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","bookValue")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","energyEfficiencyMeasures")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","safetySecurityFeatures")("spellcheck",!1),e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(3),e.E7m("formControlName","vehicleSystems")("spellcheck",!1)}},dependencies:[s.y,s.sz,s.ot,s.ue,s.u,s.sl,s.uW,s.Wo,p.oJ,p.Gw,p.cP,p.um,h.u_,_.oB,_.qL,C._A,C.aM,C.OQ,C.yG,d.ER,N.U,N.k,E.wb,E.Up,E.w5,y.cN,y.yi,fe.aC,T.KE,ve.Vn,h.QF,k.iU,k.SU,k.Ul,k._C,k.o9,k.Y3,h.y],encapsulation:2,changeDetection:0})}return i})();var G=r(1928),Ge=r(6364),_e=r(2523);function $e(i,c){if(1&i&&(e.SAx(0),e.I0R(1,"div",3)(2,"h1",4),e.OEk(3),e.C$Y()(),e.I0R(4,"form",5)(5,"div",6)(6,"div",7)(7,"div")(8,"label",8),e.OEk(9),e.C$Y(),e.I0R(10,"div",9),e.wR5(11,"input",10),e.C$Y()(),e.I0R(12,"div")(13,"label",11),e.OEk(14),e.C$Y(),e.I0R(15,"div",9),e.wR5(16,"input",12),e.C$Y()(),e.I0R(17,"div")(18,"label",13),e.OEk(19),e.C$Y(),e.I0R(20,"div",9)(21,"select",14)(22,"option",15),e.OEk(23,"Sedan"),e.C$Y(),e.I0R(24,"option",16),e.OEk(25,"SUV"),e.C$Y(),e.I0R(26,"option",17),e.OEk(27,"Hatchback"),e.C$Y(),e.I0R(28,"option",18),e.OEk(29,"Coupe"),e.C$Y(),e.I0R(30,"option",19),e.OEk(31,"Convertible"),e.C$Y()()()(),e.I0R(32,"div")(33,"label",13),e.OEk(34),e.C$Y(),e.I0R(35,"div",9)(36,"select",14)(37,"option",20),e.OEk(38,"Insured"),e.C$Y(),e.I0R(39,"option",21),e.OEk(40,"Uninsured"),e.C$Y()()()(),e.I0R(41,"div")(42,"label",13),e.OEk(43),e.C$Y(),e.I0R(44,"div",9)(45,"select",14)(46,"option",22),e.OEk(47,"Petrol"),e.C$Y(),e.I0R(48,"option",23),e.OEk(49,"Desiel"),e.C$Y(),e.I0R(50,"option",24),e.OEk(51,"Hybrid"),e.C$Y(),e.I0R(52,"option",25),e.OEk(53,"Electric"),e.C$Y(),e.I0R(54,"option",26),e.OEk(55,"Hydrogen"),e.C$Y()()()(),e.I0R(56,"div")(57,"label",27),e.OEk(58,"Year"),e.C$Y(),e.I0R(59,"div",9),e.wR5(60,"input",28),e.C$Y()(),e.I0R(61,"div")(62,"label",29),e.OEk(63),e.C$Y(),e.I0R(64,"div",9),e.wR5(65,"input",30),e.C$Y()(),e.I0R(66,"div")(67,"label",29),e.OEk(68),e.C$Y(),e.I0R(69,"div",9),e.wR5(70,"input",31),e.C$Y()(),e.I0R(71,"div")(72,"label",32),e.OEk(73),e.C$Y(),e.I0R(74,"div",9),e.wR5(75,"input",33),e.C$Y()(),e.I0R(76,"div")(77,"label",34),e.OEk(78),e.C$Y(),e.I0R(79,"div",9),e.wR5(80,"input",35),e.C$Y()(),e.I0R(81,"div")(82,"label",36),e.OEk(83),e.C$Y(),e.I0R(84,"div",9),e.wR5(85,"input",37),e.C$Y()()(),e.wR5(86,"div",38),e.C$Y()(),e.k70()),2&i){const t=c.$implicit,o=e.GaO();e.yG2(3),e.cNF(t("Vehicles")),e.yG2(),e.E7m("formGroup",o.VehicleForm),e.yG2(5),e.cNF(t("Brand")),e.yG2(5),e.cNF(t("Model")),e.yG2(2),e.E7m("formControl",o.VehicleForm.get("Model")),e.yG2(3),e.cNF(t("Vehicle Type")),e.yG2(2),e.E7m("formControl",o.VehicleForm.get("v")),e.yG2(13),e.cNF(t("Insurance Status")),e.yG2(2),e.E7m("formControl",o.VehicleForm.get("v")),e.yG2(7),e.cNF(t("Fuel Type")),e.yG2(2),e.E7m("formControl",o.VehicleForm.get("v")),e.yG2(18),e.cNF(t("Description")),e.yG2(5),e.cNF(t("Purchase Documents")),e.yG2(5),e.oRS(" ",t("Maintenance Records ")," "),e.yG2(5),e.cNF(t("color")),e.yG2(5),e.cNF(t("PAcquisition Cost"))}}function De(i,c){1&i&&(e.I0R(0,"div",39),e.wR5(1,"div",40),e.C$Y())}let Ye=(()=>{class i{constructor(t,o){this._formBuilder=t,this.vehiclesService=o,this.formsList=[]}ngOnInit(){this.loadDropDownMenuData()}get vehiclesArray(){return this.VehicleForm.get("vehicles").controls}loadDropDownMenuData(){this.vehiclesService.getDropDownMenuData().subscribe(t=>{console.log("Dropdown menu data:",t)},t=>{console.error("Error fetching dropdown menu data:",t)})}addNewForm(){const t=this._formBuilder.group({Model:[""],VehicleType:[""],Brand:[""],Description:[""],Acquisition:[""],color:[""],PAcquisitionCost:[""]});this.VehicleForm.get("vehicles").push(t),console.log(this.vehiclesArray),console.log(this.VehicleForm)}removeForm(t){this.formsList.splice(t,1)}static#e=this.\u0275fac=function(o){return new(o||i)(e.GI1(s.im),e.GI1(w))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["example"]],inputs:{VehicleForm:"VehicleForm"},standalone:!0,features:[e.UHJ],decls:3,vars:1,consts:[[1,"mb-8"],[4,"transloco"],["class","mb-10",4,"ngFor","ngForOf"],[1,"flex","items-center","justify-between","mb-4"],[1,"text-2xl","font-bold"],[3,"formGroup"],[1,"border-2","border-slate-200","dark:border-slate-500","p-4","pb-2","mb-4","rounded-lg"],[1,"grid","lg:grid-cols-4","md:grid-cols-2","grid-cols-1","gap-4"],["for","ownershipPercent0"],[1,"flex"],["placeholder","","id","ownershipPercent0","type","text","accept","","name","ownershipPercent0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],["for","name0"],["placeholder","","id","name0","type","text","accept","","name","name0","matInput","","placeholder","",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400",3,"formControl"],["for","nationalityId0"],["matInput","","placeholder","",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400",3,"formControl"],["value","sedan"],["value","suv"],["value","hatchback"],["value","coupe"],["value","convertible"],["value","insured"],["value","uninsured"],["value","Petrol"],["value"," Desiel"],["value"," Hybrid"],["value"," Electric"],["value"," Hydrogen"],["for","email0"],["placeholder","","id","","type","text","accept","","name","email0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],["for","tel0"],["placeholder","","id","tel0","type","text","accept","","name","tel0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],["placeholder","","id","tel0","type","file","accept","","name","tel0",1,"relative","m-0","w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400","py-[0.32rem]","text-base","font-normal","transition","duration-300","ease-in-out","file:-mx-3","file:-my-[0.32rem]","file:overflow-hidden","file:rounded-none","file:border-0","file:border-solid","file:border-inherit","file:bg-neutral-100","file:px-3","file:py-[0.32rem]","file:text-neutral-700","file:transition","file:duration-150","file:ease-in-out","file:[border-inline-end-width:1px]","file:[margin-inline-end:0.75rem]","hover:file:bg-neutral-200","focus:text-neutral-700","focus:shadow-te-primary","dark:border-neutral-600","dark:file:bg-neutral-700","dark:file:text-neutral-100","dark:focus:border-primary"],["for","streetAddress0"],["placeholder","","id","streetAddress0","type","text","accept","","name","streetAddress0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],["for","city0"],["placeholder","","id","city0","type","text","accept","","name","city0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],["for","poBox0"],["placeholder","","id","poBox0","type","text","accept","","name","poBox0",1,"w-full","block","p-1.5","rounded-lg","border-2","text-black","dark:text-white","focus:outline-none","focus:border-gray-400"],[1,"flex","justify-end","mt-4"],[1,"mb-10"],[1,"flex","justify-between","mb-4"]],template:function(o,n){1&o&&(e.I0R(0,"div",0),e.yuY(1,$e,87,16,"ng-container",1),e.C$Y(),e.yuY(2,De,2,0,"div",2)),2&o&&(e.yG2(2),e.E7m("ngForOf",n.formsList))},dependencies:[Ge.KO,s.sl,s.sz,s.wd,s.GO,s.ot,s.GC,s.ue,s.u,s.ug,s.uW,h.Iw,_.oB,p.oJ,s.y,y.cN,y.yi,_e.d5,k.iU,I.kJ,I.IZ],encapsulation:2})}return i})();var B=r(4336);const Oe=["signUpNgForm"],Ve=["stepper"];function Te(i,c){if(1&i&&e.OEk(0),2&i){const t=e.GaO().$implicit;e.oRS("",t("Step-One")," ")}}function Se(i,c){if(1&i&&e.OEk(0),2&i){const t=e.GaO().$implicit;e.cNF(t("Done"))}}function Fe(i,c){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"mat-stepper",4,5),e.qCj("completed",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.onSubmit())}),e.I0R(3,"mat-step"),e.yuY(4,Te,1,1,"ng-template",6),e.wR5(5,"example",7),e.I0R(6,"div",8)(7,"button",9),e.OEk(8),e.C$Y()()(),e.I0R(9,"mat-step"),e.yuY(10,Se,1,1,"ng-template",6),e.I0R(11,"p"),e.OEk(12,"You are now done."),e.C$Y(),e.I0R(13,"div")(14,"button",10),e.OEk(15),e.C$Y(),e.I0R(16,"button",11),e.qCj("click",function(){e.usT(t);const n=e.GaO();return e.CGJ(n.onSubmit())}),e.OEk(17),e.C$Y()()()(),e.k70()}if(2&i){const t=c.$implicit,o=e.GaO();e.yG2(),e.E7m("linear",o.isLinear),e.yG2(4),e.E7m("VehicleForm",o.VehicleForm),e.yG2(3),e.cNF(t("Next")),e.yG2(7),e.cNF(t("Previous")),e.yG2(2),e.cNF(t("Save"))}}let Ae=(()=>{class i{constructor(t,o,n){this._formBuilder=t,this._VehiclesService=o,this.snackBar=n,this.firstFormGroup=this._formBuilder.group({firstCtrl:["",s.AQ.required]}),this.secondFormGroup=this._formBuilder.group({secondCtrl:["",s.AQ.required]}),this.isLinear=!1,this.showAlert=!1,this.horizontalPosition="center",this.verticalPosition="top"}ngOnInit(){this.VehicleForm=this._formBuilder.group({description:["test the list ",s.AQ.required],brand:["brand",s.AQ.required],model:[10,s.AQ.required],color:["block and rock "],yearOfConstruction:[new Date,{disabled:!0}],acquisitionDate:[new Date,{disabled:!0}],acquisitionCost:[1e4],depreciationMethod:["method"],userId:[1080]})}onSubmit(){this.VehicleForm.valid?this._VehiclesService.createVehicle(this.VehicleForm.value).subscribe(t=>{console.log("Success:",t),this.VehicleForm.reset(),this.stepper.selectedIndex=0,this.showAlert=!0},t=>{console.error("Error:",t),console.log(this.VehicleForm),console.log(this.VehicleForm)}):(console.error("Form is invalid"),console.log(this.VehicleForm))}static#e=this.\u0275fac=function(o){return new(o||i)(e.GI1(s.im),e.GI1(w),e.GI1(B.yS))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["create-vehicle"]],viewQuery:function(o,n){if(1&o&&(e.CC$(Oe,5),e.CC$(Ve,5)),2&o){let l;e.wto(l=e.Gqi())&&(n.signUpNgForm=l.first),e.wto(l=e.Gqi())&&(n.stepper=l.first)}},standalone:!0,features:[e.UHJ],decls:4,vars:1,consts:[[1,"bg-card","w-full"],[1,"flex","flex-auto","min-w-0","flex-col","max-w-screen-xl","mx-auto","h-full"],[3,"formGroup"],[4,"transloco"],["labelPosition","bottom",3,"linear","completed"],["stepper",""],["matStepLabel",""],[3,"VehicleForm"],[1,"flex","justify-end"],["mat-button","","matStepperNext","",1,""],["mat-button","","matStepperPrevious",""],["mat-button","",3,"click"]],template:function(o,n){1&o&&(e.I0R(0,"div",0)(1,"div",1)(2,"form",2),e.yuY(3,Fe,18,5,"ng-container",3),e.C$Y()()()),2&o&&(e.yG2(2),e.E7m("formGroup",n.VehicleForm))},dependencies:[s.y,s.sz,s.u,s.sl,s.uW,E.wb,y.cN,G.MJ,G.Un,G.E9,G.uI,G.yi,G.o1,p.oJ,p.Gw,Ye,I.kJ,I.IZ,B.uE],encapsulation:2,changeDetection:0})}return i})();const Be=[{path:"",component:P,children:[{path:r(9344).k.modules.wealthManagement.physicalProperty.vehicles.addVehicle,component:Ae},{path:"",component:M,resolve:{vehicle:()=>(0,e.uUt)(w).getVehicles()},children:[{path:":id",component:Ee,resolve:{land:(i,c)=>{const t=(0,e.uUt)(w),o=(0,e.uUt)(d.E5);return t.getvehicleById(i.paramMap.get("id")).pipe((0,z.a)(n=>{console.error(n);const l=c.url.split("/").slice(0,-1).join("/");return o.navigateByUrl(l),(0,V.c)(n)}))}},canDeactivate:[(i,c,t,o)=>{let n=o.root;for(;n.firstChild;)n=n.firstChild;return!(o.url.includes("vehicles")&&!n.paramMap.get("id"))||(console.log("found Error in drawer"),i.closeDrawer().then(()=>!0))}]}]}]}]}}]);