"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[720],{6720:($l,Fe,T)=>{T.r(Fe),T.d(Fe,{default:()=>kl});var l=T(6568),P=T(9240),Bt=T(3848),rt=T(2556),wt=T(3328),H=T(324),at=T(9512),O=T(6300),mt=T(8083),Ct=T(2523),Ht=T(6364),F=T(4332),Wn=T(5280),Ft=T(9124);let Jn=(()=>{class t{constructor(e,i){this.matDialogRef=e,this._formBuilder=i,this.alert={type:"success",message:""},this.showAlert=!1}ngOnInit(){this.relationshipsFmillyFrpm=this._formBuilder.group({fullName:["",[F.AQ.required]],father:["",[]],mother:["",[]],childrenMale:["",[]],childrenFemale:["",[]],spouse:["",[]],uncla:["",[]],grandpa:["",[]]})}static#t=this.\u0275fac=function(i){return new(i||t)(l.GI1(Ft.yI),l.GI1(F.im))};static#e=this.\u0275cmp=l.In1({type:t,selectors:[["app-current-detail"]],standalone:!0,features:[l.UHJ],decls:0,vars:0,template:function(i,r){},dependencies:[Bt.MD,F.y,at.oJ,rt.oB,F.sl,O.wb,Ct.d5],data:{animation:Wn.u}})}return t})();var bt=T(6312),De=T(6820),oe=T(8168),Et=T(988),se=T(7804);function qn(t,n){if(1&t&&(l.SAx(0),l.I0R(1,"mat-option",22)(2,"div",23),l.OEk(3),l.C$Y()(),l.k70()),2&t){const e=n.$implicit;l.yG2(),l.E7m("value",e.value),l.yG2(2),l.cNF(e.label)}}function Zn(t,n){1&t&&(l.I0R(0,"th",24),l.OEk(1,"Full Name"),l.C$Y())}function Kn(t,n){if(1&t&&(l.I0R(0,"td",25),l.OEk(1),l.C$Y()),2&t){const e=n.$implicit;l.yG2(),l.oRS(" ",e.fullName," ")}}function jn(t,n){1&t&&(l.I0R(0,"th",24),l.OEk(1,"Mother's"),l.C$Y())}function Qn(t,n){if(1&t&&(l.I0R(0,"td",25),l.OEk(1),l.C$Y()),2&t){const e=n.$implicit;l.yG2(),l.oRS(" ",e.mother," ")}}function ti(t,n){1&t&&(l.I0R(0,"th",24),l.OEk(1,"Father's"),l.C$Y())}function ei(t,n){if(1&t&&(l.I0R(0,"td",25),l.OEk(1),l.C$Y()),2&t){const e=n.$implicit;l.yG2(),l.oRS(" ",e.father," ")}}function ni(t,n){1&t&&(l.I0R(0,"th",24),l.OEk(1,"children Male"),l.C$Y())}function ii(t,n){if(1&t&&(l.I0R(0,"td",25),l.OEk(1),l.C$Y()),2&t){const e=n.$implicit;l.yG2(),l.oRS(" ",e.childrenMale," ")}}function ri(t,n){1&t&&(l.I0R(0,"th",24),l.OEk(1,"children Female"),l.C$Y())}function ai(t,n){if(1&t&&(l.I0R(0,"td",25),l.OEk(1),l.C$Y()),2&t){const e=n.$implicit;l.yG2(),l.oRS(" ",e.childrenFemale," ")}}function oi(t,n){1&t&&l.wR5(0,"tr",26)}function si(t,n){1&t&&l.wR5(0,"tr",27)}const li=()=>[10,20];let ci=(()=>{class t{constructor(e,i,r,a,s){this._matDialog=e,this._familyTreeServeice=i,this._router=r,this._activatedRoute=a,this._changeDetectorRef=s,this.displayedColumns=["fullName","mother","father","childrenMale","childrenFemale"],this.position="before",this._unsubscribeAll=new De.E,this.dataSource=new H._c,this.familyMembers=new H._c}ngOnInit(){this._familyTreeServeice.getFamily().pipe((0,oe.a)(this._unsubscribeAll)).subscribe(e=>{this.family=e,console.log(this.dataSource)}),this._familyTreeServeice.getFamilyMembers().pipe((0,oe.a)(this._unsubscribeAll)).subscribe(e=>{this.members=e,this.familyMembers=new H._c(e),this.familyMembers.paginator=this.paginator,this.newfamily=this.assignNamesToFamily(this.family,this.members),console.log("new Family ",this.newfamily),this.dataSource=new H._c(this.newfamily),this.dataSource.paginator=this.paginator}),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}ngAfterViewInit(){this.dataSource.paginator=this.paginator,this.familyMembers.paginator=this.paginator}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}createRelationship(e){console.log("Relationship"),this._familyTreeServeice.createRelationship(e).subscribe(i=>{this._router.navigate(["./",i.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}trackByFn(e,i){return i.id||e}assignNamesToFamily(e,i){const r=[];return e.forEach(a=>{const s={...a};if(s.father){const o=i.find(h=>h.id===s.father);o&&(s.father=`${o.firstName} ${o.lastName}`)}if(s.mother){const o=i.find(h=>h.id===s.mother);o&&(s.mother=`${o.firstName} ${o.lastName}`)}s.childrenMale&&s.childrenMale.forEach((o,h)=>{i.find(u=>{u.id===o.toString()&&s.childrenMale.fill(` ${u.firstName} ${u.lastName}`,h,h+1)})}),s.childrenFemale&&s.childrenFemale.forEach((o,h)=>{i.find(u=>{u.id===o.toString()&&s.childrenFemale.fill(` ${u.firstName} ${u.lastName}`,h,h+1)})}),r.push(s)}),r}getMembers(){}static#t=this.\u0275fac=function(i){return new(i||t)(l.GI1(Ft.qW),l.GI1(Et.c),l.GI1(P.E5),l.GI1(P.gV),l.GI1(l.kD9))};static#e=this.\u0275cmp=l.In1({type:t,selectors:[["app-table"]],viewQuery:function(i,r){if(1&i&&l.CC$(wt.Qb,5),2&i){let a;l.wto(a=l.Gqi())&&(r.paginator=a.first)}},standalone:!0,features:[l.UHJ],decls:35,vars:12,consts:[[1,"flex","flex-col","flex-auto","p-6"],[1,"sm:col-span-6","flex","flex-col","flex-auto","p-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"flex","justify-between"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"fuse-mat-dense","w-40","shadow-none","relaionships-border-none-mate-select",3,"subscriptSizing"],["disableOptionCentering","",3,"panelClass","value"],["roleSelect","matSelect"],[1,"text-md"],[1,"ml-1","font-medium"],[4,"ngFor","ngForOf"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"mat-elevation-z8","demo-table",3,"dataSource"],["matColumnDef","fullName"],["mat-header-cell","",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","mother"],["matColumnDef","father"],["matColumnDef","childrenMale"],["matColumnDef","childrenFemale"],["mat-header-row","",4,"matHeaderRowDef"],["mat-row","",4,"matRowDef","matRowDefColumns"],["showFirstLastButtons","","aria-label","Select page of periodic elements",3,"pageSizeOptions"],[1,"h-auto","py-4","leading-none",3,"value"],[1,"font-medium"],["mat-header-cell",""],["mat-cell",""],["mat-header-row",""],["mat-row",""]],template:function(i,r){if(1&i&&(l.I0R(0,"div",0)(1,"div",1)(2,"div",2)(3,"div",3),l.OEk(4," All Relationships family "),l.C$Y(),l.I0R(5,"mat-form-field",4)(6,"mat-select",5,6)(8,"mat-select-trigger",7)(9,"span"),l.OEk(10,"Short by:"),l.C$Y(),l.I0R(11,"span",8),l.OEk(12),l.wVc(13,"titlecase"),l.C$Y()(),l.yuY(14,qn,4,2,"ng-container",9),l.C$Y()()(),l.I0R(15,"div",10)(16,"table",11),l.SAx(17,12),l.yuY(18,Zn,2,0,"th",13)(19,Kn,2,1,"td",14),l.k70(),l.SAx(20,15),l.yuY(21,jn,2,0,"th",13)(22,Qn,2,1,"td",14),l.k70(),l.SAx(23,16),l.yuY(24,ti,2,0,"th",13)(25,ei,2,1,"td",14),l.k70(),l.SAx(26,17),l.yuY(27,ni,2,0,"th",13)(28,ii,2,1,"td",14),l.k70(),l.SAx(29,18),l.yuY(30,ri,2,0,"th",13)(31,ai,2,1,"td",14),l.k70(),l.yuY(32,oi,1,0,"tr",19)(33,si,1,0,"tr",20),l.C$Y(),l.wR5(34,"mat-paginator",21),l.C$Y()()()),2&i){const a=l.Gew(7);l.yG2(5),l.E7m("subscriptSizing","dynamic"),l.yG2(),l.E7m("panelClass","w-72 min-w-72 max-w-72 h-auto max-h-none")("value","newest"),l.yG2(6),l.cNF(l.kDX(13,9,a.value)),l.yG2(2),l.E7m("ngForOf",r.roles),l.yG2(2),l.E7m("dataSource",r.dataSource),l.yG2(16),l.E7m("matHeaderRowDef",r.displayedColumns),l.yG2(),l.E7m("matRowDefColumns",r.displayedColumns),l.yG2(),l.E7m("pageSizeOptions",l.q4q(11,li))}},dependencies:[H.If,H.wL,H.ie,H.aG,H.Af,H.uc,H.gx,H.qC,H.cX,H.yC,H._I,Bt.oL,Bt.Iw,bt.sb,F.y,mt.cN,O.Up,Ht.KO,rt.oB,O.wb,at.oJ,Ct.d5,Ct.kX,Ct.gl,se.I5,wt.w5,wt.Qb],styles:[".demo-table{width:100%}.mat-mdc-row .mat-mdc-cell{cursor:pointer;border:none}.demo-row-is-clicked{font-weight:700!important}\n"],encapsulation:2,changeDetection:0})}return t})();function ui(){}function le(t){return null==t?ui:function(){return this.querySelector(t)}}function di(){return[]}function Ge(t){return null==t?di:function(){return this.querySelectorAll(t)}}function Ye(t){return function(){return this.matches(t)}}function Le(t){return function(n){return n.matches(t)}}var gi=Array.prototype.find;function _i(){return this.firstElementChild}var vi=Array.prototype.filter;function wi(){return Array.from(this.children)}function Xe(t){return new Array(t.length)}function Dt(t,n){this.ownerDocument=t.ownerDocument,this.namespaceURI=t.namespaceURI,this._next=null,this._parent=t,this.__data__=n}function Si(t,n,e,i,r,a){for(var o,s=0,h=n.length,c=a.length;s<c;++s)(o=n[s])?(o.__data__=a[s],i[s]=o):e[s]=new Dt(t,a[s]);for(;s<h;++s)(o=n[s])&&(r[s]=o)}function Ri(t,n,e,i,r,a,s){var o,h,p,c=new Map,u=n.length,d=a.length,m=new Array(u);for(o=0;o<u;++o)(h=n[o])&&(m[o]=p=s.call(h,h.__data__,o,n)+"",c.has(p)?r[o]=h:c.set(p,h));for(o=0;o<d;++o)p=s.call(t,a[o],o,a)+"",(h=c.get(p))?(i[o]=h,h.__data__=a[o],c.delete(p)):e[o]=new Dt(t,a[o]);for(o=0;o<u;++o)(h=n[o])&&c.get(m[o])===h&&(r[o]=h)}function Ni(t){return t.__data__}function Mi(t){return"object"==typeof t&&"length"in t?t:Array.from(t)}function Fi(t,n){return t<n?-1:t>n?1:t>=n?0:NaN}Dt.prototype={constructor:Dt,appendChild:function(t){return this._parent.insertBefore(t,this._next)},insertBefore:function(t,n){return this._parent.insertBefore(t,n)},querySelector:function(t){return this._parent.querySelector(t)},querySelectorAll:function(t){return this._parent.querySelectorAll(t)}};var ce="http://www.w3.org/1999/xhtml";const Oe={svg:"http://www.w3.org/2000/svg",xhtml:ce,xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/"};function Gt(t){var n=t+="",e=n.indexOf(":");return e>=0&&"xmlns"!==(n=t.slice(0,e))&&(t=t.slice(e+1)),Oe.hasOwnProperty(n)?{space:Oe[n],local:t}:t}function Pi(t){return function(){this.removeAttribute(t)}}function Ui(t){return function(){this.removeAttributeNS(t.space,t.local)}}function Vi(t,n){return function(){this.setAttribute(t,n)}}function Wi(t,n){return function(){this.setAttributeNS(t.space,t.local,n)}}function Ji(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttribute(t):this.setAttribute(t,e)}}function qi(t,n){return function(){var e=n.apply(this,arguments);null==e?this.removeAttributeNS(t.space,t.local):this.setAttributeNS(t.space,t.local,e)}}function Pe(t){return t.ownerDocument&&t.ownerDocument.defaultView||t.document&&t||t.defaultView}function Ki(t){return function(){this.style.removeProperty(t)}}function ji(t,n,e){return function(){this.style.setProperty(t,n,e)}}function Qi(t,n,e){return function(){var i=n.apply(this,arguments);null==i?this.style.removeProperty(t):this.style.setProperty(t,i,e)}}function pt(t,n){return t.style.getPropertyValue(n)||Pe(t).getComputedStyle(t,null).getPropertyValue(n)}function er(t){return function(){delete this[t]}}function nr(t,n){return function(){this[t]=n}}function ir(t,n){return function(){var e=n.apply(this,arguments);null==e?delete this[t]:this[t]=e}}function Ue(t){return t.trim().split(/^|\s+/)}function ue(t){return t.classList||new Ve(t)}function Ve(t){this._node=t,this._names=Ue(t.getAttribute("class")||"")}function We(t,n){for(var e=ue(t),i=-1,r=n.length;++i<r;)e.add(n[i])}function Je(t,n){for(var e=ue(t),i=-1,r=n.length;++i<r;)e.remove(n[i])}function ar(t){return function(){We(this,t)}}function or(t){return function(){Je(this,t)}}function sr(t,n){return function(){(n.apply(this,arguments)?We:Je)(this,t)}}function cr(){this.textContent=""}function ur(t){return function(){this.textContent=t}}function hr(t){return function(){var n=t.apply(this,arguments);this.textContent=n??""}}function dr(){this.innerHTML=""}function mr(t){return function(){this.innerHTML=t}}function pr(t){return function(){var n=t.apply(this,arguments);this.innerHTML=n??""}}function yr(){this.nextSibling&&this.parentNode.appendChild(this)}function xr(){this.previousSibling&&this.parentNode.insertBefore(this,this.parentNode.firstChild)}function wr(t){return function(){var n=this.ownerDocument,e=this.namespaceURI;return e===ce&&n.documentElement.namespaceURI===ce?n.createElement(t):n.createElementNS(e,t)}}function Cr(t){return function(){return this.ownerDocument.createElementNS(t.space,t.local)}}function qe(t){var n=Gt(t);return(n.local?Cr:wr)(n)}function Er(){return null}function $r(){var t=this.parentNode;t&&t.removeChild(this)}function Rr(){var t=this.cloneNode(!1),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function Nr(){var t=this.cloneNode(!0),n=this.parentNode;return n?n.insertBefore(t,this.nextSibling):t}function zr(t){return function(){var n=this.__on;if(n){for(var a,e=0,i=-1,r=n.length;e<r;++e)a=n[e],t.type&&a.type!==t.type||a.name!==t.name?n[++i]=a:this.removeEventListener(a.type,a.listener,a.options);++i?n.length=i:delete this.__on}}}function Br(t,n,e){return function(){var r,i=this.__on,a=function Ar(t){return function(n){t.call(this,n,this.__data__)}}(n);if(i)for(var s=0,o=i.length;s<o;++s)if((r=i[s]).type===t.type&&r.name===t.name)return this.removeEventListener(r.type,r.listener,r.options),this.addEventListener(r.type,r.listener=a,r.options=e),void(r.value=n);this.addEventListener(t.type,a,e),r={type:t.type,name:t.name,value:n,listener:a,options:e},i?i.push(r):this.__on=[r]}}function Ze(t,n,e){var i=Pe(t),r=i.CustomEvent;"function"==typeof r?r=new r(n,e):(r=i.document.createEvent("Event"),e?(r.initEvent(n,e.bubbles,e.cancelable),r.detail=e.detail):r.initEvent(n,!1,!1)),t.dispatchEvent(r)}function Fr(t,n){return function(){return Ze(this,t,n)}}function Dr(t,n){return function(){return Ze(this,t,n.apply(this,arguments))}}Ve.prototype={add:function(t){this._names.indexOf(t)<0&&(this._names.push(t),this._node.setAttribute("class",this._names.join(" ")))},remove:function(t){var n=this._names.indexOf(t);n>=0&&(this._names.splice(n,1),this._node.setAttribute("class",this._names.join(" ")))},contains:function(t){return this._names.indexOf(t)>=0}};var Ke=[null];function Y(t,n){this._groups=t,this._parents=n}function je(){return new Y([[document.documentElement]],Ke)}Y.prototype=je.prototype={constructor:Y,select:function hi(t){"function"!=typeof t&&(t=le(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var h,c,a=n[r],s=a.length,o=i[r]=new Array(s),u=0;u<s;++u)(h=a[u])&&(c=t.call(h,h.__data__,u,a))&&("__data__"in h&&(c.__data__=h.__data__),o[u]=c);return new Y(i,this._parents)},selectAll:function pi(t){t="function"==typeof t?function mi(t){return function(){return function fi(t){return null==t?[]:Array.isArray(t)?t:Array.from(t)}(t.apply(this,arguments))}}(t):Ge(t);for(var n=this._groups,e=n.length,i=[],r=[],a=0;a<e;++a)for(var h,s=n[a],o=s.length,c=0;c<o;++c)(h=s[c])&&(i.push(t.call(h,h.__data__,c,s)),r.push(h));return new Y(i,r)},selectChild:function xi(t){return this.select(null==t?_i:function yi(t){return function(){return gi.call(this.children,t)}}("function"==typeof t?t:Le(t)))},selectChildren:function bi(t){return this.selectAll(null==t?wi:function Ci(t){return function(){return vi.call(this.children,t)}}("function"==typeof t?t:Le(t)))},filter:function Ei(t){"function"!=typeof t&&(t=Ye(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var h,a=n[r],s=a.length,o=i[r]=[],c=0;c<s;++c)(h=a[c])&&t.call(h,h.__data__,c,a)&&o.push(h);return new Y(i,this._parents)},data:function Ti(t,n){if(!arguments.length)return Array.from(this,Ni);var e=n?Ri:Si,i=this._parents,r=this._groups;"function"!=typeof t&&(t=function $i(t){return function(){return t}}(t));for(var a=r.length,s=new Array(a),o=new Array(a),h=new Array(a),c=0;c<a;++c){var u=i[c],d=r[c],m=d.length,p=Mi(t.call(u,u&&u.__data__,c,i)),y=p.length,x=o[c]=new Array(y),C=s[c]=new Array(y);e(u,d,x,C,h[c]=new Array(m),p,n);for(var N,z,$=0,A=0;$<y;++$)if(N=x[$]){for($>=A&&(A=$+1);!(z=C[A])&&++A<y;);N._next=z||null}}return(s=new Y(s,i))._enter=o,s._exit=h,s},enter:function ki(){return new Y(this._enter||this._groups.map(Xe),this._parents)},exit:function Ai(){return new Y(this._exit||this._groups.map(Xe),this._parents)},join:function Ii(t,n,e){var i=this.enter(),r=this,a=this.exit();return"function"==typeof t?(i=t(i))&&(i=i.selection()):i=i.append(t+""),null!=n&&(r=n(r))&&(r=r.selection()),null==e?a.remove():e(a),i&&r?i.merge(r).order():r},merge:function zi(t){for(var n=t.selection?t.selection():t,e=this._groups,i=n._groups,r=e.length,s=Math.min(r,i.length),o=new Array(r),h=0;h<s;++h)for(var p,c=e[h],u=i[h],d=c.length,m=o[h]=new Array(d),y=0;y<d;++y)(p=c[y]||u[y])&&(m[y]=p);for(;h<r;++h)o[h]=e[h];return new Y(o,this._parents)},selection:function Lr(){return this},order:function Bi(){for(var t=this._groups,n=-1,e=t.length;++n<e;)for(var s,i=t[n],r=i.length-1,a=i[r];--r>=0;)(s=i[r])&&(a&&4^s.compareDocumentPosition(a)&&a.parentNode.insertBefore(s,a),a=s);return this},sort:function Hi(t){function n(d,m){return d&&m?t(d.__data__,m.__data__):!d-!m}t||(t=Fi);for(var e=this._groups,i=e.length,r=new Array(i),a=0;a<i;++a){for(var c,s=e[a],o=s.length,h=r[a]=new Array(o),u=0;u<o;++u)(c=s[u])&&(h[u]=c);h.sort(n)}return new Y(r,this._parents).order()},call:function Di(){var t=arguments[0];return arguments[0]=this,t.apply(null,arguments),this},nodes:function Gi(){return Array.from(this)},node:function Yi(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var i=t[n],r=0,a=i.length;r<a;++r){var s=i[r];if(s)return s}return null},size:function Li(){let t=0;for(const n of this)++t;return t},empty:function Xi(){return!this.node()},each:function Oi(t){for(var n=this._groups,e=0,i=n.length;e<i;++e)for(var o,r=n[e],a=0,s=r.length;a<s;++a)(o=r[a])&&t.call(o,o.__data__,a,r);return this},attr:function Zi(t,n){var e=Gt(t);if(arguments.length<2){var i=this.node();return e.local?i.getAttributeNS(e.space,e.local):i.getAttribute(e)}return this.each((null==n?e.local?Ui:Pi:"function"==typeof n?e.local?qi:Ji:e.local?Wi:Vi)(e,n))},style:function tr(t,n,e){return arguments.length>1?this.each((null==n?Ki:"function"==typeof n?Qi:ji)(t,n,e??"")):pt(this.node(),t)},property:function rr(t,n){return arguments.length>1?this.each((null==n?er:"function"==typeof n?ir:nr)(t,n)):this.node()[t]},classed:function lr(t,n){var e=Ue(t+"");if(arguments.length<2){for(var i=ue(this.node()),r=-1,a=e.length;++r<a;)if(!i.contains(e[r]))return!1;return!0}return this.each(("function"==typeof n?sr:n?ar:or)(e,n))},text:function fr(t){return arguments.length?this.each(null==t?cr:("function"==typeof t?hr:ur)(t)):this.node().textContent},html:function gr(t){return arguments.length?this.each(null==t?dr:("function"==typeof t?pr:mr)(t)):this.node().innerHTML},raise:function _r(){return this.each(yr)},lower:function vr(){return this.each(xr)},append:function br(t){var n="function"==typeof t?t:qe(t);return this.select(function(){return this.appendChild(n.apply(this,arguments))})},insert:function kr(t,n){var e="function"==typeof t?t:qe(t),i=null==n?Er:"function"==typeof n?n:le(n);return this.select(function(){return this.insertBefore(e.apply(this,arguments),i.apply(this,arguments)||null)})},remove:function Sr(){return this.each($r)},clone:function Tr(t){return this.select(t?Nr:Rr)},datum:function Mr(t){return arguments.length?this.property("__data__",t):this.node().__data__},on:function Hr(t,n,e){var r,s,i=function Ir(t){return t.trim().split(/^|\s+/).map(function(n){var e="",i=n.indexOf(".");return i>=0&&(e=n.slice(i+1),n=n.slice(0,i)),{type:n,name:e}})}(t+""),a=i.length;if(!(arguments.length<2)){for(o=n?Br:zr,r=0;r<a;++r)this.each(o(i[r],n,e));return this}var o=this.node().__on;if(o)for(var u,h=0,c=o.length;h<c;++h)for(r=0,u=o[h];r<a;++r)if((s=i[r]).type===u.type&&s.name===u.name)return u.value},dispatch:function Gr(t,n){return this.each(("function"==typeof n?Dr:Fr)(t,n))},[Symbol.iterator]:function*Yr(){for(var t=this._groups,n=0,e=t.length;n<e;++n)for(var s,i=t[n],r=0,a=i.length;r<a;++r)(s=i[r])&&(yield s)}};const gt=je;function U(t){return"string"==typeof t?new Y([[document.querySelector(t)]],[document.documentElement]):new Y([[t]],Ke)}function Vr(t){var n=0,e=t.children,i=e&&e.length;if(i)for(;--i>=0;)n+=e[i].value;else n=1;t.value=n}function Qe(t,n){t instanceof Map?(t=[void 0,t],void 0===n&&(n=ca)):void 0===n&&(n=la);for(var i,a,s,o,h,e=new yt(t),r=[e];i=r.pop();)if((s=n(i.data))&&(h=(s=Array.from(s)).length))for(i.children=s,o=h-1;o>=0;--o)r.push(a=s[o]=new yt(s[o])),a.parent=i,a.depth=i.depth+1;return e.eachBefore(tn)}function la(t){return t.children}function ca(t){return Array.isArray(t)?t[1]:null}function ua(t){void 0!==t.data.value&&(t.value=t.data.value),t.data=t.data.data}function tn(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function yt(t){this.data=t,this.depth=this.height=0,this.parent=null}function ha(t,n){return t.parent===n.parent?1:2}function he(t){var n=t.children;return n?n[0]:t.t}function fe(t){var n=t.children;return n?n[n.length-1]:t.t}function fa(t,n,e){var i=e/(n.i-t.i);n.c-=i,n.s+=e,t.c+=i,n.z+=e,n.m+=e}function ma(t,n,e){return t.a.parent===n.parent?t.a:e}function Yt(t,n){this._=t,this.parent=null,this.children=null,this.A=null,this.a=this,this.z=0,this.m=0,this.c=0,this.s=0,this.t=null,this.i=n}function de(t){return null==t?null:function ya(t){if("function"!=typeof t)throw new Error;return t}(t)}yt.prototype=Qe.prototype={constructor:yt,count:function Wr(){return this.eachAfter(Vr)},each:function Jr(t,n){let e=-1;for(const i of this)t.call(n,i,++e,this);return this},eachAfter:function Zr(t,n){for(var a,s,o,e=this,i=[e],r=[],h=-1;e=i.pop();)if(r.push(e),a=e.children)for(s=0,o=a.length;s<o;++s)i.push(a[s]);for(;e=r.pop();)t.call(n,e,++h,this);return this},eachBefore:function qr(t,n){for(var r,a,e=this,i=[e],s=-1;e=i.pop();)if(t.call(n,e,++s,this),r=e.children)for(a=r.length-1;a>=0;--a)i.push(r[a]);return this},find:function Kr(t,n){let e=-1;for(const i of this)if(t.call(n,i,++e,this))return i},sum:function jr(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e})},sort:function Qr(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function ta(t){for(var n=this,e=function ea(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;for(t=e.pop(),n=i.pop();t===n;)r=t,t=e.pop(),n=i.pop();return r}(n,t),i=[n];n!==e;)i.push(n=n.parent);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i},ancestors:function na(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function ia(){return Array.from(this)},leaves:function ra(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function aa(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function sa(){return Qe(this).eachBefore(ua)},[Symbol.iterator]:function*oa(){var n,i,r,a,t=this,e=[t];do{for(n=e.reverse(),e=[];t=n.pop();)if(yield t,i=t.children)for(r=0,a=i.length;r<a;++r)e.push(i[r])}while(e.length)}},Yt.prototype=Object.create(yt.prototype);var _a={depth:-1},en={},me={};function xa(t){return t.id}function va(t){return t.parentId}function nn(t){let n=t.length;if(n<2)return"";for(;--n>1&&!pe(t,n););return t.slice(0,n)}function pe(t,n){if("/"===t[n]){let e=0;for(;n>0&&"\\"===t[--n];)++e;if(!(1&e))return!0}return!1}var ba={value:()=>{}};function rn(){for(var i,t=0,n=arguments.length,e={};t<n;++t){if(!(i=arguments[t]+"")||i in e||/[\s.]/.test(i))throw new Error("illegal type: "+i);e[i]=[]}return new Lt(e)}function Lt(t){this._=t}function ka(t,n){for(var r,e=0,i=t.length;e<i;++e)if((r=t[e]).name===n)return r.value}function an(t,n,e){for(var i=0,r=t.length;i<r;++i)if(t[i].name===n){t[i]=ba,t=t.slice(0,i).concat(t.slice(i+1));break}return null!=e&&t.push({name:n,value:e}),t}Lt.prototype=rn.prototype={constructor:Lt,on:function(t,n){var r,e=this._,i=function Ea(t,n){return t.trim().split(/^|\s+/).map(function(e){var i="",r=e.indexOf(".");if(r>=0&&(i=e.slice(r+1),e=e.slice(0,r)),e&&!n.hasOwnProperty(e))throw new Error("unknown type: "+e);return{type:e,name:i}})}(t+"",e),a=-1,s=i.length;if(!(arguments.length<2)){if(null!=n&&"function"!=typeof n)throw new Error("invalid callback: "+n);for(;++a<s;)if(r=(t=i[a]).type)e[r]=an(e[r],t.name,n);else if(null==n)for(r in e)e[r]=an(e[r],t.name,null);return this}for(;++a<s;)if((r=(t=i[a]).type)&&(r=ka(e[r],t.name)))return r},copy:function(){var t={},n=this._;for(var e in n)t[e]=n[e].slice();return new Lt(t)},call:function(t,n){if((r=arguments.length-2)>0)for(var r,a,e=new Array(r),i=0;i<r;++i)e[i]=arguments[i+2];if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(i=0,r=(a=this._[t]).length;i<r;++i)a[i].value.apply(n,e)},apply:function(t,n,e){if(!this._.hasOwnProperty(t))throw new Error("unknown type: "+t);for(var i=this._[t],r=0,a=i.length;r<a;++r)i[r].value.apply(n,e)}};const on=rn,ge={capture:!0,passive:!1};function ye(t){t.preventDefault(),t.stopImmediatePropagation()}function sn(t){return((t=Math.exp(t))+1/t)/2}const Ma=function t(n,e,i){function r(a,s){var C,v,o=a[0],h=a[1],c=a[2],m=s[2],p=s[0]-o,y=s[1]-h,x=p*p+y*y;if(x<1e-12)v=Math.log(m/c)/n,C=function(L){return[o+L*p,h+L*y,c*Math.exp(n*L*v)]};else{var $=Math.sqrt(x),A=(m*m-c*c+i*x)/(2*c*e*$),N=(m*m-c*c-i*x)/(2*m*e*$),z=Math.log(Math.sqrt(A*A+1)-A),D=Math.log(Math.sqrt(N*N+1)-N);v=(D-z)/n,C=function(L){var st=L*v,zt=sn(z),lt=c/(e*$)*(zt*function Ta(t){return((t=Math.exp(2*t))-1)/(t+1)}(n*st+z)-function Na(t){return((t=Math.exp(t))-1/t)/2}(z));return[o+lt*p,h+lt*y,c*zt/sn(n*st+z)]}}return C.duration=1e3*v*n/Math.SQRT2,C}return r.rho=function(a){var s=Math.max(.001,+a),o=s*s;return t(s,o,o*o)},r}(Math.SQRT2,2,4);function ct(t,n){if(t=function Aa(t){let n;for(;n=t.sourceEvent;)t=n;return t}(t),void 0===n&&(n=t.currentTarget),n){var e=n.ownerSVGElement||n;if(e.createSVGPoint){var i=e.createSVGPoint();return i.x=t.clientX,i.y=t.clientY,[(i=i.matrixTransform(n.getScreenCTM().inverse())).x,i.y]}if(n.getBoundingClientRect){var r=n.getBoundingClientRect();return[t.clientX-r.left-n.clientLeft,t.clientY-r.top-n.clientTop]}}return[t.pageX,t.pageY]}var Xt,St,_t=0,kt=0,$t=0,ln=1e3,Ot=0,ut=0,Pt=0,Rt="object"==typeof performance&&performance.now?performance:Date,cn="object"==typeof window&&window.requestAnimationFrame?window.requestAnimationFrame.bind(window):function(t){setTimeout(t,17)};function _e(){return ut||(cn(Ia),ut=Rt.now()+Pt)}function Ia(){ut=0}function Ut(){this._call=this._time=this._next=null}function un(t,n,e){var i=new Ut;return i.restart(t,n,e),i}function hn(){ut=(Ot=Rt.now())+Pt,_t=kt=0;try{!function za(){_e(),++_t;for(var n,t=Xt;t;)(n=ut-t._time)>=0&&t._call.call(void 0,n),t=t._next;--_t}()}finally{_t=0,function Ha(){for(var t,e,n=Xt,i=1/0;n;)n._call?(i>n._time&&(i=n._time),t=n,n=n._next):(e=n._next,n._next=null,n=t?t._next=e:Xt=e);St=t,xe(i)}(),ut=0}}function Ba(){var t=Rt.now(),n=t-Ot;n>ln&&(Pt-=n,Ot=t)}function xe(t){_t||(kt&&(kt=clearTimeout(kt)),t-ut>24?(t<1/0&&(kt=setTimeout(hn,t-Rt.now()-Pt)),$t&&($t=clearInterval($t))):($t||(Ot=Rt.now(),$t=setInterval(Ba,ln)),_t=1,cn(hn)))}function fn(t,n,e){var i=new Ut;return i.restart(r=>{i.stop(),t(r+n)},n=null==n?0:+n,e),i}Ut.prototype=un.prototype={constructor:Ut,restart:function(t,n,e){if("function"!=typeof t)throw new TypeError("callback is not a function");e=(null==e?_e():+e)+(null==n?0:+n),!this._next&&St!==this&&(St?St._next=this:Xt=this,St=this),this._call=t,this._time=e,xe()},stop:function(){this._call&&(this._call=null,this._time=1/0,xe())}};var Fa=on("start","end","cancel","interrupt"),Da=[],dn=0,Vt=3;function Jt(t,n,e,i,r,a){var s=t.__transition;if(s){if(e in s)return}else t.__transition={};!function Ga(t,n,e){var r,i=t.__transition;function s(c){var u,d,m,p;if(1!==e.state)return h();for(u in i)if((p=i[u]).name===e.name){if(p.state===Vt)return fn(s);4===p.state?(p.state=6,p.timer.stop(),p.on.call("interrupt",t,t.__data__,p.index,p.group),delete i[u]):+u<n&&(p.state=6,p.timer.stop(),p.on.call("cancel",t,t.__data__,p.index,p.group),delete i[u])}if(fn(function(){e.state===Vt&&(e.state=4,e.timer.restart(o,e.delay,e.time),o(c))}),e.state=2,e.on.call("start",t,t.__data__,e.index,e.group),2===e.state){for(e.state=Vt,r=new Array(m=e.tween.length),u=0,d=-1;u<m;++u)(p=e.tween[u].value.call(t,t.__data__,e.index,e.group))&&(r[++d]=p);r.length=d+1}}function o(c){for(var u=c<e.duration?e.ease.call(null,c/e.duration):(e.timer.restart(h),e.state=5,1),d=-1,m=r.length;++d<m;)r[d].call(t,u);5===e.state&&(e.on.call("end",t,t.__data__,e.index,e.group),h())}function h(){for(var c in e.state=6,e.timer.stop(),delete i[n],i)return;delete t.__transition}i[n]=e,e.timer=un(function a(c){e.state=1,e.timer.restart(s,e.delay,e.time),e.delay<=c&&s(c-e.delay)},0,e.time)}(t,e,{name:n,index:i,group:r,on:Fa,tween:Da,time:a.time,delay:a.delay,duration:a.duration,ease:a.ease,timer:null,state:dn})}function Ce(t,n){var e=V(t,n);if(e.state>dn)throw new Error("too late; already scheduled");return e}function q(t,n){var e=V(t,n);if(e.state>Vt)throw new Error("too late; already running");return e}function V(t,n){var e=t.__transition;if(!e||!(e=e[n]))throw new Error("transition not found");return e}function qt(t,n){var i,r,s,e=t.__transition,a=!0;if(e){for(s in n=null==n?null:n+"",e)(i=e[s]).name===n?(r=i.state>2&&i.state<5,i.state=6,i.timer.stop(),i.on.call(r?"interrupt":"cancel",t,t.__data__,i.index,i.group),delete e[s]):a=!1;a&&delete t.__transition}}function ot(t,n){return t=+t,n=+n,function(e){return t*(1-e)+n*e}}var Zt,gn=180/Math.PI,be={translateX:0,translateY:0,rotate:0,skewX:0,scaleX:1,scaleY:1};function yn(t,n,e,i,r,a){var s,o,h;return(s=Math.sqrt(t*t+n*n))&&(t/=s,n/=s),(h=t*e+n*i)&&(e-=t*h,i-=n*h),(o=Math.sqrt(e*e+i*i))&&(e/=o,i/=o,h/=o),t*i<n*e&&(t=-t,n=-n,h=-h,s=-s),{translateX:r,translateY:a,rotate:Math.atan2(n,t)*gn,skewX:Math.atan(h)*gn,scaleX:s,scaleY:o}}function _n(t,n,e,i){function r(c){return c.length?c.pop()+" ":""}return function(c,u){var d=[],m=[];return c=t(c),u=t(u),function a(c,u,d,m,p,y){if(c!==d||u!==m){var x=p.push("translate(",null,n,null,e);y.push({i:x-4,x:ot(c,d)},{i:x-2,x:ot(u,m)})}else(d||m)&&p.push("translate("+d+n+m+e)}(c.translateX,c.translateY,u.translateX,u.translateY,d,m),function s(c,u,d,m){c!==u?(c-u>180?u+=360:u-c>180&&(c+=360),m.push({i:d.push(r(d)+"rotate(",null,i)-2,x:ot(c,u)})):u&&d.push(r(d)+"rotate("+u+i)}(c.rotate,u.rotate,d,m),function o(c,u,d,m){c!==u?m.push({i:d.push(r(d)+"skewX(",null,i)-2,x:ot(c,u)}):u&&d.push(r(d)+"skewX("+u+i)}(c.skewX,u.skewX,d,m),function h(c,u,d,m,p,y){if(c!==d||u!==m){var x=p.push(r(p)+"scale(",null,",",null,")");y.push({i:x-4,x:ot(c,d)},{i:x-2,x:ot(u,m)})}else(1!==d||1!==m)&&p.push(r(p)+"scale("+d+","+m+")")}(c.scaleX,c.scaleY,u.scaleX,u.scaleY,d,m),c=u=null,function(p){for(var C,y=-1,x=m.length;++y<x;)d[(C=m[y]).i]=C.x(p);return d.join("")}}}var Oa=_n(function La(t){const n=new("function"==typeof DOMMatrix?DOMMatrix:WebKitCSSMatrix)(t+"");return n.isIdentity?be:yn(n.a,n.b,n.c,n.d,n.e,n.f)},"px, ","px)","deg)"),Pa=_n(function Xa(t){return null!=t&&(Zt||(Zt=document.createElementNS("http://www.w3.org/2000/svg","g")),Zt.setAttribute("transform",t),t=Zt.transform.baseVal.consolidate())?yn((t=t.matrix).a,t.b,t.c,t.d,t.e,t.f):be},", ",")",")");function Ua(t,n){var e,i;return function(){var r=q(this,t),a=r.tween;if(a!==e)for(var s=0,o=(i=e=a).length;s<o;++s)if(i[s].name===n){(i=i.slice()).splice(s,1);break}r.tween=i}}function Va(t,n,e){var i,r;if("function"!=typeof e)throw new Error;return function(){var a=q(this,t),s=a.tween;if(s!==i){r=(i=s).slice();for(var o={name:n,value:e},h=0,c=r.length;h<c;++h)if(r[h].name===n){r[h]=o;break}h===c&&r.push(o)}a.tween=r}}function Ee(t,n,e){var i=t._id;return t.each(function(){var r=q(this,i);(r.value||(r.value={}))[n]=e.apply(this,arguments)}),function(r){return V(r,i).value[n]}}function ke(t,n,e){t.prototype=n.prototype=e,e.constructor=t}function xn(t,n){var e=Object.create(t.prototype);for(var i in n)e[i]=n[i];return e}function Nt(){}var Kt=1/.7,xt="\\s*([+-]?\\d+)\\s*",Mt="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)\\s*",Z="\\s*([+-]?(?:\\d*\\.)?\\d+(?:[eE][+-]?\\d+)?)%\\s*",Ja=/^#([0-9a-f]{3,8})$/,qa=new RegExp(`^rgb\\(${xt},${xt},${xt}\\)$`),Za=new RegExp(`^rgb\\(${Z},${Z},${Z}\\)$`),Ka=new RegExp(`^rgba\\(${xt},${xt},${xt},${Mt}\\)$`),ja=new RegExp(`^rgba\\(${Z},${Z},${Z},${Mt}\\)$`),Qa=new RegExp(`^hsl\\(${Mt},${Z},${Z}\\)$`),to=new RegExp(`^hsla\\(${Mt},${Z},${Z},${Mt}\\)$`),vn={aliceblue:15792383,antiquewhite:16444375,aqua:65535,aquamarine:8388564,azure:15794175,beige:16119260,bisque:16770244,black:0,blanchedalmond:16772045,blue:255,blueviolet:9055202,brown:10824234,burlywood:14596231,cadetblue:6266528,chartreuse:8388352,chocolate:13789470,coral:16744272,cornflowerblue:6591981,cornsilk:16775388,crimson:14423100,cyan:65535,darkblue:139,darkcyan:35723,darkgoldenrod:12092939,darkgray:11119017,darkgreen:25600,darkgrey:11119017,darkkhaki:12433259,darkmagenta:9109643,darkolivegreen:5597999,darkorange:16747520,darkorchid:10040012,darkred:9109504,darksalmon:15308410,darkseagreen:9419919,darkslateblue:4734347,darkslategray:3100495,darkslategrey:3100495,darkturquoise:52945,darkviolet:9699539,deeppink:16716947,deepskyblue:49151,dimgray:6908265,dimgrey:6908265,dodgerblue:2003199,firebrick:11674146,floralwhite:16775920,forestgreen:2263842,fuchsia:16711935,gainsboro:14474460,ghostwhite:16316671,gold:16766720,goldenrod:14329120,gray:8421504,green:32768,greenyellow:11403055,grey:8421504,honeydew:15794160,hotpink:16738740,indianred:13458524,indigo:4915330,ivory:16777200,khaki:15787660,lavender:15132410,lavenderblush:16773365,lawngreen:8190976,lemonchiffon:16775885,lightblue:11393254,lightcoral:15761536,lightcyan:14745599,lightgoldenrodyellow:16448210,lightgray:13882323,lightgreen:9498256,lightgrey:13882323,lightpink:16758465,lightsalmon:16752762,lightseagreen:2142890,lightskyblue:8900346,lightslategray:7833753,lightslategrey:7833753,lightsteelblue:11584734,lightyellow:16777184,lime:65280,limegreen:3329330,linen:16445670,magenta:16711935,maroon:8388608,mediumaquamarine:6737322,mediumblue:205,mediumorchid:12211667,mediumpurple:9662683,mediumseagreen:3978097,mediumslateblue:8087790,mediumspringgreen:64154,mediumturquoise:4772300,mediumvioletred:13047173,midnightblue:1644912,mintcream:16121850,mistyrose:16770273,moccasin:16770229,navajowhite:16768685,navy:128,oldlace:16643558,olive:8421376,olivedrab:7048739,orange:16753920,orangered:16729344,orchid:14315734,palegoldenrod:15657130,palegreen:10025880,paleturquoise:11529966,palevioletred:14381203,papayawhip:16773077,peachpuff:16767673,peru:13468991,pink:16761035,plum:14524637,powderblue:11591910,purple:8388736,rebeccapurple:6697881,red:16711680,rosybrown:12357519,royalblue:4286945,saddlebrown:9127187,salmon:16416882,sandybrown:16032864,seagreen:3050327,seashell:16774638,sienna:10506797,silver:12632256,skyblue:8900331,slateblue:6970061,slategray:7372944,slategrey:7372944,snow:16775930,springgreen:65407,steelblue:4620980,tan:13808780,teal:32896,thistle:14204888,tomato:16737095,turquoise:4251856,violet:15631086,wheat:16113331,white:16777215,whitesmoke:16119285,yellow:16776960,yellowgreen:10145074};function wn(){return this.rgb().formatHex()}function Cn(){return this.rgb().formatRgb()}function At(t){var n,e;return t=(t+"").trim().toLowerCase(),(n=Ja.exec(t))?(e=n[1].length,n=parseInt(n[1],16),6===e?bn(n):3===e?new G(n>>8&15|n>>4&240,n>>4&15|240&n,(15&n)<<4|15&n,1):8===e?jt(n>>24&255,n>>16&255,n>>8&255,(255&n)/255):4===e?jt(n>>12&15|n>>8&240,n>>8&15|n>>4&240,n>>4&15|240&n,((15&n)<<4|15&n)/255):null):(n=qa.exec(t))?new G(n[1],n[2],n[3],1):(n=Za.exec(t))?new G(255*n[1]/100,255*n[2]/100,255*n[3]/100,1):(n=Ka.exec(t))?jt(n[1],n[2],n[3],n[4]):(n=ja.exec(t))?jt(255*n[1]/100,255*n[2]/100,255*n[3]/100,n[4]):(n=Qa.exec(t))?$n(n[1],n[2]/100,n[3]/100,1):(n=to.exec(t))?$n(n[1],n[2]/100,n[3]/100,n[4]):vn.hasOwnProperty(t)?bn(vn[t]):"transparent"===t?new G(NaN,NaN,NaN,0):null}function bn(t){return new G(t>>16&255,t>>8&255,255&t,1)}function jt(t,n,e,i){return i<=0&&(t=n=e=NaN),new G(t,n,e,i)}function Qt(t,n,e,i){return 1===arguments.length?function io(t){return t instanceof Nt||(t=At(t)),t?new G((t=t.rgb()).r,t.g,t.b,t.opacity):new G}(t):new G(t,n,e,i??1)}function G(t,n,e,i){this.r=+t,this.g=+n,this.b=+e,this.opacity=+i}function En(){return`#${ft(this.r)}${ft(this.g)}${ft(this.b)}`}function kn(){const t=te(this.opacity);return`${1===t?"rgb(":"rgba("}${ht(this.r)}, ${ht(this.g)}, ${ht(this.b)}${1===t?")":`, ${t})`}`}function te(t){return isNaN(t)?1:Math.max(0,Math.min(1,t))}function ht(t){return Math.max(0,Math.min(255,Math.round(t)||0))}function ft(t){return((t=ht(t))<16?"0":"")+t.toString(16)}function $n(t,n,e,i){return i<=0?t=n=e=NaN:e<=0||e>=1?t=n=NaN:n<=0&&(t=NaN),new W(t,n,e,i)}function Sn(t){if(t instanceof W)return new W(t.h,t.s,t.l,t.opacity);if(t instanceof Nt||(t=At(t)),!t)return new W;if(t instanceof W)return t;var n=(t=t.rgb()).r/255,e=t.g/255,i=t.b/255,r=Math.min(n,e,i),a=Math.max(n,e,i),s=NaN,o=a-r,h=(a+r)/2;return o?(s=n===a?(e-i)/o+6*(e<i):e===a?(i-n)/o+2:(n-e)/o+4,o/=h<.5?a+r:2-a-r,s*=60):o=h>0&&h<1?0:s,new W(s,o,h,t.opacity)}function W(t,n,e,i){this.h=+t,this.s=+n,this.l=+e,this.opacity=+i}function Rn(t){return(t=(t||0)%360)<0?t+360:t}function ee(t){return Math.max(0,Math.min(1,t||0))}function $e(t,n,e){return 255*(t<60?n+(e-n)*t/60:t<180?e:t<240?n+(e-n)*(240-t)/60:n)}function Nn(t,n,e,i,r){var a=t*t,s=a*t;return((1-3*t+3*a-s)*n+(4-6*a+3*s)*e+(1+3*t+3*a-3*s)*i+s*r)/6}ke(Nt,At,{copy(t){return Object.assign(new this.constructor,this,t)},displayable(){return this.rgb().displayable()},hex:wn,formatHex:wn,formatHex8:function eo(){return this.rgb().formatHex8()},formatHsl:function no(){return Sn(this).formatHsl()},formatRgb:Cn,toString:Cn}),ke(G,Qt,xn(Nt,{brighter(t){return t=null==t?Kt:Math.pow(Kt,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new G(this.r*t,this.g*t,this.b*t,this.opacity)},rgb(){return this},clamp(){return new G(ht(this.r),ht(this.g),ht(this.b),te(this.opacity))},displayable(){return-.5<=this.r&&this.r<255.5&&-.5<=this.g&&this.g<255.5&&-.5<=this.b&&this.b<255.5&&0<=this.opacity&&this.opacity<=1},hex:En,formatHex:En,formatHex8:function ro(){return`#${ft(this.r)}${ft(this.g)}${ft(this.b)}${ft(255*(isNaN(this.opacity)?1:this.opacity))}`},formatRgb:kn,toString:kn})),ke(W,function ao(t,n,e,i){return 1===arguments.length?Sn(t):new W(t,n,e,i??1)},xn(Nt,{brighter(t){return t=null==t?Kt:Math.pow(Kt,t),new W(this.h,this.s,this.l*t,this.opacity)},darker(t){return t=null==t?.7:Math.pow(.7,t),new W(this.h,this.s,this.l*t,this.opacity)},rgb(){var t=this.h%360+360*(this.h<0),n=isNaN(t)||isNaN(this.s)?0:this.s,e=this.l,i=e+(e<.5?e:1-e)*n,r=2*e-i;return new G($e(t>=240?t-240:t+120,r,i),$e(t,r,i),$e(t<120?t+240:t-120,r,i),this.opacity)},clamp(){return new W(Rn(this.h),ee(this.s),ee(this.l),te(this.opacity))},displayable(){return(0<=this.s&&this.s<=1||isNaN(this.s))&&0<=this.l&&this.l<=1&&0<=this.opacity&&this.opacity<=1},formatHsl(){const t=te(this.opacity);return`${1===t?"hsl(":"hsla("}${Rn(this.h)}, ${100*ee(this.s)}%, ${100*ee(this.l)}%${1===t?")":`, ${t})`}`}}));const Tn=t=>()=>t;function An(t,n){var e=n-t;return e?function Mn(t,n){return function(e){return t+e*n}}(t,e):Tn(isNaN(t)?n:t)}const In=function t(n){var e=function co(t){return 1==(t=+t)?An:function(n,e){return e-n?function lo(t,n,e){return t=Math.pow(t,e),n=Math.pow(n,e)-t,e=1/e,function(i){return Math.pow(t+i*n,e)}}(n,e,t):Tn(isNaN(n)?e:n)}}(n);function i(r,a){var s=e((r=Qt(r)).r,(a=Qt(a)).r),o=e(r.g,a.g),h=e(r.b,a.b),c=An(r.opacity,a.opacity);return function(u){return r.r=s(u),r.g=o(u),r.b=h(u),r.opacity=c(u),r+""}}return i.gamma=t,i}(1);function zn(t){return function(n){var s,o,e=n.length,i=new Array(e),r=new Array(e),a=new Array(e);for(s=0;s<e;++s)o=Qt(n[s]),i[s]=o.r||0,r[s]=o.g||0,a[s]=o.b||0;return i=t(i),r=t(r),a=t(a),o.opacity=1,function(h){return o.r=i(h),o.g=r(h),o.b=a(h),o+""}}}zn(function oo(t){var n=t.length-1;return function(e){var i=e<=0?e=0:e>=1?(e=1,n-1):Math.floor(e*n),r=t[i],a=t[i+1];return Nn((e-i/n)*n,i>0?t[i-1]:2*r-a,r,a,i<n-1?t[i+2]:2*a-r)}}),zn(function so(t){var n=t.length;return function(e){var i=Math.floor(((e%=1)<0?++e:e)*n);return Nn((e-i/n)*n,t[(i+n-1)%n],t[i%n],t[(i+1)%n],t[(i+2)%n])}});var Se=/[-+]?(?:\d+\.?\d*|\.?\d+)(?:[eE][-+]?\d+)?/g,Re=new RegExp(Se.source,"g");function fo(t,n){var i,r,a,e=Se.lastIndex=Re.lastIndex=0,s=-1,o=[],h=[];for(t+="",n+="";(i=Se.exec(t))&&(r=Re.exec(n));)(a=r.index)>e&&(a=n.slice(e,a),o[s]?o[s]+=a:o[++s]=a),(i=i[0])===(r=r[0])?o[s]?o[s]+=r:o[++s]=r:(o[++s]=null,h.push({i:s,x:ot(i,r)})),e=Re.lastIndex;return e<n.length&&(a=n.slice(e),o[s]?o[s]+=a:o[++s]=a),o.length<2?h[0]?function ho(t){return function(n){return t(n)+""}}(h[0].x):function uo(t){return function(){return t}}(n):(n=h.length,function(c){for(var d,u=0;u<n;++u)o[(d=h[u]).i]=d.x(c);return o.join("")})}function Bn(t,n){var e;return("number"==typeof n?ot:n instanceof At?In:(e=At(n))?(n=e,In):fo)(t,n)}function mo(t){return function(){this.removeAttribute(t)}}function po(t){return function(){this.removeAttributeNS(t.space,t.local)}}function go(t,n,e){var i,a,r=e+"";return function(){var s=this.getAttribute(t);return s===r?null:s===i?a:a=n(i=s,e)}}function yo(t,n,e){var i,a,r=e+"";return function(){var s=this.getAttributeNS(t.space,t.local);return s===r?null:s===i?a:a=n(i=s,e)}}function _o(t,n,e){var i,r,a;return function(){var s,h,o=e(this);return null==o?void this.removeAttribute(t):(s=this.getAttribute(t))===(h=o+"")?null:s===i&&h===r?a:(r=h,a=n(i=s,o))}}function xo(t,n,e){var i,r,a;return function(){var s,h,o=e(this);return null==o?void this.removeAttributeNS(t.space,t.local):(s=this.getAttributeNS(t.space,t.local))===(h=o+"")?null:s===i&&h===r?a:(r=h,a=n(i=s,o))}}function bo(t,n){var e,i;function r(){var a=n.apply(this,arguments);return a!==i&&(e=(i=a)&&function Co(t,n){return function(e){this.setAttributeNS(t.space,t.local,n.call(this,e))}}(t,a)),e}return r._value=n,r}function Eo(t,n){var e,i;function r(){var a=n.apply(this,arguments);return a!==i&&(e=(i=a)&&function wo(t,n){return function(e){this.setAttribute(t,n.call(this,e))}}(t,a)),e}return r._value=n,r}function $o(t,n){return function(){Ce(this,t).delay=+n.apply(this,arguments)}}function So(t,n){return n=+n,function(){Ce(this,t).delay=n}}function No(t,n){return function(){q(this,t).duration=+n.apply(this,arguments)}}function To(t,n){return n=+n,function(){q(this,t).duration=n}}var Uo=gt.prototype.constructor;function Hn(t){return function(){this.style.removeProperty(t)}}var cs=0;function K(t,n,e,i){this._groups=t,this._parents=n,this._name=e,this._id=i}function Fn(){return++cs}var j=gt.prototype;K.prototype=function us(t){return gt().transition(t)}.prototype={constructor:K,select:function Oo(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=le(t));for(var i=this._groups,r=i.length,a=new Array(r),s=0;s<r;++s)for(var u,d,o=i[s],h=o.length,c=a[s]=new Array(h),m=0;m<h;++m)(u=o[m])&&(d=t.call(u,u.__data__,m,o))&&("__data__"in u&&(d.__data__=u.__data__),c[m]=d,Jt(c[m],n,e,m,c,V(u,e)));return new K(a,this._parents,n,e)},selectAll:function Po(t){var n=this._name,e=this._id;"function"!=typeof t&&(t=Ge(t));for(var i=this._groups,r=i.length,a=[],s=[],o=0;o<r;++o)for(var u,h=i[o],c=h.length,d=0;d<c;++d)if(u=h[d]){for(var p,m=t.call(u,u.__data__,d,h),y=V(u,e),x=0,C=m.length;x<C;++x)(p=m[x])&&Jt(p,n,e,x,m,y);a.push(m),s.push(u)}return new K(a,s,n,e)},selectChild:j.selectChild,selectChildren:j.selectChildren,filter:function Ho(t){"function"!=typeof t&&(t=Ye(t));for(var n=this._groups,e=n.length,i=new Array(e),r=0;r<e;++r)for(var h,a=n[r],s=a.length,o=i[r]=[],c=0;c<s;++c)(h=a[c])&&t.call(h,h.__data__,c,a)&&o.push(h);return new K(i,this._parents,this._name,this._id)},merge:function Fo(t){if(t._id!==this._id)throw new Error;for(var n=this._groups,e=t._groups,i=n.length,a=Math.min(i,e.length),s=new Array(i),o=0;o<a;++o)for(var m,h=n[o],c=e[o],u=h.length,d=s[o]=new Array(u),p=0;p<u;++p)(m=h[p]||c[p])&&(d[p]=m);for(;o<i;++o)s[o]=n[o];return new K(s,this._parents,this._name,this._id)},selection:function Vo(){return new Uo(this._groups,this._parents)},transition:function ss(){for(var t=this._name,n=this._id,e=Fn(),i=this._groups,r=i.length,a=0;a<r;++a)for(var h,s=i[a],o=s.length,c=0;c<o;++c)if(h=s[c]){var u=V(h,n);Jt(h,t,e,c,s,{time:u.time+u.delay+u.duration,delay:0,duration:u.duration,ease:u.ease})}return new K(i,this._parents,t,e)},call:j.call,nodes:j.nodes,node:j.node,size:j.size,empty:j.empty,each:j.each,on:function Yo(t,n){var e=this._id;return arguments.length<2?V(this.node(),e).on.on(t):this.each(function Go(t,n,e){var i,r,a=function Do(t){return(t+"").trim().split(/^|\s+/).every(function(n){var e=n.indexOf(".");return e>=0&&(n=n.slice(0,e)),!n||"start"===n})}(n)?Ce:q;return function(){var s=a(this,t),o=s.on;o!==i&&(r=(i=o).copy()).on(n,e),s.on=r}}(e,t,n))},attr:function vo(t,n){var e=Gt(t),i="transform"===e?Pa:Bn;return this.attrTween(t,"function"==typeof n?(e.local?xo:_o)(e,i,Ee(this,"attr."+t,n)):null==n?(e.local?po:mo)(e):(e.local?yo:go)(e,i,n))},attrTween:function ko(t,n){var e="attr."+t;if(arguments.length<2)return(e=this.tween(e))&&e._value;if(null==n)return this.tween(e,null);if("function"!=typeof n)throw new Error;var i=Gt(t);return this.tween(e,(i.local?bo:Eo)(i,n))},style:function Ko(t,n,e){var i="transform"==(t+="")?Oa:Bn;return null==n?this.styleTween(t,function Wo(t,n){var e,i,r;return function(){var a=pt(this,t),s=(this.style.removeProperty(t),pt(this,t));return a===s?null:a===e&&s===i?r:r=n(e=a,i=s)}}(t,i)).on("end.style."+t,Hn(t)):"function"==typeof n?this.styleTween(t,function qo(t,n,e){var i,r,a;return function(){var s=pt(this,t),o=e(this),h=o+"";return null==o&&(this.style.removeProperty(t),h=o=pt(this,t)),s===h?null:s===i&&h===r?a:(r=h,a=n(i=s,o))}}(t,i,Ee(this,"style."+t,n))).each(function Zo(t,n){var e,i,r,o,a="style."+n,s="end."+a;return function(){var h=q(this,t),c=h.on,u=null==h.value[a]?o||(o=Hn(n)):void 0;(c!==e||r!==u)&&(i=(e=c).copy()).on(s,r=u),h.on=i}}(this._id,t)):this.styleTween(t,function Jo(t,n,e){var i,a,r=e+"";return function(){var s=pt(this,t);return s===r?null:s===i?a:a=n(i=s,e)}}(t,i,n),e).on("end.style."+t,null)},styleTween:function ts(t,n,e){var i="style."+(t+="");if(arguments.length<2)return(i=this.tween(i))&&i._value;if(null==n)return this.tween(i,null);if("function"!=typeof n)throw new Error;return this.tween(i,function Qo(t,n,e){var i,r;function a(){var s=n.apply(this,arguments);return s!==r&&(i=(r=s)&&function jo(t,n,e){return function(i){this.style.setProperty(t,n.call(this,i),e)}}(t,s,e)),i}return a._value=n,a}(t,n,e??""))},text:function is(t){return this.tween("text","function"==typeof t?function ns(t){return function(){var n=t(this);this.textContent=n??""}}(Ee(this,"text",t)):function es(t){return function(){this.textContent=t}}(null==t?"":t+""))},textTween:function os(t){var n="text";if(arguments.length<1)return(n=this.tween(n))&&n._value;if(null==t)return this.tween(n,null);if("function"!=typeof t)throw new Error;return this.tween(n,function as(t){var n,e;function i(){var r=t.apply(this,arguments);return r!==e&&(n=(e=r)&&function rs(t){return function(n){this.textContent=t.call(this,n)}}(r)),n}return i._value=t,i}(t))},remove:function Xo(){return this.on("end.remove",function Lo(t){return function(){var n=this.parentNode;for(var e in this.__transition)if(+e!==t)return;n&&n.removeChild(this)}}(this._id))},tween:function Wa(t,n){var e=this._id;if(t+="",arguments.length<2){for(var s,i=V(this.node(),e).tween,r=0,a=i.length;r<a;++r)if((s=i[r]).name===t)return s.value;return null}return this.each((null==n?Ua:Va)(e,t,n))},delay:function Ro(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?$o:So)(n,t)):V(this.node(),n).delay},duration:function Mo(t){var n=this._id;return arguments.length?this.each(("function"==typeof t?No:To)(n,t)):V(this.node(),n).duration},ease:function Io(t){var n=this._id;return arguments.length?this.each(function Ao(t,n){if("function"!=typeof n)throw new Error;return function(){q(this,t).ease=n}}(n,t)):V(this.node(),n).ease},easeVarying:function Bo(t){if("function"!=typeof t)throw new Error;return this.each(function zo(t,n){return function(){var e=n.apply(this,arguments);if("function"!=typeof e)throw new Error;q(this,t).ease=e}}(this._id,t))},end:function ls(){var t,n,e=this,i=e._id,r=e.size();return new Promise(function(a,s){var o={value:s},h={value:function(){0==--r&&a()}};e.each(function(){var c=q(this,i),u=c.on;u!==t&&((n=(t=u).copy())._.cancel.push(o),n._.interrupt.push(o),n._.end.push(h)),c.on=n}),0===r&&a()})},[Symbol.iterator]:j[Symbol.iterator]};var fs={time:null,delay:0,duration:250,ease:function hs(t){return((t*=2)<=1?t*t*t:(t-=2)*t*t+2)/2}};function ds(t,n){for(var e;!(e=t.__transition)||!(e=e[n]);)if(!(t=t.parentNode))throw new Error(`transition ${n} not found`);return e}gt.prototype.interrupt=function Ya(t){return this.each(function(){qt(this,t)})},gt.prototype.transition=function ms(t){var n,e;t instanceof K?(n=t._id,t=t._name):(n=Fn(),(e=fs).time=_e(),t=null==t?null:t+"");for(var i=this._groups,r=i.length,a=0;a<r;++a)for(var h,s=i[a],o=s.length,c=0;c<o;++c)(h=s[c])&&Jt(h,t,n,c,s,e||ds(h,n));return new K(i,this._parents,t,n)};const ne=t=>()=>t;function ps(t,{sourceEvent:n,target:e,transform:i,dispatch:r}){Object.defineProperties(this,{type:{value:t,enumerable:!0,configurable:!0},sourceEvent:{value:n,enumerable:!0,configurable:!0},target:{value:e,enumerable:!0,configurable:!0},transform:{value:i,enumerable:!0,configurable:!0},_:{value:r}})}function Q(t,n,e){this.k=t,this.x=n,this.y=e}Q.prototype={constructor:Q,scale:function(t){return 1===t?this:new Q(this.k*t,this.x,this.y)},translate:function(t,n){return 0===t&0===n?this:new Q(this.k,this.x+this.k*t,this.y+this.k*n)},apply:function(t){return[t[0]*this.k+this.x,t[1]*this.k+this.y]},applyX:function(t){return t*this.k+this.x},applyY:function(t){return t*this.k+this.y},invert:function(t){return[(t[0]-this.x)/this.k,(t[1]-this.y)/this.k]},invertX:function(t){return(t-this.x)/this.k},invertY:function(t){return(t-this.y)/this.k},rescaleX:function(t){return t.copy().domain(t.range().map(this.invertX,this).map(t.invert,t))},rescaleY:function(t){return t.copy().domain(t.range().map(this.invertY,this).map(t.invert,t))},toString:function(){return"translate("+this.x+","+this.y+") scale("+this.k+")"}};var ie=new Q(1,0,0);function Ne(t){t.stopImmediatePropagation()}function It(t){t.preventDefault(),t.stopImmediatePropagation()}function ys(t){return!(t.ctrlKey&&"wheel"!==t.type||t.button)}function _s(){var t=this;return t instanceof SVGElement?(t=t.ownerSVGElement||t).hasAttribute("viewBox")?[[(t=t.viewBox.baseVal).x,t.y],[t.x+t.width,t.y+t.height]]:[[0,0],[t.width.baseVal.value,t.height.baseVal.value]]:[[0,0],[t.clientWidth,t.clientHeight]]}function Dn(){return this.__zoom||ie}function xs(t){return-t.deltaY*(1===t.deltaMode?.05:t.deltaMode?1:.002)*(t.ctrlKey?10:1)}function vs(){return navigator.maxTouchPoints||"ontouchstart"in this}function ws(t,n,e){var i=t.invertX(n[0][0])-e[0][0],r=t.invertX(n[1][0])-e[1][0],a=t.invertY(n[0][1])-e[0][1],s=t.invertY(n[1][1])-e[1][1];return t.translate(r>i?(i+r)/2:Math.min(0,i)||Math.max(0,r),s>a?(a+s)/2:Math.min(0,a)||Math.max(0,s))}function bs(t){var n=0,e=t.children,i=e&&e.length;if(i)for(;--i>=0;)n+=e[i].value;else n=1;t.value=n}function Te(t,n){var r,s,o,h,c,e=new re(t),i=+t.value&&(e.value=t.value),a=[e];for(null==n&&(n=Fs);r=a.pop();)if(i&&(r.value=+r.data.value),(o=n(r.data))&&(c=o.length))for(r.children=new Array(c),h=c-1;h>=0;--h)a.push(s=r.children[h]=new re(o[h])),s.parent=r,s.depth=r.depth+1;return e.eachBefore(Gs)}function Fs(t){return t.children}function Ds(t){t.data=t.data.data}function Gs(t){var n=0;do{t.height=n}while((t=t.parent)&&t.height<++n)}function re(t){this.data=t,this.depth=this.height=0,this.parent=null}re.prototype=Te.prototype={constructor:re,count:function Es(){return this.eachAfter(bs)},each:function ks(t){var e,r,a,s,n=this,i=[n];do{for(e=i.reverse(),i=[];n=e.pop();)if(t(n),r=n.children)for(a=0,s=r.length;a<s;++a)i.push(r[a])}while(i.length);return this},eachAfter:function Ss(t){for(var r,a,s,n=this,e=[n],i=[];n=e.pop();)if(i.push(n),r=n.children)for(a=0,s=r.length;a<s;++a)e.push(r[a]);for(;n=i.pop();)t(n);return this},eachBefore:function $s(t){for(var i,r,n=this,e=[n];n=e.pop();)if(t(n),i=n.children)for(r=i.length-1;r>=0;--r)e.push(i[r]);return this},sum:function Rs(t){return this.eachAfter(function(n){for(var e=+t(n.data)||0,i=n.children,r=i&&i.length;--r>=0;)e+=i[r].value;n.value=e})},sort:function Ns(t){return this.eachBefore(function(n){n.children&&n.children.sort(t)})},path:function Ts(t){for(var n=this,e=function Ms(t,n){if(t===n)return t;var e=t.ancestors(),i=n.ancestors(),r=null;for(t=e.pop(),n=i.pop();t===n;)r=t,t=e.pop(),n=i.pop();return r}(n,t),i=[n];n!==e;)i.push(n=n.parent);for(var r=i.length;t!==e;)i.splice(r,0,t),t=t.parent;return i},ancestors:function As(){for(var t=this,n=[t];t=t.parent;)n.push(t);return n},descendants:function Is(){var t=[];return this.each(function(n){t.push(n)}),t},leaves:function zs(){var t=[];return this.eachBefore(function(n){n.children||t.push(n)}),t},links:function Bs(){var t=this,n=[];return t.each(function(e){e!==t&&n.push({source:e.parent,target:e})}),n},copy:function Hs(){return Te(this).eachBefore(Ds)}};const{version:Ls}={version:"2.1.2"},Xs=Object.freeze({children:t=>t.children,nodeSize:t=>t.data.size,spacing:0});function Me(t){const n=Object.assign({},Xs,t);function e(o){const h=n[o];return"function"==typeof h?h:()=>h}function i(o){const h=s(function a(){const o=r(),h=e("nodeSize"),c=e("spacing");return class extends o{constructor(u){super(u),Object.assign(this,{x:0,y:0,relX:0,prelim:0,shift:0,change:0,lExt:this,lExtRelX:0,lThr:null,rExt:this,rExtRelX:0,rThr:null})}get size(){return h(this.data)}spacing(u){return c(this.data,u.data)}get x(){return this.data.x}set x(u){this.data.x=u}get y(){return this.data.y}set y(u){this.data.y=u}update(){return Gn(this),Yn(this),this}}}(),o,c=>c.children);return h.update(),h.data}function r(){const o=e("nodeSize"),h=e("spacing");return class Vn extends Te.prototype.constructor{constructor(u){super(u)}copy(){const u=s(this.constructor,this,d=>d.children);return u.each(d=>d.data=d.data.data),u}get size(){return o(this)}spacing(u){return h(this,u)}get nodes(){return this.descendants()}get xSize(){return this.size[0]}get ySize(){return this.size[1]}get top(){return this.y}get bottom(){return this.y+this.ySize}get left(){return this.x-this.xSize/2}get right(){return this.x+this.xSize/2}get root(){const u=this.ancestors();return u[u.length-1]}get numChildren(){return this.hasChildren?this.children.length:0}get hasChildren(){return!this.noChildren}get noChildren(){return null===this.children}get firstChild(){return this.hasChildren?this.children[0]:null}get lastChild(){return this.hasChildren?this.children[this.numChildren-1]:null}get extents(){return(this.children||[]).reduce((u,d)=>Vn.maxExtents(u,d.extents),this.nodeExtents)}get nodeExtents(){return{top:this.top,bottom:this.bottom,left:this.left,right:this.right}}static maxExtents(u,d){return{top:Math.min(u.top,d.top),bottom:Math.max(u.bottom,d.bottom),left:Math.min(u.left,d.left),right:Math.max(u.right,d.right)}}}}function s(o,h,c){const u=(d,m)=>{const p=new o(d);Object.assign(p,{parent:m,depth:null===m?0:m.depth+1,height:0,length:1});const y=c(d)||[];return p.children=0===y.length?null:y.map(x=>u(x,p)),p.children&&Object.assign(p,p.children.reduce((x,C)=>({height:Math.max(x.height,C.height+1),length:x.length+C.length}),p)),p};return u(h,null)}return Object.assign(i,{nodeSize(o){return arguments.length?(n.nodeSize=o,i):n.nodeSize},spacing(o){return arguments.length?(n.spacing=o,i):n.spacing},children(o){return arguments.length?(n.children=o,i):n.children},hierarchy(o,h){const c=typeof h>"u"?n.children:h;return s(r(),o,c)},dump(o){const h=e("nodeSize"),c=u=>d=>{const m=u+"  ",p=u+"    ",{x:y,y:x}=d,C=h(d),v=d.children||[],$=0===v.length?" ":`,${m}children: [${p}${v.map(c(p)).join(p)}${m}],${u}`;return`{ size: [${C.join(", ")}],${m}x: ${y}, y: ${x}${$}},`};return c("\n")(o)}}),i}Me.version=Ls;const Gn=(t,n=0)=>(t.y=n,(t.children||[]).reduce((e,i)=>{const[r,a]=e;Gn(i,t.y+t.ySize);const s=(0===r?i.lExt:i.rExt).bottom;return 0!==r&&Ps(t,r,a),[r+1,js(s,r,a)]},[0,null]),Os(t),Ks(t),t),Yn=(t,n,e)=>{typeof n>"u"&&(n=-t.relX-t.prelim,e=0);const i=n+t.relX;return t.relX=i+t.prelim-e,t.prelim=0,t.x=e+t.relX,(t.children||[]).forEach(r=>Yn(r,i,t.x)),t},Os=t=>{(t.children||[]).reduce((n,e)=>{const[i,r]=n,a=i+e.shift,s=r+a+e.change;return e.relX+=s,[a,s]},[0,0])},Ps=(t,n,e)=>{const i=t.children[n-1],r=t.children[n];let a=i,s=i.relX,o=r,h=r.relX,c=!0;for(;a&&o;){a.bottom>e.lowY&&(e=e.next);const u=s+a.prelim-(h+o.prelim)+a.xSize/2+o.xSize/2+a.spacing(o);(u>0||u<0&&c)&&(h+=u,Us(r,u),Vs(t,n,e.index,u)),c=!1;const d=a.bottom,m=o.bottom;d<=m&&(a=Js(a),a&&(s+=a.relX)),d>=m&&(o=Ws(o),o&&(h+=o.relX))}!a&&o?qs(t,n,o,h):a&&!o&&Zs(t,n,a,s)},Us=(t,n)=>{t.relX+=n,t.lExtRelX+=n,t.rExtRelX+=n},Vs=(t,n,e,i)=>{const r=t.children[n],a=n-e;if(a>1){const s=i/a;t.children[e+1].shift+=s,r.shift-=s,r.change-=i-s}},Ws=t=>t.hasChildren?t.firstChild:t.lThr,Js=t=>t.hasChildren?t.lastChild:t.rThr,qs=(t,n,e,i)=>{const r=t.firstChild,a=r.lExt,s=t.children[n];a.lThr=e;const o=i-e.relX-r.lExtRelX;a.relX+=o,a.prelim-=o,r.lExt=s.lExt,r.lExtRelX=s.lExtRelX},Zs=(t,n,e,i)=>{const r=t.children[n],a=r.rExt,s=t.children[n-1];a.rThr=e;const o=i-e.relX-r.rExtRelX;a.relX+=o,a.prelim-=o,r.rExt=s.rExt,r.rExtRelX=s.rExtRelX},Ks=t=>{if(t.hasChildren){const n=t.firstChild,e=t.lastChild;Object.assign(t,{prelim:(n.prelim+n.relX-n.xSize/2+e.relX+e.prelim+e.xSize/2)/2,lExt:n.lExt,lExtRelX:n.lExtRelX,rExt:e.rExt,rExtRelX:e.rExtRelX})}},js=(t,n,e)=>{for(;null!==e&&t>=e.lowY;)e=e.next;return{lowY:t,index:n,next:e}};var Qs=Array.prototype.slice;function Ln(t){return function(){return t}}class Xn{constructor(n,e){this._context=n,this._x=e}areaStart(){this._line=0}areaEnd(){this._line=NaN}lineStart(){this._point=0}lineEnd(){(this._line||0!==this._line&&1===this._point)&&this._context.closePath(),this._line=1-this._line}point(n,e){switch(n=+n,e=+e,this._point){case 0:this._point=1,this._line?this._context.lineTo(n,e):this._context.moveTo(n,e);break;case 1:this._point=2;default:this._x?this._context.bezierCurveTo(this._x0=(this._x0+n)/2,this._y0,this._x0,e,n,e):this._context.bezierCurveTo(this._x0,this._y0=(this._y0+e)/2,n,this._y0,n,e)}this._x0=n,this._y0=e}}function el(t){return new Xn(t,!0)}const Ae=Math.PI,Ie=2*Ae,dt=1e-6,nl=Ie-dt;function On(t){this._+=t[0];for(let n=1,e=t.length;n<e;++n)this._+=arguments[n]+t[n]}class ae{constructor(n){this._x0=this._y0=this._x1=this._y1=null,this._="",this._append=null==n?On:function il(t){let n=Math.floor(t);if(!(n>=0))throw new Error(`invalid digits: ${t}`);if(n>15)return On;const e=10**n;return function(i){this._+=i[0];for(let r=1,a=i.length;r<a;++r)this._+=Math.round(arguments[r]*e)/e+i[r]}}(n)}moveTo(n,e){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}`}closePath(){null!==this._x1&&(this._x1=this._x0,this._y1=this._y0,this._append`Z`)}lineTo(n,e){this._append`L${this._x1=+n},${this._y1=+e}`}quadraticCurveTo(n,e,i,r){this._append`Q${+n},${+e},${this._x1=+i},${this._y1=+r}`}bezierCurveTo(n,e,i,r,a,s){this._append`C${+n},${+e},${+i},${+r},${this._x1=+a},${this._y1=+s}`}arcTo(n,e,i,r,a){if(n=+n,e=+e,i=+i,r=+r,(a=+a)<0)throw new Error(`negative radius: ${a}`);let s=this._x1,o=this._y1,h=i-n,c=r-e,u=s-n,d=o-e,m=u*u+d*d;if(null===this._x1)this._append`M${this._x1=n},${this._y1=e}`;else if(m>dt)if(Math.abs(d*h-c*u)>dt&&a){let p=i-s,y=r-o,x=h*h+c*c,C=p*p+y*y,v=Math.sqrt(x),$=Math.sqrt(m),A=a*Math.tan((Ae-Math.acos((x+m-C)/(2*v*$)))/2),N=A/$,z=A/v;Math.abs(N-1)>dt&&this._append`L${n+N*u},${e+N*d}`,this._append`A${a},${a},0,0,${+(d*p>u*y)},${this._x1=n+z*h},${this._y1=e+z*c}`}else this._append`L${this._x1=n},${this._y1=e}`}arc(n,e,i,r,a,s){if(n=+n,e=+e,s=!!s,(i=+i)<0)throw new Error(`negative radius: ${i}`);let o=i*Math.cos(r),h=i*Math.sin(r),c=n+o,u=e+h,d=1^s,m=s?r-a:a-r;null===this._x1?this._append`M${c},${u}`:(Math.abs(this._x1-c)>dt||Math.abs(this._y1-u)>dt)&&this._append`L${c},${u}`,i&&(m<0&&(m=m%Ie+Ie),m>nl?this._append`A${i},${i},0,1,${d},${n-o},${e-h}A${i},${i},0,1,${d},${this._x1=c},${this._y1=u}`:m>dt&&this._append`A${i},${i},0,${+(m>=Ae)},${d},${this._x1=n+i*Math.cos(a)},${this._y1=e+i*Math.sin(a)}`)}rect(n,e,i,r){this._append`M${this._x0=this._x1=+n},${this._y0=this._y1=+e}h${i=+i}v${+r}h${-i}Z`}toString(){return this._}}function ol(t){return t[0]}function sl(t){return t[1]}function ll(t){return t.source}function cl(t){return t.target}const M={selection:gt,select:U,max:function Xr(t,n){let e;if(void 0===n)for(const i of t)null!=i&&(e<i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let r of t)null!=(r=n(r,++i,t))&&(e<r||void 0===e&&r>=r)&&(e=r)}return e},min:function Or(t,n){let e;if(void 0===n)for(const i of t)null!=i&&(e>i||void 0===e&&i>=i)&&(e=i);else{let i=-1;for(let r of t)null!=(r=n(r,++i,t))&&(e>r||void 0===e&&r>=r)&&(e=r)}return e},sum:function Pr(t,n){let e=0;if(void 0===n)for(let i of t)(i=+i)&&(e+=i);else{let i=-1;for(let r of t)(r=+n(r,++i,t))&&(e+=r)}return e},cumsum:function Ur(t,n){var e=0,i=0;return Float64Array.from(t,void 0===n?r=>e+=+r||0:r=>e+=+n(r,i++,t)||0)},tree:function ga(){var t=ha,n=1,e=1,i=null;function r(c){var u=function pa(t){for(var e,r,a,s,o,n=new Yt(t,0),i=[n];e=i.pop();)if(a=e._.children)for(e.children=new Array(o=a.length),s=o-1;s>=0;--s)i.push(r=e.children[s]=new Yt(a[s],s)),r.parent=e;return(n.parent=new Yt(null,0)).children=[n],n}(c);if(u.eachAfter(a),u.parent.m=-u.z,u.eachBefore(s),i)c.eachBefore(h);else{var d=c,m=c,p=c;c.eachBefore(function($){$.x<d.x&&(d=$),$.x>m.x&&(m=$),$.depth>p.depth&&(p=$)});var y=d===m?1:t(d,m)/2,x=y-d.x,C=n/(m.x+y+x),v=e/(p.depth||1);c.eachBefore(function($){$.x=($.x+x)*C,$.y=$.depth*v})}return c}function a(c){var u=c.children,d=c.parent.children,m=c.i?d[c.i-1]:null;if(u){!function da(t){for(var a,n=0,e=0,i=t.children,r=i.length;--r>=0;)(a=i[r]).z+=n,a.m+=n,n+=a.s+(e+=a.c)}(c);var p=(u[0].z+u[u.length-1].z)/2;m?(c.z=m.z+t(c._,m._),c.m=c.z-p):c.z=p}else m&&(c.z=m.z+t(c._,m._));c.parent.A=function o(c,u,d){if(u){for(var N,m=c,p=c,y=u,x=m.parent.children[0],C=m.m,v=p.m,$=y.m,A=x.m;y=fe(y),m=he(m),y&&m;)x=he(x),(p=fe(p)).a=c,(N=y.z+$-m.z-C+t(y._,m._))>0&&(fa(ma(y,c,d),c,N),C+=N,v+=N),$+=y.m,C+=m.m,A+=x.m,v+=p.m;y&&!fe(p)&&(p.t=y,p.m+=$-v),m&&!he(x)&&(x.t=m,x.m+=C-A,d=c)}return d}(c,m,c.parent.A||d[0])}function s(c){c._.x=c.z+c.parent.m,c.m+=c.parent.m}function h(c){c.x*=n,c.y=c.depth*e}return r.separation=function(c){return arguments.length?(t=c,r):t},r.size=function(c){return arguments.length?(i=!1,n=+c[0],e=+c[1],r):i?null:[n,e]},r.nodeSize=function(c){return arguments.length?(i=!0,n=+c[0],e=+c[1],r):i?[n,e]:null},r},stratify:function wa(){var e,t=xa,n=va;function i(r){var h,c,u,d,m,p,y,x,a=Array.from(r),s=t,o=n,C=new Map;if(null!=e){const v=a.map((N,z)=>function Ca(t){let n=(t=`${t}`).length;return pe(t,n-1)&&!pe(t,n-2)&&(t=t.slice(0,-1)),"/"===t[0]?t:`/${t}`}(e(N,z,r))),$=v.map(nn),A=new Set(v).add("");for(const N of $)A.has(N)||(A.add(N),v.push(N),$.push(nn(N)),a.push(me));s=(N,z)=>v[z],o=(N,z)=>$[z]}for(u=0,h=a.length;u<h;++u)p=a[u]=new yt(c=a[u]),null!=(y=s(c,u,r))&&(y+="")&&(x=p.id=y,C.set(x,C.has(x)?en:p)),null!=(y=o(c,u,r))&&(y+="")&&(p.parent=y);for(u=0;u<h;++u)if(y=(p=a[u]).parent){if(!(m=C.get(y)))throw new Error("missing: "+y);if(m===en)throw new Error("ambiguous: "+y);m.children?m.children.push(p):m.children=[p],p.parent=m}else{if(d)throw new Error("multiple roots");d=p}if(!d)throw new Error("no root");if(null!=e){for(;d.data===me&&1===d.children.length;)d=d.children[0],--h;for(let v=a.length-1;v>=0&&(p=a[v]).data===me;--v)p.data=null}if(d.parent=_a,d.eachBefore(function(v){v.depth=v.parent.depth+1,--h}).eachBefore(tn),d.parent=null,h>0)throw new Error("cycle");return d}return i.id=function(r){return arguments.length?(t=de(r),i):t},i.parentId=function(r){return arguments.length?(n=de(r),i):n},i.path=function(r){return arguments.length?(e=de(r),i):e},i},zoom:function Cs(){var u,d,m,t=ys,n=_s,e=ws,i=xs,r=vs,a=[0,1/0],s=[[-1/0,-1/0],[1/0,1/0]],o=250,h=Ma,c=on("start","zoom","end"),p=500,y=150,x=0,C=10;function v(g){g.property("__zoom",Dn).on("wheel.zoom",st,{passive:!1}).on("mousedown.zoom",zt).on("dblclick.zoom",lt).filter(r).on("touchstart.zoom",vt).on("touchmove.zoom",et).on("touchend.zoom touchcancel.zoom",Un).style("-webkit-tap-highlight-color","rgba(0,0,0,0)")}function $(g,E){return(E=Math.max(a[0],Math.min(a[1],E)))===g.k?g:new Q(E,g.x,g.y)}function A(g,E,_){var k=E[0]-_[0]*g.k,S=E[1]-_[1]*g.k;return k===g.x&&S===g.y?g:new Q(g.k,k,S)}function N(g){return[(+g[0][0]+ +g[1][0])/2,(+g[0][1]+ +g[1][1])/2]}function z(g,E,_,k){g.on("start.zoom",function(){D(this,arguments).event(k).start()}).on("interrupt.zoom end.zoom",function(){D(this,arguments).event(k).end()}).tween("zoom",function(){var S=this,f=arguments,w=D(S,f).event(k),b=n.apply(S,f),R=null==_?N(b):"function"==typeof _?_.apply(S,f):_,B=Math.max(b[1][0]-b[0][0],b[1][1]-b[0][1]),I=S.__zoom,X="function"==typeof E?E.apply(S,f):E,nt=h(I.invert(R).concat(B/I.k),X.invert(R).concat(B/X.k));return function(J){if(1===J)J=X;else{var it=nt(J),He=B/it[2];J=new Q(He,R[0]-it[0]*He,R[1]-it[1]*He)}w.zoom(null,J)}})}function D(g,E,_){return!_&&g.__zooming||new L(g,E)}function L(g,E){this.that=g,this.args=E,this.active=0,this.sourceEvent=null,this.extent=n.apply(g,E),this.taps=0}function st(g,...E){if(t.apply(this,arguments)){var _=D(this,E).event(g),k=this.__zoom,S=Math.max(a[0],Math.min(a[1],k.k*Math.pow(2,i.apply(this,arguments)))),f=ct(g);if(_.wheel)(_.mouse[0][0]!==f[0]||_.mouse[0][1]!==f[1])&&(_.mouse[1]=k.invert(_.mouse[0]=f)),clearTimeout(_.wheel);else{if(k.k===S)return;_.mouse=[f,k.invert(f)],qt(this),_.start()}It(g),_.wheel=setTimeout(function w(){_.wheel=null,_.end()},y),_.zoom("mouse",e(A($(k,S),_.mouse[0],_.mouse[1]),_.extent,s))}}function zt(g,...E){if(!m&&t.apply(this,arguments)){var _=g.currentTarget,k=D(this,E,!0).event(g),S=U(g.view).on("mousemove.zoom",function R(I){if(It(I),!k.moved){var X=I.clientX-w,nt=I.clientY-b;k.moved=X*X+nt*nt>x}k.event(I).zoom("mouse",e(A(k.that.__zoom,k.mouse[0]=ct(I,_),k.mouse[1]),k.extent,s))},!0).on("mouseup.zoom",function B(I){S.on("mousemove.zoom mouseup.zoom",null),function Sa(t,n){var e=t.document.documentElement,i=U(t).on("dragstart.drag",null);n&&(i.on("click.drag",ye,ge),setTimeout(function(){i.on("click.drag",null)},0)),"onselectstart"in e?i.on("selectstart.drag",null):(e.style.MozUserSelect=e.__noselect,delete e.__noselect)}(I.view,k.moved),It(I),k.event(I).end()},!0),f=ct(g,_),w=g.clientX,b=g.clientY;(function $a(t){var n=t.document.documentElement,e=U(t).on("dragstart.drag",ye,ge);"onselectstart"in n?e.on("selectstart.drag",ye,ge):(n.__noselect=n.style.MozUserSelect,n.style.MozUserSelect="none")})(g.view),Ne(g),k.mouse=[f,this.__zoom.invert(f)],qt(this),k.start()}}function lt(g,...E){if(t.apply(this,arguments)){var _=this.__zoom,k=ct(g.changedTouches?g.changedTouches[0]:g,this),S=_.invert(k),w=e(A($(_,_.k*(g.shiftKey?.5:2)),k,S),n.apply(this,E),s);It(g),o>0?U(this).transition().duration(o).call(z,w,k,g):U(this).call(v.transform,w,k,g)}}function vt(g,...E){if(t.apply(this,arguments)){var f,w,b,R,_=g.touches,k=_.length,S=D(this,E,g.changedTouches.length===k).event(g);for(Ne(g),w=0;w<k;++w)R=[R=ct(b=_[w],this),this.__zoom.invert(R),b.identifier],S.touch0?!S.touch1&&S.touch0[2]!==R[2]&&(S.touch1=R,S.taps=0):(S.touch0=R,f=!0,S.taps=1+!!u);u&&(u=clearTimeout(u)),f&&(S.taps<2&&(d=R[0],u=setTimeout(function(){u=null},p)),qt(this),S.start())}}function et(g,...E){if(this.__zooming){var f,w,b,R,_=D(this,E).event(g),k=g.changedTouches,S=k.length;for(It(g),f=0;f<S;++f)b=ct(w=k[f],this),_.touch0&&_.touch0[2]===w.identifier?_.touch0[0]=b:_.touch1&&_.touch1[2]===w.identifier&&(_.touch1[0]=b);if(w=_.that.__zoom,_.touch1){var B=_.touch0[0],I=_.touch0[1],X=_.touch1[0],nt=_.touch1[1],J=(J=X[0]-B[0])*J+(J=X[1]-B[1])*J,it=(it=nt[0]-I[0])*it+(it=nt[1]-I[1])*it;w=$(w,Math.sqrt(J/it)),b=[(B[0]+X[0])/2,(B[1]+X[1])/2],R=[(I[0]+nt[0])/2,(I[1]+nt[1])/2]}else{if(!_.touch0)return;b=_.touch0[0],R=_.touch0[1]}_.zoom("touch",e(A(w,b,R),_.extent,s))}}function Un(g,...E){if(this.__zooming){var f,w,_=D(this,E).event(g),k=g.changedTouches,S=k.length;for(Ne(g),m&&clearTimeout(m),m=setTimeout(function(){m=null},p),f=0;f<S;++f)w=k[f],_.touch0&&_.touch0[2]===w.identifier?delete _.touch0:_.touch1&&_.touch1[2]===w.identifier&&delete _.touch1;if(_.touch1&&!_.touch0&&(_.touch0=_.touch1,delete _.touch1),_.touch0)_.touch0[1]=this.__zoom.invert(_.touch0[0]);else if(_.end(),2===_.taps&&(w=ct(w,this),Math.hypot(d[0]-w[0],d[1]-w[1])<C)){var b=U(this).on("dblclick.zoom");b&&b.apply(this,arguments)}}}return v.transform=function(g,E,_,k){var S=g.selection?g.selection():g;S.property("__zoom",Dn),g!==S?z(g,E,_,k):S.interrupt().each(function(){D(this,arguments).event(k).start().zoom(null,"function"==typeof E?E.apply(this,arguments):E).end()})},v.scaleBy=function(g,E,_,k){v.scaleTo(g,function(){return this.__zoom.k*("function"==typeof E?E.apply(this,arguments):E)},_,k)},v.scaleTo=function(g,E,_,k){v.transform(g,function(){var S=n.apply(this,arguments),f=this.__zoom,w=null==_?N(S):"function"==typeof _?_.apply(this,arguments):_,b=f.invert(w),R="function"==typeof E?E.apply(this,arguments):E;return e(A($(f,R),w,b),S,s)},_,k)},v.translateBy=function(g,E,_,k){v.transform(g,function(){return e(this.__zoom.translate("function"==typeof E?E.apply(this,arguments):E,"function"==typeof _?_.apply(this,arguments):_),n.apply(this,arguments),s)},null,k)},v.translateTo=function(g,E,_,k,S){v.transform(g,function(){var f=n.apply(this,arguments),w=this.__zoom,b=null==k?N(f):"function"==typeof k?k.apply(this,arguments):k;return e(ie.translate(b[0],b[1]).scale(w.k).translate("function"==typeof E?-E.apply(this,arguments):-E,"function"==typeof _?-_.apply(this,arguments):-_),f,s)},k,S)},L.prototype={event:function(g){return g&&(this.sourceEvent=g),this},start:function(){return 1==++this.active&&(this.that.__zooming=this,this.emit("start")),this},zoom:function(g,E){return this.mouse&&"mouse"!==g&&(this.mouse[1]=E.invert(this.mouse[0])),this.touch0&&"touch"!==g&&(this.touch0[1]=E.invert(this.touch0[0])),this.touch1&&"touch"!==g&&(this.touch1[1]=E.invert(this.touch1[0])),this.that.__zoom=E,this.emit("zoom"),this},end:function(){return 0==--this.active&&(delete this.that.__zooming,this.emit("end")),this},emit:function(g){var E=U(this.that).datum();c.call(g,this.that,new ps(g,{sourceEvent:this.sourceEvent,target:v,type:g,transform:this.that.__zoom,dispatch:c}),E)}},v.wheelDelta=function(g){return arguments.length?(i="function"==typeof g?g:ne(+g),v):i},v.filter=function(g){return arguments.length?(t="function"==typeof g?g:ne(!!g),v):t},v.touchable=function(g){return arguments.length?(r="function"==typeof g?g:ne(!!g),v):r},v.extent=function(g){return arguments.length?(n="function"==typeof g?g:ne([[+g[0][0],+g[0][1]],[+g[1][0],+g[1][1]]]),v):n},v.scaleExtent=function(g){return arguments.length?(a[0]=+g[0],a[1]=+g[1],v):[a[0],a[1]]},v.translateExtent=function(g){return arguments.length?(s[0][0]=+g[0][0],s[1][0]=+g[1][0],s[0][1]=+g[0][1],s[1][1]=+g[1][1],v):[[s[0][0],s[0][1]],[s[1][0],s[1][1]]]},v.constrain=function(g){return arguments.length?(e=g,v):e},v.duration=function(g){return arguments.length?(o=+g,v):o},v.interpolate=function(g){return arguments.length?(h=g,v):h},v.on=function(){var g=c.on.apply(c,arguments);return g===c?v:g},v.clickDistance=function(g){return arguments.length?(x=(g=+g)*g,v):Math.sqrt(x)},v.tapDistance=function(g){return arguments.length?(C=+g,v):C},v},zoomIdentity:ie,linkHorizontal:function ul(){return function ze(t){let n=ll,e=cl,i=ol,r=sl,a=null,s=null,o=function al(t){let n=3;return t.digits=function(e){if(!arguments.length)return n;if(null==e)n=null;else{const i=Math.floor(e);if(!(i>=0))throw new RangeError(`invalid digits: ${e}`);n=i}return t},()=>new ae(n)}(h);function h(){let c;const u=Qs.call(arguments),d=n.apply(this,u),m=e.apply(this,u);if(null==a&&(s=t(c=o())),s.lineStart(),u[0]=d,s.point(+i.apply(this,u),+r.apply(this,u)),u[0]=m,s.point(+i.apply(this,u),+r.apply(this,u)),s.lineEnd(),c)return s=null,c+""||null}return h.source=function(c){return arguments.length?(n=c,h):n},h.target=function(c){return arguments.length?(e=c,h):e},h.x=function(c){return arguments.length?(i="function"==typeof c?c:Ln(+c),h):i},h.y=function(c){return arguments.length?(r="function"==typeof c?c:Ln(+c),h):r},h.context=function(c){return arguments.length?(null==c?a=s=null:s=t(a=c),h):a},h}(el)},flextree:Me};class hl{constructor(){const n={id:`ID${Math.floor(1e6*Math.random())}`,firstDraw:!0,ctx:document.createElement("canvas").getContext("2d"),initialExpandLevel:1,nodeDefaultBackground:"none",lastTransform:{x:0,y:0,k:1},allowedNodesCount:{},zoomBehavior:null,generateRoot:null,svgWidth:800,svgHeight:window.innerHeight-100,container:"body",data:null,connections:[],defaultFont:"Helvetica",nodeId:e=>e.nodeId||e.id,parentNodeId:e=>e.parentNodeId||e.parentId,rootMargin:40,nodeWidth:e=>250,nodeHeight:e=>150,neighbourMargin:(e,i)=>80,siblingsMargin:e=>20,childrenMargin:e=>60,compactMarginPair:e=>100,compactMarginBetween:e=>20,nodeButtonWidth:e=>40,nodeButtonHeight:e=>40,nodeButtonX:e=>-20,nodeButtonY:e=>-20,linkYOffset:30,pagingStep:e=>5,minPagingVisibleNodes:e=>2e3,scaleExtent:[.001,20],duration:400,imageName:"Chart",setActiveNodeCentered:!0,layout:"top",compact:!0,createZoom:e=>M.zoom(),onZoomStart:e=>{},onZoom:e=>{},onZoomEnd:e=>{},onNodeClick:e=>e,onExpandOrCollapse:e=>e,nodeContent:e=>`<div style="padding:5px;font-size:10px;">Sample Node(id=${e.id}), override using <br/> \n            <code>chart.nodeContent({data}=>{ <br/>\n             &nbsp;&nbsp;&nbsp;&nbsp;return '' // Custom HTML <br/>\n             })</code>\n             <br/> \n             Or check different <a href="https://github.com/bumbeishvili/org-chart#jump-to-examples" target="_blank">layout examples</a>\n             </div>`,buttonContent:({node:e,state:i})=>`<div style="border:1px solid #E4E2E9;border-radius:3px;padding:3px;font-size:9px;margin:auto auto;background-color:white"> ${{left:a=>a?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>\n                      </svg></span><span style="color:#716E7B">${e.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                          <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>\n                          </svg></span><span style="color:#716E7B">${e.data._directSubordinatesPaging} </span></div>`,bottom:a=>a?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="margin-left:1px;color:#716E7B" >${e.data._directSubordinatesPaging} </span></div>\n                       `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="margin-left:1px;color:#716E7B" >${e.data._directSubordinatesPaging} </span></div>\n                    `,right:a=>a?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M7.989 3.49944C7.85817 3.63339 7.78492 3.8132 7.78492 4.00044C7.78492 4.18768 7.85817 4.36749 7.989 4.50144L15.2985 11.9999L7.989 19.4969C7.85817 19.6309 7.78492 19.8107 7.78492 19.9979C7.78492 20.1852 7.85817 20.365 7.989 20.4989C8.05259 20.5643 8.12863 20.6162 8.21261 20.6516C8.2966 20.6871 8.38684 20.7053 8.478 20.7053C8.56916 20.7053 8.6594 20.6871 8.74338 20.6516C8.82737 20.6162 8.90341 20.5643 8.967 20.4989L16.74 12.5234C16.8765 12.3834 16.9529 12.1955 16.9529 11.9999C16.9529 11.8044 16.8765 11.6165 16.74 11.4764L8.967 3.50094C8.90341 3.43563 8.82737 3.38371 8.74338 3.34827C8.6594 3.31282 8.56916 3.29456 8.478 3.29456C8.38684 3.29456 8.2966 3.31282 8.21261 3.34827C8.12863 3.38371 8.05259 3.43563 7.989 3.50094V3.49944Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="color:#716E7B">${e.data._directSubordinatesPaging} </span></div>`:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                       <path d="M14.283 3.50094L6.51 11.4749C6.37348 11.615 6.29707 11.8029 6.29707 11.9984C6.29707 12.194 6.37348 12.3819 6.51 12.5219L14.283 20.4989C14.3466 20.5643 14.4226 20.6162 14.5066 20.6516C14.5906 20.6871 14.6808 20.7053 14.772 20.7053C14.8632 20.7053 14.9534 20.6871 15.0374 20.6516C15.1214 20.6162 15.1974 20.5643 15.261 20.4989C15.3918 20.365 15.4651 20.1852 15.4651 19.9979C15.4651 19.8107 15.3918 19.6309 15.261 19.4969L7.9515 11.9984L15.261 4.50144C15.3914 4.36756 15.4643 4.18807 15.4643 4.00119C15.4643 3.81431 15.3914 3.63482 15.261 3.50094C15.1974 3.43563 15.1214 3.38371 15.0374 3.34827C14.9534 3.31282 14.8632 3.29456 14.772 3.29456C14.6808 3.29456 14.5906 3.31282 14.5066 3.34827C14.4226 3.38371 14.3466 3.43563 14.283 3.50094V3.50094Z" fill="#716E7B" stroke="#716E7B"/>\n                       </svg></span><span style="color:#716E7B">${e.data._directSubordinatesPaging} </span></div>`,top:a=>a?`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M11.457 8.07005L3.49199 16.4296C3.35903 16.569 3.28485 16.7543 3.28485 16.9471C3.28485 17.1398 3.35903 17.3251 3.49199 17.4646L3.50099 17.4736C3.56545 17.5414 3.64304 17.5954 3.72904 17.6324C3.81504 17.6693 3.90765 17.6883 4.00124 17.6883C4.09483 17.6883 4.18745 17.6693 4.27344 17.6324C4.35944 17.5954 4.43703 17.5414 4.50149 17.4736L12.0015 9.60155L19.4985 17.4736C19.563 17.5414 19.6405 17.5954 19.7265 17.6324C19.8125 17.6693 19.9052 17.6883 19.9987 17.6883C20.0923 17.6883 20.1849 17.6693 20.2709 17.6324C20.3569 17.5954 20.4345 17.5414 20.499 17.4736L20.508 17.4646C20.641 17.3251 20.7151 17.1398 20.7151 16.9471C20.7151 16.7543 20.641 16.569 20.508 16.4296L12.543 8.07005C12.4729 7.99653 12.3887 7.93801 12.2954 7.89801C12.202 7.85802 12.1015 7.8374 12 7.8374C11.8984 7.8374 11.798 7.85802 11.7046 7.89801C11.6113 7.93801 11.527 7.99653 11.457 8.07005Z" fill="#716E7B" stroke="#716E7B"/>\n                        </svg></span><span style="margin-left:1px;color:#716E7B">${e.data._directSubordinatesPaging} </span></div>\n                        `:`<div style="display:flex;"><span style="align-items:center;display:flex;"><svg width="8" height="8" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                        <path d="M19.497 7.98903L12 15.297L4.503 7.98903C4.36905 7.85819 4.18924 7.78495 4.002 7.78495C3.81476 7.78495 3.63495 7.85819 3.501 7.98903C3.43614 8.05257 3.38462 8.12842 3.34944 8.21213C3.31427 8.29584 3.29615 8.38573 3.29615 8.47653C3.29615 8.56733 3.31427 8.65721 3.34944 8.74092C3.38462 8.82463 3.43614 8.90048 3.501 8.96403L11.4765 16.74C11.6166 16.8765 11.8044 16.953 12 16.953C12.1956 16.953 12.3834 16.8765 12.5235 16.74L20.499 8.96553C20.5643 8.90193 20.6162 8.8259 20.6517 8.74191C20.6871 8.65792 20.7054 8.56769 20.7054 8.47653C20.7054 8.38537 20.6871 8.29513 20.6517 8.21114C20.6162 8.12715 20.5643 8.05112 20.499 7.98753C20.3651 7.85669 20.1852 7.78345 19.998 7.78345C19.8108 7.78345 19.6309 7.85669 19.497 7.98753V7.98903Z" fill="#716E7B" stroke="#716E7B"/>\n                        </svg></span><span style="margin-left:1px;color:#716E7B">${e.data._directSubordinatesPaging} </span></div>\n                    `}[i.layout](e.children)}  </div>`,pagingButton:(e,i,r,a)=>{const s=a.pagingStep(e.parent);return`\n                   <div style="margin-top:90px;">\n                      <div style="display:flex;width:170px;border-radius:20px;padding:5px 15px; padding-bottom:4px;;background-color:#E5E9F2">\n                      <div><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">\n                      <path d="M5.59 7.41L10.18 12L5.59 16.59L7 18L13 12L7 6L5.59 7.41ZM16 6H18V18H16V6Z" fill="#716E7B" stroke="#716E7B"/>\n                      </svg>\n                      </div><div style="line-height:2"> Show next ${Math.min(e.parent.data._directSubordinatesPaging-e.parent.data._pagingStep,s)}  nodes </div></div>\n                   </div>\n                `},nodeUpdate:function(e,i,r){M.select(this).select(".node-rect").attr("stroke",a=>a.data._highlighted||a.data._upToTheRootHighlighted?"#E27396":"none").attr("stroke-width",e.data._highlighted||e.data._upToTheRootHighlighted?10:1)},nodeEnter:e=>e,nodeExit:e=>e,linkUpdate:function(e,i,r){M.select(this).attr("stroke",a=>a.data._upToTheRootHighlighted?"#E27396":"#E4E2E9").attr("stroke-width",a=>a.data._upToTheRootHighlighted?5:1),e.data._upToTheRootHighlighted&&M.select(this).raise()},hdiagonal:function(e,i,r){const a=e.x,s=e.y,o=i.x,h=i.y;let c=r&&null!=r.x?r.x:a,u=r&&null!=r.y?r.y:s,d=o-a<0?-1:1,m=h-s<0?-1:1,y=Math.abs(o-a)/2<35?Math.abs(o-a)/2:35;y=Math.abs(h-s)/2<y?Math.abs(h-s)/2:y,Math.abs(h-s);let C=Math.abs(o-a)/2-y;return`\n                          M ${c} ${u}\n                          L ${c} ${s}\n                          L ${a} ${s}\n                          L ${a+C*d} ${s}\n                          C ${a+C*d+y*d} ${s} \n                            ${a+C*d+y*d} ${s} \n                            ${a+C*d+y*d} ${s+y*m}\n                          L ${a+C*d+y*d} ${h-y*m} \n                          C ${a+C*d+y*d}  ${h} \n                            ${a+C*d+y*d}  ${h} \n                            ${o-C*d}  ${h}\n                          L ${o} ${h}\n               `},diagonal:function(e,i,r,a={sy:0}){const s=e.x;let o=e.y;const h=i.x,c=i.y;let u=r&&null!=r.x?r.x:s,d=r&&null!=r.y?r.y:o,m=h-s<0?-1:1,p=c-o<0?-1:1;o+=a.sy;let x=Math.abs(h-s)/2<35?Math.abs(h-s)/2:35;x=Math.abs(c-o)/2<x?Math.abs(c-o)/2:x;let C=Math.abs(c-o)/2-x;return`\n                          M ${u} ${d}\n                          L ${s} ${d}\n                          L ${s} ${o}\n                          L ${s} ${o+C*p}\n                          C  ${s} ${o+C*p+x*p} ${s} ${o+C*p+x*p} ${s+x*m} ${o+C*p+x*p}\n                          L ${s+(Math.abs(h-s)-2*x)*m+x*m} ${o+C*p+x*p}\n                          C  ${h}  ${o+C*p+x*p} ${h}  ${o+C*p+x*p} ${h} ${c-C*p}\n                          L ${h} ${c}\n               `},defs:function(e,i){return`<defs>\n                    ${i.map(r=>{const a=this.getTextWidth(r.label,{ctx:e.ctx,fontSize:2,defaultFont:e.defaultFont});return`\n                       <marker id="${r.from+"_"+r.to}" refX="${r._source.x<r._target.x?-7:7}" refY="5" markerWidth="500"  markerHeight="500"  orient="${r._source.x<r._target.x?"auto":"auto-start-reverse"}" >\n                       <rect rx=0.5 width=${r.label?a+3:0} height=3 y=1  fill="#E27396"></rect>\n                       <text font-size="2px" x=1 fill="white" y=3>${r.label||""}</text>\n                       </marker>\n\n                       <marker id="arrow-${r.from+"_"+r.to}"  markerWidth="500"  markerHeight="500"  refY="2"  refX="1" orient="${r._source.x<r._target.x?"auto":"auto-start-reverse"}" >\n                       <path transform="translate(0)" d='M0,0 V4 L2,2 Z' fill='#E27396' />\n                       </marker>\n                    `}).join("")}\n                    </defs>\n                    `},connectionsUpdate:function(e,i,r){M.select(this).attr("stroke",a=>"#E27396").attr("stroke-linecap","round").attr("stroke-width",a=>"5").attr("pointer-events","none").attr("marker-start",a=>`url(#${a.from+"_"+a.to})`).attr("marker-end",a=>`url(#arrow-${a.from+"_"+a.to})`)},linkGroupArc:M.linkHorizontal().x(e=>e.x).y(e=>e.y),layoutBindings:{left:{nodeLeftX:e=>0,nodeRightX:e=>e.width,nodeTopY:e=>-e.height/2,nodeBottomY:e=>e.height/2,nodeJoinX:e=>e.x+e.width,nodeJoinY:e=>e.y-e.height/2,linkJoinX:e=>e.x+e.width,linkJoinY:e=>e.y,linkX:e=>e.x,linkY:e=>e.y,linkCompactXStart:e=>e.x+e.width/2,linkCompactYStart:e=>e.y+(e.compactEven?e.height/2:-e.height/2),compactLinkMidX:(e,i)=>e.firstCompactNode.x,compactLinkMidY:(e,i)=>e.firstCompactNode.y+e.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(e)/4,linkParentX:e=>e.parent.x+e.parent.width,linkParentY:e=>e.parent.y,buttonX:e=>e.width,buttonY:e=>e.height/2,centerTransform:({rootMargin:i,centerY:r,scale:a})=>`translate(${i},${r}) scale(${a})`,compactDimension:{sizeColumn:e=>e.height,sizeRow:e=>e.width,reverse:e=>e.slice().reverse()},nodeFlexSize:({height:e,width:i,siblingsMargin:r,childrenMargin:a,state:s,node:o})=>s.compact&&o.flexCompactDim?[o.flexCompactDim[0],o.flexCompactDim[1]]:[e+r,i+a],zoomTransform:({centerY:e,scale:i})=>`translate(0,${e}) scale(${i})`,diagonal:this.hdiagonal.bind(this),swap:e=>{const i=e.x;e.x=e.y,e.y=i},nodeUpdateTransform:({x:e,y:i,height:a})=>`translate(${e},${i-a/2})`},top:{nodeLeftX:e=>-e.width/2,nodeRightX:e=>e.width/2,nodeTopY:e=>0,nodeBottomY:e=>e.height,nodeJoinX:e=>e.x-e.width/2,nodeJoinY:e=>e.y+e.height,linkJoinX:e=>e.x,linkJoinY:e=>e.y+e.height,linkCompactXStart:e=>e.x+(e.compactEven?e.width/2:-e.width/2),linkCompactYStart:e=>e.y+e.height/2,compactLinkMidX:(e,i)=>e.firstCompactNode.x+e.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(e)/4,compactLinkMidY:e=>e.firstCompactNode.y,compactDimension:{sizeColumn:e=>e.width,sizeRow:e=>e.height,reverse:e=>e},linkX:e=>e.x,linkY:e=>e.y,linkParentX:e=>e.parent.x,linkParentY:e=>e.parent.y+e.parent.height,buttonX:e=>e.width/2,buttonY:e=>e.height,centerTransform:({rootMargin:i,scale:a,centerX:s})=>`translate(${s},${i}) scale(${a})`,nodeFlexSize:({height:e,width:i,siblingsMargin:r,childrenMargin:a,state:s,node:o})=>s.compact&&o.flexCompactDim?[o.flexCompactDim[0],o.flexCompactDim[1]]:[i+r,e+a],zoomTransform:({centerX:e,scale:i})=>`translate(${e},0}) scale(${i})`,diagonal:this.diagonal.bind(this),swap:e=>{},nodeUpdateTransform:({x:e,y:i,width:r})=>`translate(${e-r/2},${i})`},bottom:{nodeLeftX:e=>-e.width/2,nodeRightX:e=>e.width/2,nodeTopY:e=>-e.height,nodeBottomY:e=>0,nodeJoinX:e=>e.x-e.width/2,nodeJoinY:e=>e.y-e.height-e.height,linkJoinX:e=>e.x,linkJoinY:e=>e.y-e.height,linkCompactXStart:e=>e.x+(e.compactEven?e.width/2:-e.width/2),linkCompactYStart:e=>e.y-e.height/2,compactLinkMidX:(e,i)=>e.firstCompactNode.x+e.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(e)/4,compactLinkMidY:e=>e.firstCompactNode.y,linkX:e=>e.x,linkY:e=>e.y,compactDimension:{sizeColumn:e=>e.width,sizeRow:e=>e.height,reverse:e=>e},linkParentX:e=>e.parent.x,linkParentY:e=>e.parent.y-e.parent.height,buttonX:e=>e.width/2,buttonY:e=>0,centerTransform:({rootMargin:i,scale:a,centerX:s,chartHeight:o})=>`translate(${s},${o-i}) scale(${a})`,nodeFlexSize:({height:e,width:i,siblingsMargin:r,childrenMargin:a,state:s,node:o})=>s.compact&&o.flexCompactDim?[o.flexCompactDim[0],o.flexCompactDim[1]]:[i+r,e+a],zoomTransform:({centerX:e,scale:i})=>`translate(${e},0}) scale(${i})`,diagonal:this.diagonal.bind(this),swap:e=>{e.y=-e.y},nodeUpdateTransform:({x:e,y:i,width:r,height:a})=>`translate(${e-r/2},${i-a})`},right:{nodeLeftX:e=>-e.width,nodeRightX:e=>0,nodeTopY:e=>-e.height/2,nodeBottomY:e=>e.height/2,nodeJoinX:e=>e.x-e.width-e.width,nodeJoinY:e=>e.y-e.height/2,linkJoinX:e=>e.x-e.width,linkJoinY:e=>e.y,linkX:e=>e.x,linkY:e=>e.y,linkParentX:e=>e.parent.x-e.parent.width,linkParentY:e=>e.parent.y,buttonX:e=>0,buttonY:e=>e.height/2,linkCompactXStart:e=>e.x-e.width/2,linkCompactYStart:e=>e.y+(e.compactEven?e.height/2:-e.height/2),compactLinkMidX:(e,i)=>e.firstCompactNode.x,compactLinkMidY:(e,i)=>e.firstCompactNode.y+e.firstCompactNode.flexCompactDim[0]/4+i.compactMarginPair(e)/4,centerTransform:({rootMargin:i,centerY:r,scale:a,chartWidth:o})=>`translate(${o-i},${r}) scale(${a})`,nodeFlexSize:({height:e,width:i,siblingsMargin:r,childrenMargin:a,state:s,node:o})=>s.compact&&o.flexCompactDim?[o.flexCompactDim[0],o.flexCompactDim[1]]:[e+r,i+a],compactDimension:{sizeColumn:e=>e.height,sizeRow:e=>e.width,reverse:e=>e.slice().reverse()},zoomTransform:({centerY:e,scale:i})=>`translate(0,${e}) scale(${i})`,diagonal:this.hdiagonal.bind(this),swap:e=>{const i=e.x;e.x=-e.y,e.y=i},nodeUpdateTransform:({x:e,y:i,width:r,height:a})=>`translate(${e-r},${i-a/2})`}}};this.getChartState=()=>n,Object.keys(n).forEach(e=>{this[e]=function(i){return arguments.length?(n[e]=i,this):n[e]}}),this.initializeEnterExitUpdatePattern()}initializeEnterExitUpdatePattern(){M.selection.prototype.patternify=function(n){var i=n.selector,r=n.tag,a=n.data||[i],s=this.selectAll("."+i).data(a,(o,h)=>"object"==typeof o&&o.id?o.id:h);return s.exit().remove(),(s=s.enter().append(r).merge(s)).attr("class",i),s}}getNodeChildren({data:n,children:e,_children:i},r){return r.push(n),e&&e.forEach(a=>{this.getNodeChildren(a,r)}),i&&i.forEach(a=>{this.getNodeChildren(a,r)}),r}initialZoom(n){return this.getChartState().lastTransform.k=n,this}render(){const n=this.getChartState();if(!n.data||0==n.data.length)return console.log("ORG CHART - Data is empty"),n.container&&(U(n.container).select(".nodes-wrapper").remove(),U(n.container).select(".links-wrapper").remove(),U(n.container).select(".connections-wrapper").remove()),this;const e=M.select(n.container),i=e.node().getBoundingClientRect();i.width>0&&(n.svgWidth=i.width);const r={id:`ID${Math.floor(1e6*Math.random())}`,chartWidth:n.svgWidth,chartHeight:n.svgHeight};if(n.calc=r,r.centerX=r.chartWidth/2,r.centerY=r.chartHeight/2,n.firstDraw){const o={zoom:null};o.zoom=n.createZoom().clickDistance(10).on("start",(h,c)=>n.onZoomStart(h)).on("end",(h,c)=>n.onZoomEnd(h)).on("zoom",(h,c)=>{n.onZoom(h),this.zoomed(h,c)}).scaleExtent(n.scaleExtent),n.zoomBehavior=o.zoom}n.flexTreeLayout=Me({nodeSize:o=>{const h=n.nodeWidth(o),c=n.nodeHeight(o),u=n.siblingsMargin(o),d=n.childrenMargin(o);return n.layoutBindings[n.layout].nodeFlexSize({state:n,node:o,width:h,height:c,siblingsMargin:u,childrenMargin:d})}}).spacing((o,h)=>o.parent==h.parent?0:n.neighbourMargin(o,h)),this.setLayouts({expandNodesFirst:!1});const a=e.patternify({tag:"svg",selector:"svg-chart-container"}).attr("width",n.svgWidth).attr("height",n.svgHeight).attr("font-family",n.defaultFont);n.firstDraw&&a.call(n.zoomBehavior).on("dblclick.zoom",null).attr("cursor","move"),n.svg=a;const s=a.patternify({tag:"g",selector:"chart"});return n.centerG=s.patternify({tag:"g",selector:"center-group"}),n.linksWrapper=n.centerG.patternify({tag:"g",selector:"links-wrapper"}),n.nodesWrapper=n.centerG.patternify({tag:"g",selector:"nodes-wrapper"}),n.connectionsWrapper=n.centerG.patternify({tag:"g",selector:"connections-wrapper"}),n.defsWrapper=a.patternify({tag:"g",selector:"defs-wrapper"}),n.firstDraw&&n.centerG.attr("transform",()=>n.layoutBindings[n.layout].centerTransform({centerX:r.centerX,centerY:r.centerY,scale:n.lastTransform.k,rootMargin:n.rootMargin,root:n.root,chartHeight:r.chartHeight,chartWidth:r.chartWidth})),n.chart=s,this.update(n.root),M.select(window).on(`resize.${n.id}`,()=>{const o=M.select(n.container).node().getBoundingClientRect();n.svg.attr("width",o.width)}),n.firstDraw&&(n.firstDraw=!1),this}addNode(n){const e=this.getChartState();if(n&&(null==e.parentNodeId(n)||e.parentNodeId(n)==e.nodeId(n))&&0==e.data.length)return e.data.push(n),this.render(),this;const r=e.generateRoot(e.data).descendants(),a=r.filter(({data:o})=>e.nodeId(o).toString()===e.nodeId(n).toString())[0];return r.filter(({data:o})=>e.nodeId(o).toString()===e.parentNodeId(n).toString()),a?(console.log(`ORG CHART - ADD - Node with id "${e.nodeId(n)}" already exists in tree`),this):(n._centered&&!n._expanded&&(n._expanded=!0),e.data.push(n),this.updateNodesState(),this)}removeNode(n){const e=this.getChartState(),a=e.generateRoot(e.data).descendants().filter(({data:o})=>e.nodeId(o)==n)[0];return a?(a.descendants().forEach(o=>o.data._filteredOut=!0),e.data=e.data.filter(o=>!o._filteredOut),0==e.data.length?this.render():this.updateNodesState.bind(this)(),this):(console.log(`ORG CHART - REMOVE - Node with id "${n}" not found in the tree`),this)}groupBy(n,e,i){const r={};return n.forEach(a=>{const s=e(a);r[s]||(r[s]=[]),r[s].push(a)}),Object.keys(r).forEach(a=>{r[a]=i(r[a])}),Object.entries(r)}calculateCompactFlexDimensions(n){const e=this.getChartState();n.eachBefore(i=>{i.firstCompact=null,i.compactEven=null,i.flexCompactDim=null,i.firstCompactNode=null}),n.eachBefore(i=>{if(i.children&&i.children.length>1){const r=i.children.filter(u=>!u.children);if(r.length<2)return;r.forEach((u,d)=>{d||(u.firstCompact=!0),u.compactEven=!(d%2),u.row=Math.floor(d/2)});const a=M.max(r.filter(u=>u.compactEven),e.layoutBindings[e.layout].compactDimension.sizeColumn),s=M.max(r.filter(u=>!u.compactEven),e.layoutBindings[e.layout].compactDimension.sizeColumn),o=2*Math.max(a,s),h=this.groupBy(r,u=>u.row,u=>M.max(u,d=>e.layoutBindings[e.layout].compactDimension.sizeRow(d)+e.compactMarginBetween(d))),c=M.sum(h.map(u=>u[1]));r.forEach(u=>{u.firstCompactNode=r[0],u.flexCompactDim=u.firstCompact?[o+e.compactMarginPair(u),c-e.compactMarginBetween(u)]:[0,0]}),i.flexCompactDim=null}})}calculateCompactFlexPositions(n){const e=this.getChartState();n.eachBefore(i=>{if(i.children){const r=i.children.filter(u=>u.flexCompactDim),a=r[0];if(!a)return;r.forEach((u,d,m)=>{0==d&&(a.x-=a.flexCompactDim[0]/2),d&d%2-1?u.x=a.x+.25*a.flexCompactDim[0]-e.compactMarginPair(u)/4:d&&(u.x=a.x+.75*a.flexCompactDim[0]+e.compactMarginPair(u)/4)});const s=a.x+.5*a.flexCompactDim[0];a.x=a.x+.25*a.flexCompactDim[0]-e.compactMarginPair(a)/4;const o=i.x-s;Math.abs(o)<10&&r.forEach(u=>u.x+=o);const h=this.groupBy(r,u=>u.row,u=>M.max(u,d=>e.layoutBindings[e.layout].compactDimension.sizeRow(d))),c=M.cumsum(h.map(u=>u[1]+e.compactMarginBetween(u)));r.forEach((u,d)=>{u.y=u.row?a.y+c[u.row-1]:a.y})}})}update({x0:n,y0:e,x:i=0,y:r=0,width:a,height:s}){const o=this.getChartState();o.compact&&this.calculateCompactFlexDimensions(o.root);const c=o.flexTreeLayout(o.root);o.compact&&this.calculateCompactFlexPositions(o.root);const u=c.descendants(),d=c.descendants().slice(1);u.forEach(o.layoutBindings[o.layout].swap);const m=o.connections,p={};o.allNodes.forEach(f=>p[o.nodeId(f.data)]=f);const y={};u.forEach(f=>y[o.nodeId(f.data)]=f),m.forEach(f=>{const b=p[f.to];f._source=p[f.from],f._target=b});const x=m.filter(f=>y[f.from]&&y[f.to]),C=o.defs.bind(this)(o,x);C!==o.defsWrapper.html()&&o.defsWrapper.html(C);const $=o.linksWrapper.selectAll("path.link").data(d,f=>o.nodeId(f.data)),N=$.enter().insert("path","g").attr("class","link").attr("d",f=>{const R={x:o.layoutBindings[o.layout].linkJoinX({x:n,y:e,width:a,height:s}),y:o.layoutBindings[o.layout].linkJoinY({x:n,y:e,width:a,height:s})};return o.layoutBindings[o.layout].diagonal(R,R,R)}).merge($);N.attr("fill","none"),this.isEdge()?N.style("display",f=>f.data._pagingButton?"none":"auto"):N.attr("display",f=>f.data._pagingButton?"none":"auto"),N.each(o.linkUpdate),N.transition().duration(o.duration).attr("d",f=>{const w=o.compact&&f.flexCompactDim?{x:o.layoutBindings[o.layout].compactLinkMidX(f,o),y:o.layoutBindings[o.layout].compactLinkMidY(f,o)}:{x:o.layoutBindings[o.layout].linkX(f),y:o.layoutBindings[o.layout].linkY(f)},b={x:o.layoutBindings[o.layout].linkParentX(f),y:o.layoutBindings[o.layout].linkParentY(f)},R=o.compact&&f.flexCompactDim?{x:o.layoutBindings[o.layout].linkCompactXStart(f),y:o.layoutBindings[o.layout].linkCompactYStart(f)}:w;return o.layoutBindings[o.layout].diagonal(w,b,R,{sy:o.linkYOffset})}),$.exit().transition().duration(o.duration).attr("d",f=>{const R={x:o.layoutBindings[o.layout].linkJoinX({x:i,y:r,width:a,height:s}),y:o.layoutBindings[o.layout].linkJoinY({x:i,y:r,width:a,height:s})};return o.layoutBindings[o.layout].diagonal(R,R,null,{sy:o.linkYOffset})}).remove();const D=o.connectionsWrapper.selectAll("path.connection").data(x),st=D.enter().insert("path","g").attr("class","connection").attr("d",f=>{const R={x:o.layoutBindings[o.layout].linkJoinX({x:n,y:e,width:a,height:s}),y:o.layoutBindings[o.layout].linkJoinY({x:n,y:e,width:a,height:s})};return o.layoutBindings[o.layout].diagonal(R,R,null,{sy:o.linkYOffset})}).merge(D);st.attr("fill","none"),st.transition().duration(o.duration).attr("d",f=>{const w=o.layoutBindings[o.layout].linkX({x:f._source.x,y:f._source.y,width:f._source.width,height:f._source.height}),b=o.layoutBindings[o.layout].linkY({x:f._source.x,y:f._source.y,width:f._source.width,height:f._source.height}),R=o.layoutBindings[o.layout].linkJoinX({x:f._target.x,y:f._target.y,width:f._target.width,height:f._target.height}),B=o.layoutBindings[o.layout].linkJoinY({x:f._target.x,y:f._target.y,width:f._target.width,height:f._target.height});return o.linkGroupArc({source:{x:w,y:b},target:{x:R,y:B}})}),st.each(o.connectionsUpdate),D.exit().transition().duration(o.duration).attr("opacity",0).remove();const lt=o.nodesWrapper.selectAll("g.node").data(u,({data:f})=>o.nodeId(f)),vt=lt.enter().append("g").attr("class","node").attr("transform",f=>f==o.root?`translate(${n},${e})`:`translate(${o.layoutBindings[o.layout].nodeJoinX({x:n,y:e,width:a,height:s})},${o.layoutBindings[o.layout].nodeJoinY({x:n,y:e,width:a,height:s})})`).attr("cursor","pointer").on("click.node",(f,w)=>{const{data:b}=w;if(![...f.srcElement.classList].includes("node-button-foreign-object")){if([...f.srcElement.classList].includes("paging-button-wrapper"))return void this.loadPagingNodes(w);if(!b._pagingButton)return void o.onNodeClick(w);console.log("event fired, no handlers")}}).on("keydown.node",(f,w)=>{if("Enter"===f.key||" "===f.key||"Spacebar"===f.key){if([...f.srcElement.classList].includes("node-button-foreign-object"))return;if([...f.srcElement.classList].includes("paging-button-wrapper"))return void this.loadPagingNodes(w);("Enter"===f.key||" "===f.key||"Spacebar"===f.key)&&this.onButtonClick(f,w)}});vt.each(o.nodeEnter),vt.patternify({tag:"rect",selector:"node-rect",data:f=>[f]});const et=vt.merge(lt).style("font","12px sans-serif");et.patternify({tag:"foreignObject",selector:"node-foreign-object",data:f=>[f]}).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-foreign-object-div",data:f=>[f]}),this.restyleForeignObjectElements();const g=vt.patternify({tag:"g",selector:"node-button-g",data:f=>[f]}).on("click",(f,w)=>this.onButtonClick(f,w)).on("keydown",(f,w)=>{("Enter"===f.key||" "===f.key||"Spacebar"===f.key)&&this.onButtonClick(f,w)});g.patternify({tag:"rect",selector:"node-button-rect",data:f=>[f]}).attr("opacity",0).attr("pointer-events","all").attr("width",f=>o.nodeButtonWidth(f)).attr("height",f=>o.nodeButtonHeight(f)).attr("x",f=>o.nodeButtonX(f)).attr("y",f=>o.nodeButtonY(f)),g.patternify({tag:"foreignObject",selector:"node-button-foreign-object",data:f=>[f]}).attr("width",f=>o.nodeButtonWidth(f)).attr("height",f=>o.nodeButtonHeight(f)).attr("x",f=>o.nodeButtonX(f)).attr("y",f=>o.nodeButtonY(f)).style("overflow","visible").patternify({tag:"xhtml:div",selector:"node-button-div",data:f=>[f]}).style("pointer-events","none").style("display","flex").style("width","100%").style("height","100%"),et.transition().attr("opacity",0).duration(o.duration).attr("transform",({x:f,y:w,width:b,height:R})=>o.layoutBindings[o.layout].nodeUpdateTransform({x:f,y:w,width:b,height:R})).attr("opacity",1),et.select(".node-rect").attr("width",({width:f})=>f).attr("height",({height:f})=>f).attr("x",({})=>0).attr("y",({})=>0).attr("cursor","pointer").attr("rx",3).attr("fill",o.nodeDefaultBackground),et.select(".node-button-g").attr("transform",({width:w,height:b})=>`translate(${o.layoutBindings[o.layout].buttonX({width:w,height:b})},${o.layoutBindings[o.layout].buttonY({width:w,height:b})})`).attr("display",({data:f})=>f._directSubordinates>0?null:"none").attr("opacity",({data:f,children:w,_children:b})=>f._pagingButton?0:w||b?1:0),et.select(".node-button-foreign-object .node-button-div").html(f=>o.buttonContent({node:f,state:o})),et.select(".node-button-text").attr("text-anchor","middle").attr("alignment-baseline","middle").attr("font-size",({children:f})=>f?40:26).text(({children:f})=>f?"-":"+").attr("y",this.isEdge()?10:0),et.each(o.nodeUpdate);const _=lt.exit();_.each(o.nodeExit);const k=_.data().reduce((f,w)=>f.depth<w.depth?f:w,{depth:1/0});_.attr("opacity",1).transition().duration(o.duration).attr("transform",f=>{let{x:w,y:b,width:R,height:B}=k.parent||{};return`translate(${o.layoutBindings[o.layout].nodeJoinX({x:w,y:b,width:R,height:B})},${o.layoutBindings[o.layout].nodeJoinY({x:w,y:b,width:R,height:B})})`}).on("end",function(){M.select(this).remove()}).attr("opacity",0),u.forEach(f=>{f.x0=f.x,f.y0=f.y});const S=o.allNodes.filter(f=>f.data._centered)[0];if(S){let f=[S];S.data._centeredWithDescendants&&(f=o.compact?S.descendants().filter((w,b)=>b<7):S.descendants().filter((w,b,R)=>{const B=Math.round(R.length/2);return R.length%2?b>B-2&&b<B+2-1:b>B-2&&b<B+2})),S.data._centeredWithDescendants=null,S.data._centered=null,this.fit({animate:!0,scale:!1,nodes:f})}}isEdge(){return window.navigator.userAgent.includes("Edge")}hdiagonal(n,e,i,r){return this.getChartState().hdiagonal(n,e,i,r)}diagonal(n,e,i,r){return this.getChartState().diagonal(n,e,i,r)}restyleForeignObjectElements(){const n=this.getChartState();n.svg.selectAll(".node-foreign-object").attr("width",({width:e})=>e).attr("height",({height:e})=>e).attr("x",({})=>0).attr("y",({})=>0),n.svg.selectAll(".node-foreign-object-div").style("width",({width:e})=>`${e}px`).style("height",({height:e})=>`${e}px`).html(function(e,i,r){return e.data._pagingButton?`<div class="paging-button-wrapper"><div style="pointer-events:none">${n.pagingButton(e,i,r,n)}</div></div>`:n.nodeContent.bind(this)(e,i,r,n)})}onButtonClick(n,e){const i=this.getChartState();e.data._pagingButton||(i.setActiveNodeCentered&&(e.data._centered=!0,e.data._centeredWithDescendants=!0),e.children?(e._children=e.children,e.children=null,this.setExpansionFlagToChildren(e,!1)):(e.children=e._children,e._children=null,e.children&&e.children.forEach(({data:r})=>r._expanded=!0)),this.update(e),n.stopPropagation(),i.onExpandOrCollapse(e))}setExpansionFlagToChildren({data:n,children:e,_children:i},r){n._expanded=r,e&&e.forEach(a=>{this.setExpansionFlagToChildren(a,r)}),i&&i.forEach(a=>{this.setExpansionFlagToChildren(a,r)})}expandSomeNodes(n){if(n.data._expanded){let e=n.parent;for(;e&&e._children;)e.children=e._children,e._children=null,e=e.parent}n._children&&n._children.forEach(e=>this.expandSomeNodes(e)),n.children&&n.children.forEach(e=>this.expandSomeNodes(e))}updateNodesState(){const n=this.getChartState();this.setLayouts({expandNodesFirst:!0}),this.update(n.root)}setLayouts({expandNodesFirst:n=!0}){const e=this.getChartState();e.generateRoot=M.stratify().id(a=>e.nodeId(a)).parentId(a=>e.parentNodeId(a)),e.root=e.generateRoot(e.data);const i=e.root.descendants();e.initialExpandLevel>1&&i.length>0&&(i.forEach(a=>{a.depth<=e.initialExpandLevel&&(a.data._expanded=!0)}),e.initialExpandLevel=1);const r={};e.root.descendants().filter(a=>a.children).filter(a=>!a.data._pagingStep).forEach(a=>{a.data._pagingStep=e.minPagingVisibleNodes(a)}),e.root.eachBefore((a,s)=>{a.data._directSubordinatesPaging=a.children?a.children.length:0,a.children&&a.children.forEach((o,h)=>{if(o.data._pagingButton=!1,h>a.data._pagingStep&&(r[o.id]=!0),h===a.data._pagingStep&&a.children.length-1>a.data._pagingStep&&(o.data._pagingButton=!0),r[o.parent.id]&&(r[o.id]=!0),o.data._expanded||o.data._centered||o.data._highlighted||o.data._upToTheRootHighlighted){let c=o;for(;c&&(r[c.id]||c.data._pagingButton);)r[c.id]=!1,c.data._pagingButton&&(c.data._pagingButton=!1,c.parent.children.forEach(u=>{u.data._expanded=!0,r[u.id]=!1})),c=c.parent}})}),e.root=M.stratify().id(a=>e.nodeId(a)).parentId(a=>e.parentNodeId(a))(e.data.filter(a=>!0!==r[a.id])),e.root.each((a,s,o)=>{let h=a._hierarchyHeight||a.height,c=e.nodeWidth(a),u=e.nodeHeight(a);Object.assign(a,{width:c,height:u,_hierarchyHeight:h})}),e.root.x0=0,e.root.y0=0,e.allNodes=e.root.descendants(),e.allNodes.forEach(a=>{Object.assign(a.data,{_directSubordinates:a.children?a.children.length:0,_totalSubordinates:a.descendants().length-1})}),e.root.children&&(n&&e.root.children.forEach(this.expand),e.root.children.forEach(a=>this.collapse(a)),0==e.initialExpandLevel&&(e.root._children=e.root.children,e.root.children=null),[e.root].forEach(a=>this.expandSomeNodes(a)))}collapse(n){n.children&&(n._children=n.children,n._children.forEach(e=>this.collapse(e)),n.children=null)}expand(n){n._children&&(n.children=n._children,n.children.forEach(e=>this.expand(e)),n._children=null)}zoomed(n,e){const i=this.getChartState(),r=i.chart,a=n.transform;i.lastTransform=a,r.attr("transform",a),this.isEdge()&&this.restyleForeignObjectElements()}zoomTreeBounds({x0:n,x1:e,y0:i,y1:r,params:a={animate:!0,scale:!0,onCompleted:()=>{}}}){const{centerG:s,svgWidth:o,svgHeight:h,svg:c,zoomBehavior:u,duration:d,lastTransform:m}=this.getChartState();let p=Math.min(8,.9/Math.max((e-n)/o,(r-i)/h)),y=M.zoomIdentity.translate(o/2,h/2);y=y.scale(a.scale?p:m.k),y=y.translate(-(n+e)/2,-(i+r)/2),c.transition().duration(a.animate?d:0).call(u.transform,y),s.transition().duration(a.animate?d:0).attr("transform","translate(0,0)").on("end",function(){a.onCompleted&&a.onCompleted()})}fit({animate:n=!0,nodes:e,scale:i=!0,onCompleted:r=(()=>{})}={}){const a=this.getChartState(),{root:s}=a;let o=e||s.descendants();const h=M.min(o,m=>m.x+a.layoutBindings[a.layout].nodeLeftX(m)),c=M.max(o,m=>m.x+a.layoutBindings[a.layout].nodeRightX(m)),u=M.min(o,m=>m.y+a.layoutBindings[a.layout].nodeTopY(m)),d=M.max(o,m=>m.y+a.layoutBindings[a.layout].nodeBottomY(m));return this.zoomTreeBounds({params:{animate:n,scale:i,onCompleted:r},x0:h-50,x1:c+50,y0:u-50,y1:d+50}),this}loadPagingNodes(n){const e=this.getChartState();n.data._pagingButton=!1;const i=n.parent.data._pagingStep,r=e.pagingStep(n.parent);n.parent.data._pagingStep=i+r,this.updateNodesState()}setExpanded(n,e=!0){const i=this.getChartState(),r=i.allNodes.filter(({data:a})=>i.nodeId(a)==n)[0];if(!r)return console.log(`ORG CHART - ${e?"EXPAND":"COLLAPSE"} - Node with id (${n})  not found in the tree`),this;if(r.data._expanded=e,0==e){const a=r.parent||{descendants:()=>[]};a.descendants().filter(o=>o!=a).forEach(o=>o.data._expanded=!1)}return this}setCentered(n){const e=this.getChartState(),a=e.generateRoot(e.data).descendants().filter(({data:o})=>e.nodeId(o).toString()==n.toString())[0];return a?(a.ancestors().forEach(o=>o.data._expanded=!0),a.data._centered=!0,a.data._expanded=!0,this):(console.log(`ORG CHART - CENTER - Node with id (${n}) not found in the tree`),this)}setHighlighted(n){const e=this.getChartState(),a=e.generateRoot(e.data).descendants().filter(o=>e.nodeId(o.data).toString()===n.toString())[0];return a?(a.ancestors().forEach(o=>o.data._expanded=!0),a.data._highlighted=!0,a.data._expanded=!0,a.data._centered=!0,this):(console.log(`ORG CHART - HIGHLIGHT - Node with id (${n})  not found in the tree`),this)}setUpToTheRootHighlighted(n){const e=this.getChartState(),a=e.generateRoot(e.data).descendants().filter(o=>e.nodeId(o.data).toString()===n.toString())[0];return a?(a.ancestors().forEach(o=>o.data._expanded=!0),a.data._upToTheRootHighlighted=!0,a.data._expanded=!0,a.ancestors().forEach(o=>o.data._upToTheRootHighlighted=!0),this):(console.log(`ORG CHART - HIGHLIGHTROOT - Node with id (${n}) not found in the tree`),this)}clearHighlighting(){const n=this.getChartState();return n.allNodes.forEach(e=>{e.data._highlighted=!1,e.data._upToTheRootHighlighted=!1}),this.update(n.root),this}fullscreen(n){const e=this.getChartState(),i=M.select(n||e.container).node();M.select(document).on("fullscreenchange."+e.id,function(r){(document.fullscreenElement||document.mozFullscreenElement||document.webkitFullscreenElement)==i?setTimeout(s=>{e.svg.attr("height",window.innerHeight-40)},500):e.svg.attr("height",e.svgHeight)}),i.requestFullscreen?i.requestFullscreen():i.mozRequestFullScreen?i.mozRequestFullScreen():i.webkitRequestFullscreen?i.webkitRequestFullscreen():i.msRequestFullscreen&&i.msRequestFullscreen()}zoomIn(){const{svg:n,zoomBehavior:e}=this.getChartState();n.transition().call(e.scaleBy,1.3)}zoomOut(){const{svg:n,zoomBehavior:e}=this.getChartState();n.transition().call(e.scaleBy,.78)}toDataURL(n,e){var i=new XMLHttpRequest;i.onload=function(){var r=new FileReader;r.onloadend=function(){e(r.result)},r.readAsDataURL(i.response)},i.open("GET",n),i.responseType="blob",i.send()}exportImg({full:n=!1,scale:e=3,onLoad:i=(s=>s),save:r=!0,backgroundColor:a="#FAFAFA"}={}){const s=this,o=this.getChartState(),{svg:h,root:c}=o;let u=0;const d=h.selectAll("img");let m=d.size();const p=()=>{JSON.parse(JSON.stringify(s.lastTransform()));const x=s.duration();n&&s.fit();const{svg:C}=s.getChartState();setTimeout(v=>{s.downloadImage({node:C.node(),scale:e,isSvg:!1,backgroundColor:a,onAlreadySerialized:$=>{s.update(c)},imageName:o.imageName,onLoad:i,save:r})},n?x+10:0)};m>0?d.each(function(){s.toDataURL(this.src,y=>{this.src=y,++u==m&&p()})}):p()}exportSvg(){const{svg:n,imageName:e}=this.getChartState();return this.downloadImage({imageName:e,node:n.node(),scale:3,isSvg:!0}),this}expandAll(){const{data:i}=this.getChartState();return i.forEach(r=>r._expanded=!0),this.render(),this}collapseAll(){const{allNodes:n}=this.getChartState();return n.forEach(i=>i.data._expanded=!1),this.initialExpandLevel(0),this.render(),this}downloadImage({node:n,scale:e=2,imageName:i="graph",isSvg:r=!1,save:a=!0,backgroundColor:s="#FAFAFA",onAlreadySerialized:o=(c=>{}),onLoad:h=(c=>{})}){const c=n;function u(x,C){var v=document.createElement("a");"string"==typeof v.download?(document.body.appendChild(v),v.download=C,v.href=x,v.click(),document.body.removeChild(v)):location.replace(x)}function d(x){const C="http://www.w3.org/2000/xmlns/";x=x.cloneNode(!0);const A=window.location.href+"#",N=document.createTreeWalker(x,NodeFilter.SHOW_ELEMENT,null,!1);for(;N.nextNode();)for(const L of N.currentNode.attributes)L.value.includes(A)&&(L.value=L.value.replace(A,"#"));return x.setAttributeNS(C,"xmlns","http://www.w3.org/2000/svg"),x.setAttributeNS(C,"xmlns:xlink","http://www.w3.org/1999/xlink"),(new XMLSerializer).serializeToString(x)}if(r){let x=d(c);return x='<?xml version="1.0" standalone="no"?>\r\n'+x,u(y="data:image/svg+xml;charset=utf-8,"+encodeURIComponent(x),i+".svg"),void o()}const m=e,p=document.createElement("img");p.onload=function(){const x=document.createElement("canvas"),C=c.getBoundingClientRect();x.width=C.width*m,x.height=C.height*m;const v=x.getContext("2d");v.fillStyle=s,v.fillRect(0,0,C.width*m,C.height*m),v.drawImage(p,0,0,C.width*m,C.height*m);let $=x.toDataURL("image/png");h&&h($),a&&u($,i+".png")};var y="data:image/svg+xml; charset=utf8, "+encodeURIComponent(d(c));o(),p.src=y}getTextWidth(n,{fontSize:e=14,fontWeight:i=400,defaultFont:r="Helvetice",ctx:a}={}){return a.font=`${i||""} ${e}px ${r} `,a.measureText(n).width}clear(){const n=this.getChartState();M.select(window).on(`resize.${n.id}`,null),n.svg&&n.svg.selectAll("*").remove()}}var Be=T(3024),tt=T(6524);const fl=["chartContainer"];let dl=(()=>{class t{constructor(e,i,r,a,s){this._matDialog=e,this._familyTreeServeice=i,this._router=r,this._activatedRoute=a,this._changeDetectorRef=s}ngOnInit(){this.data=ml}ngAfterViewInit(){this.chart||(this.chart=new hl),this.updateChart()}ngOnChanges(){this.updateChart()}updateChart(){this.data&&this.chart&&(this.chart.container(this.chartContainer.nativeElement).pagingStep(e=>5).minPagingVisibleNodes(e=>3).nodeContent(function(e,i,r,a){const s="#FFFFFF";return`\n                <div style='width:${e.width}px;height:${e.height}px;padding-top:25px;padding-left:1px;padding-right:1px'>\n                        <div style="font-family: 'Inter', sans-serif;background-color:${s};  margin-left:-1px;width:${e.width-2}px;height:${e.height-27}px;border-radius:10px;border: 1px solid #E4E2E9">\n                            <div style="display:flex;justify-content:flex-end;margin-top:5px;margin-right:8px">#${e.data.id}</div>\n                            <div style="background-color:${s};margin-top:-47px;margin-left:15px;border-radius:100px;width:50px;height:50px;" ></div>\n                            <div style="margin-top:-47px;">   <img src=" ${e.data.image}" style="margin-left:20px;border-radius:100px;width:40px;height:40px;" /></div>\n                            <div style="font-size:15px;color:#08011E;margin-left:20px;margin-top:10px">  ${e.data.name} </div>\n                            <div style="color:#716E7B;margin-left:20px;margin-top:3px;font-size:10px;"> ${e.data.position} </div>\n\n                        </div>\n                    </div>\n                            `}).data(this.data).nodeHeight(e=>110).nodeWidth(e=>222).childrenMargin(e=>50).onNodeClick(e=>this.createRelationship(e)).compactMarginBetween(e=>35).compactMarginPair(e=>30).neighbourMargin((e,i)=>20),this.chart.layoutBindings((()=>{const e=this.chart.layoutBindings();return e.top.linkY=i=>i.y+0,e.top.linkCompactYStart=i=>i.y+i.height/2+15,e})()),this.chart.render())}createRelationship(e){console.log("data",e),this._familyTreeServeice.createRelationship("relationship").subscribe(r=>{this._router.navigate(["./",r.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}filterChart(e){const i=e.srcElement.value;this.chart.clearHighlighting();const r=this.chart.data();r.forEach(a=>a._expanded=!1),r.forEach(a=>{""!=i&&a.name.toLowerCase().includes(i.toLowerCase())&&(a._highlighted=!0,a._expanded=!0)}),this.chart.data(r).render().fit(),console.log("filtering chart",e.srcElement.value)}static#t=this.\u0275fac=function(i){return new(i||t)(l.GI1(Ft.qW),l.GI1(Et.c),l.GI1(P.E5),l.GI1(P.gV),l.GI1(l.kD9))};static#e=this.\u0275cmp=l.In1({type:t,selectors:[["family-tree"]],viewQuery:function(i,r){if(1&i&&l.CC$(fl,5),2&i){let a;l.wto(a=l.Gqi())&&(r.chartContainer=a.first)}},standalone:!0,features:[l.SYr,l.UHJ],decls:8,vars:3,consts:[[1,"mt-8"],[1,"w-1/2",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"spellcheck","input"],["id","chartContainer"],["chartContainer",""]],template:function(i,r){1&i&&(l.I0R(0,"div",0)(1,"mat-form-field",1)(2,"mat-label"),l.OEk(3,"Search By name"),l.C$Y(),l.wR5(4,"mat-icon",2),l.I0R(5,"input",3),l.qCj("input",function(s){return r.filterChart(s)}),l.C$Y()()(),l.wR5(6,"div",4,5)),2&i&&(l.yG2(),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("spellcheck",!1))},dependencies:[at.oJ,rt.oB,rt.qL,O.wb,O.Up,O.w5,O.is,F.y,F.sl,Be.U,tt._A,Ht.KO,mt.cN,mt.yi],styles:[".node-foreign-object[_ngcontent-%COMP%]   .node-foreign-object-div[_ngcontent-%COMP%]{background-color:#f0f8ff;border-radius:10px}"]})}return t})();const ml=[{id:"100",parentId:"",name:"Steven",lastName:"King",position:"Chief Operating Officer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait12.png",email:"SKING",phone_number:"515.123.4567",hire_date:"2003-07-16T19:00:00.000Z",job_id:"AD_PRES",salary:"24000",commission_pct:"",department_id:"90",job_min_salary:"20080",location_state:"Washington",job_max_salary:"40000",department_name:"Executive",department_location_id:"1700",department_location_street_address:"2004 Charade Rd",department_location_postal_code:"98199",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"101",parentId:"100",name:"Neena",lastName:"Kochhar",position:"Administration Vice President",image:"https://bumbeishvili.github.io/avatars/avatars/portrait85.png",email:"NKOCHHAR",phone_number:"515.123.4568",hire_date:"2005-10-20T20:00:00.000Z",job_id:"AD_VP",salary:"17000",commission_pct:"",department_id:"90",job_min_salary:"15000",location_state:"Washington",job_max_salary:"30000",department_name:"Executive",department_location_id:"1700",department_location_street_address:"2004 Charade Rd",department_location_postal_code:"98199",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"102",parentId:"100",name:"Lex",lastName:"De Haan",position:"Administration Vice President",image:"https://bumbeishvili.github.io/avatars/avatars/portrait16.png",email:"LDEHAAN",phone_number:"515.123.4569",hire_date:"2001-02-12T20:00:00.000Z",job_id:"AD_VP",salary:"17000",commission_pct:"",department_id:"90",job_min_salary:"15000",location_state:"Washington",job_max_salary:"30000",department_name:"Executive",department_location_id:"1700",department_location_street_address:"2004 Charade Rd",department_location_postal_code:"98199",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"103",parentId:"102",name:"Alexander",lastName:"Hunold",position:"Programmer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait17.png",email:"AHUNOLD",phone_number:"590.423.4567",hire_date:"2006-02-02T20:00:00.000Z",job_id:"IT_PROG",salary:"9000",commission_pct:"",department_id:"60",job_min_salary:"4000",location_state:"Texas",job_max_salary:"10000",department_name:"IT",department_location_id:"1400",department_location_street_address:"2014 Jabberwocky Rd",department_location_postal_code:"26192",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"104",parentId:"103",name:"Bruce",lastName:"Ernst",position:"Programmer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait18.png",email:"BERNST",phone_number:"590.423.4568",hire_date:"2007-06-20T20:00:00.000Z",job_id:"IT_PROG",salary:"6000",commission_pct:"",department_id:"60",job_min_salary:"4000",location_state:"Texas",job_max_salary:"10000",department_name:"IT",department_location_id:"1400",department_location_street_address:"2014 Jabberwocky Rd",department_location_postal_code:"26192",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"105",parentId:"103",name:"David",lastName:"Austin",position:"Programmer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait19.png",email:"DAUSTIN",phone_number:"590.423.4569",hire_date:"2005-07-24T20:00:00.000Z",job_id:"IT_PROG",salary:"4800",commission_pct:"",department_id:"60",job_min_salary:"4000",location_state:"Texas",job_max_salary:"10000",department_name:"IT",department_location_id:"1400",department_location_street_address:"2014 Jabberwocky Rd",department_location_postal_code:"26192",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"106",parentId:"103",name:"Valli",lastName:"Pataballa",position:"Programmer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait86.png",email:"VPATABAL",phone_number:"590.423.4560",hire_date:"2006-03-04T20:00:00.000Z",job_id:"IT_PROG",salary:"4800",commission_pct:"",department_id:"60",job_min_salary:"4000",location_state:"Texas",job_max_salary:"10000",department_name:"IT",department_location_id:"1400",department_location_street_address:"2014 Jabberwocky Rd",department_location_postal_code:"26192",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"107",parentId:"103",name:"Diana",lastName:"Lorentz",position:"Programmer",image:"https://bumbeishvili.github.io/avatars/avatars/portrait89.png",email:"DLORENTZ",phone_number:"590.423.5567",hire_date:"2007-03-06T20:00:00.000Z",job_id:"IT_PROG",salary:"4200",commission_pct:"",department_id:"60",job_min_salary:"4000",location_state:"Texas",job_max_salary:"10000",department_name:"IT",department_location_id:"1400",department_location_street_address:"2014 Jabberwocky Rd",department_location_postal_code:"26192",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"},{id:"108",parentId:"101",name:"Nancy",lastName:"Greenberg",position:"Finance Manager",image:"https://bumbeishvili.github.io/avatars/avatars/portrait61.png",email:"NGREENBE",phone_number:"515.124.4569",hire_date:"2002-09-16T19:00:00.000Z",job_id:"FI_MGR",salary:"12008",commission_pct:"",department_id:"100",job_min_salary:"8200",location_state:"Washington",job_max_salary:"16000",department_name:"Finance",department_location_id:"1700",department_location_street_address:"2004 Charade Rd",department_location_postal_code:"98199",department_location_country_id:"US",department_location_country_name:"United States of America",department_location_country_region_id:"2",department_location_country_region_name:"Americas"}],pl=["matDrawer"];function gl(t,n){1&t&&(l.SAx(0),l.wR5(1,"app-table"),l.k70())}function yl(t,n){1&t&&(l.SAx(0),l.wR5(1,"family-tree"),l.k70())}let Pn=(()=>{class t{ngAfterViewInit(){this.dataSource.paginator=this.paginator}constructor(e,i,r,a,s){this._matDialog=e,this._familyTreeServeice=i,this._router=r,this._activatedRoute=a,this._changeDetectorRef=s,this.displayedColumns=["fullName","mother","father","childrenMale","childrenFemale","spouse","uncle","grandpa"],this.dataSource=new H._c(_l),this.position="before",this.selectType="Table",this.clickedRows=new Set}ngOnInit(){console.log("data source in rel",this.dataSource),this.roles=[{label:"Newest",value:"newest"},{label:"Deadline",value:"deadline"}]}detailsRelatioships(){this._matDialog.open(Jn).afterClosed().subscribe(i=>{})}createRelationship(e){console.log("Relationship"),this._familyTreeServeice.createRelationship(e).subscribe(i=>{this._router.navigate(["./",i.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}showDetails(){console.log("kl;clxkvsdkvk")}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}trackByFn(e,i){return i.id||e}static#t=this.\u0275fac=function(i){return new(i||t)(l.GI1(Ft.qW),l.GI1(Et.c),l.GI1(P.E5),l.GI1(P.gV),l.GI1(l.kD9))};static#e=this.\u0275cmp=l.In1({type:t,selectors:[["app-relationships-family"]],viewQuery:function(i,r){if(1&i&&(l.CC$(pl,7),l.CC$(wt.Qb,5)),2&i){let a;l.wto(a=l.Gqi())&&(r.matDrawer=a.first),l.wto(a=l.Gqi())&&(r.paginator=a.first)}},standalone:!0,features:[l.UHJ],decls:38,vars:12,consts:[[1,"flex","flex-col","flex-auto","min-w-0"],[1,"flex-auto","h-full","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-8","sm:my-12"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[1,"text-3xl","font-semibold","tracking-tight","leading-8"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["matRipple","",1,"relative","flex","self-start","pt-2","pb-1","pl-5","pr-4","cursor-pointer","overflow-hidden","rounded-t-xl","border","border-b-0","bg-default",3,"matMenuTriggerFor"],[1,"flex","items-center"],[1,"overflow-hidden"],[1,"font-medium","leading-6","truncate"],[1,"font-bold"],[1,"flex","items-center","justify-center","pl-2"],[3,"xPosition"],["projectsMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"flex","flex-col","flex-auto","p-6"],[4,"ngIf"]],template:function(i,r){if(1&i&&(l.I0R(0,"div",0)(1,"mat-drawer-container",1),l.qCj("backdropClick",function(){return r.onBackdropClicked()}),l.I0R(2,"mat-drawer",2,3),l.wR5(4,"router-outlet"),l.C$Y(),l.I0R(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),l.SAx(12),l.I0R(13,"div",11),l.OEk(14," Relationships Family "),l.C$Y(),l.k70(),l.C$Y()(),l.I0R(15,"div",12)(16,"button",13),l.qCj("click",function(){return r.createRelationship("relationship")}),l.wR5(17,"mat-icon",14),l.I0R(18,"span",15),l.OEk(19,"Add"),l.C$Y()()()(),l.I0R(20,"div",16)(21,"div",17)(22,"div",18)(23,"div",19)(24,"span",20),l.OEk(25," Show as: "),l.C$Y(),l.OEk(26),l.C$Y()(),l.I0R(27,"div",21),l.wR5(28,"mat-icon",14),l.C$Y()(),l.I0R(29,"mat-menu",22,23)(31,"button",24),l.qCj("click",function(){return r.selectType="Table"}),l.OEk(32," Table "),l.C$Y(),l.I0R(33,"button",24),l.qCj("click",function(){return r.selectType="Tree"}),l.OEk(34," Tree "),l.C$Y()()()()()(),l.I0R(35,"div",25),l.yuY(36,gl,2,0,"ng-container",26)(37,yl,2,0,"ng-container",26),l.C$Y()()()()),2&i){const a=l.Gew(30);l.yG2(2),l.E7m("mode",r.drawerMode)("opened",!1)("position","end")("disableClose",!0),l.yG2(14),l.E7m("color","primary"),l.yG2(),l.E7m("svgIcon","heroicons_solid:plus"),l.yG2(3),l.E7m("matMenuTriggerFor",a),l.yG2(6),l.oRS("",r.selectType," "),l.yG2(2),l.E7m("svgIcon","heroicons_mini:chevron-down"),l.yG2(),l.E7m("xPosition","before"),l.yG2(7),l.E7m("ngIf","Table"==r.selectType),l.yG2(),l.E7m("ngIf","Tree"==r.selectType)}},dependencies:[dl,H.If,ci,se.KE,se.UZ,tt._A,tt.aM,tt.OQ,tt.yG,Bt.u_,bt.sb,bt.Iz,bt.G4,bt.q0,F.y,wt.w5,mt.cN,Ht.KO,rt.oB,rt.qL,P.cP,O.wb,at.oJ,at.Gw,Ct.d5],styles:[".demo-table{width:100%}.mat-mdc-row .mat-mdc-cell{cursor:pointer;border:none}.demo-row-is-clicked{font-weight:700!important}\n"],encapsulation:2,changeDetection:0})}return t})();const _l=[{mother:"mask",fullName:"Ali Ahmad Mohammed",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Ali Mohammed",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Ali",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen Jasm ",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen Mosa",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Basam",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Osamh",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Kalid",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Ahmad",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Kalid",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"Kalid",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"},{mother:"mask",fullName:"Hydrogen",father:"Gasem",childrenMale:"Hgff",childrenFemale:"Rimas",spouse:"Hmdi",uncle:"Aki",grandpa:"alosh"}];var xl=T(4864),vl=T(4248);const wl=()=>["../"];let Cl=(()=>{class t{constructor(e,i,r,a,s,o,h,c,u,d){this._activatedRoute=e,this._changeDetectorRef=i,this._formBuilder=r,this._fuseConfirmationService=a,this._renderer2=s,this._router=o,this._relationshipsFamily=h,this._overlay=c,this._viewContainerRef=u,this._familyTreeServeice=d,this._unsubscribeAll=new De.E}ngOnInit(){this._relationshipsFamily.matDrawer.open(),this.relationshipForm=this._formBuilder.group({id:[""],fullName:[""],mother:[""],father:[""],childrenMale:[""],childrenFemale:[""],spouse:[""],uncle:[""],grandpa:[""]}),this._familyTreeServeice.familiesMembers$.pipe((0,oe.a)(this._unsubscribeAll)).subscribe(e=>{this.familiasMembers=e,this._changeDetectorRef.markForCheck()})}ngOnDestroy(){}closeDrawer(){return this._relationshipsFamily.matDrawer.close()}trackByFn(e,i){return i.id||e}static#t=this.\u0275fac=function(i){return new(i||t)(l.GI1(P.gV),l.GI1(l.kD9),l.GI1(F.KE),l.GI1(xl.q),l.GI1(l.q87),l.GI1(P.E5),l.GI1(Pn),l.GI1(vl.mc),l.GI1(l.y8U),l.GI1(Et.c))};static#e=this.\u0275cmp=l.In1({type:t,selectors:[["relation-details"]],standalone:!0,features:[l.UHJ],decls:63,vars:39,consts:[[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],[1,"flex","items-center"],["mat-icon-button","",3,"matMenuTriggerFor"],[3,"svgIcon"],["moreMenu","matMenu"],["mat-menu-item",""],["mat-icon-button","",3,"routerLink"],[1,"mt-6","mb-8"],[1,"mt-8"],[1,"w-full",3,"subscriptSizing"],["matPrefix","",1,"hidden","sm:flex","icon-size-5",3,"svgIcon"],["matInput","",3,"formControlName","spellcheck"]],template:function(i,r){if(1&i&&(l.I0R(0,"div",0)(1,"form",1)(2,"div",2)(3,"div",3)(4,"button",4),l.wR5(5,"mat-icon",5),l.C$Y(),l.I0R(6,"mat-menu",null,6)(8,"button",7),l.wR5(9,"mat-icon",5),l.I0R(10,"span"),l.OEk(11,"Delete"),l.C$Y()()(),l.I0R(12,"a",8),l.wR5(13,"mat-icon",5),l.C$Y()()(),l.wR5(14,"mat-divider",9),l.I0R(15,"div",10)(16,"mat-form-field",11)(17,"mat-label"),l.OEk(18,"Full Name"),l.C$Y(),l.wR5(19,"mat-icon",12)(20,"input",13),l.C$Y()(),l.I0R(21,"div",10)(22,"mat-form-field",11)(23,"mat-label"),l.OEk(24,"Father"),l.C$Y(),l.wR5(25,"mat-icon",12)(26,"input",13),l.C$Y()(),l.I0R(27,"div",10)(28,"mat-form-field",11)(29,"mat-label"),l.OEk(30,"Mother"),l.C$Y(),l.wR5(31,"mat-icon",12)(32,"input",13),l.C$Y()(),l.I0R(33,"div",10)(34,"mat-form-field",11)(35,"mat-label"),l.OEk(36,"ChildrenMale"),l.C$Y(),l.wR5(37,"mat-icon",12)(38,"input",13),l.C$Y()(),l.I0R(39,"div",10)(40,"mat-form-field",11)(41,"mat-label"),l.OEk(42,"ChildrenFemale"),l.C$Y(),l.wR5(43,"mat-icon",12)(44,"input",13),l.C$Y()(),l.I0R(45,"div",10)(46,"mat-form-field",11)(47,"mat-label"),l.OEk(48,"Spouse"),l.C$Y(),l.wR5(49,"mat-icon",12)(50,"input",13),l.C$Y()(),l.I0R(51,"div",10)(52,"mat-form-field",11)(53,"mat-label"),l.OEk(54,"Uncle"),l.C$Y(),l.wR5(55,"mat-icon",12)(56,"input",13),l.C$Y()(),l.I0R(57,"div",10)(58,"mat-form-field",11)(59,"mat-label"),l.OEk(60,"Grandpa"),l.C$Y(),l.wR5(61,"mat-icon",12)(62,"input",13),l.C$Y()()()()),2&i){const a=l.Gew(7);l.yG2(),l.E7m("formGroup",r.relationshipForm),l.yG2(3),l.E7m("matMenuTriggerFor",a),l.yG2(),l.E7m("svgIcon","heroicons_outline:ellipsis-vertical"),l.yG2(4),l.E7m("svgIcon","heroicons_outline:trash"),l.yG2(3),l.E7m("routerLink",l.q4q(38,wl)),l.yG2(),l.E7m("svgIcon","heroicons_outline:x-mark"),l.yG2(3),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","fullName")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","father")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","mother")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","childrenMale")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","childrenFemale")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","spouse")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","uncle")("spellcheck",!1),l.yG2(2),l.E7m("subscriptSizing","dynamic"),l.yG2(3),l.E7m("svgIcon","heroicons_solid:user-circle"),l.yG2(),l.E7m("formControlName","grandpa")("spellcheck",!1)}},dependencies:[at.oJ,at.cP,at.um,P.ER,rt.oB,rt.qL,O.wb,O.Up,O.w5,O.is,F.y,F.sz,F.ot,F.ue,F.u,F.sl,F.uW,F.Wo,Be.U,Be.k,tt._A,tt.aM,tt.OQ,tt.yG,Ht.KO,mt.cN,mt.yi],encapsulation:2,changeDetection:0})}return t})();var bl=T(7030),El=T(6936);const kl=[{path:"",component:Pn,children:[{path:":id",component:Cl,resolve:{family:(t,n)=>{const e=(0,l.uUt)(Et.c),i=(0,l.uUt)(P.E5);return e.getFamilyById(t.paramMap.get("id")).pipe((0,bl.a)(r=>{console.error(r);const a=n.url.split("/").slice(0,-1).join("/");return i.navigateByUrl(a),(0,El.c)(r)}))}},canDeactivate:[(t,n,e,i)=>{let r=i.root;for(;r.firstChild;)r=r.firstChild;return!(i.url.includes("/family")&&!r.paramMap.get("id"))||(console.log("found Error in drawer"),t.closeDrawer().then(()=>!0))}]}]}]}}]);