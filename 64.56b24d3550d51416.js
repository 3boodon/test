"use strict";(self.webpackChunkfuse=self.webpackChunkfuse||[]).push([[64],{8064:(Ge,S,n)=>{n.r(S),n.d(S,{default:()=>Re});var e=n(6568),b=n(9240),Q=n(7030),F=n(6936),x=n(3848);let B=(()=>{class i{constructor(){}static#e=this.\u0275fac=function(l){return new(l||i)};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["collectibles"]],standalone:!0,features:[e.UHJ],decls:1,vars:0,template:function(l,o){1&l&&e.wR5(0,"router-outlet")},dependencies:[x.MD,b.cP],encapsulation:2,changeDetection:0})}return i})();var U=n(8608),E=n(6820),R=n(4320),p=n(4832),h=n(6764),g=n(6272),G=n(1952),J=n(6488),j=n(5528),K=n(4088);let I=(()=>{class i{constructor(t,l){this._httpClient=t,this._wealthApi=l,this._collectible=new U.g(null),this._collectibles=new U.g(null),this._unsubscribeAll=new E.E,this.baseUrl="your-api-url"}get collectible$(){return this._collectible.asObservable()}get collectibles$(){return this._collectibles.asObservable()}getCollectibles(t="mock"){return this._wealthApi.getCollectibles("base").pipe((0,R.y)(l=>{console.log(l),this._collectibles.next(l)}))}updateCollectible(t,l,o="mock"){return this.collectibles$.pipe((0,p.U)(1),(0,h.G)("mock"===o?c=>this._httpClient.patch("api/debt-management/collectible",{id:t,collectible:l}).pipe((0,g.k)(a=>{const r=c.findIndex(d=>d.id===t);return c[r]=a,this._collectibles.next(c),a}),(0,h.G)(a=>this.collectible$.pipe((0,p.U)(1),(0,G.I)(r=>r&&r.id===t),(0,R.y)(()=>(this._collectible.next(a),a))))):c=>this._wealthApi.patchCollectibles("base",{id:t,collectible:l}).pipe((0,g.k)(a=>{const r=c.findIndex(d=>d.id===t);return c[r]=a,this._collectibles.next(c),a}),(0,h.G)(a=>this.collectible$.pipe((0,p.U)(1),(0,G.I)(r=>r&&r.id===t),(0,R.y)(()=>(this._collectible.next(a),a)))))))}deleteCollectible(t){return this.collectibles$.pipe((0,p.U)(1),(0,h.G)(l=>this._httpClient.delete("api/debt-management/debt",{params:{id:t}}).pipe((0,g.k)(o=>{const c=l.findIndex(a=>a.id===t);return l.splice(c,1),this._collectibles.next(l),o}))))}createCollectible(t,l="mock"){return this.collectibles$.pipe((0,p.U)(1),(0,h.G)("base"==l?a=>this._wealthApi.postCollectible("base",t).pipe((0,g.k)(r=>(console.log("newcollectible ",r),this._collectibles.next([r,...a]),r))):c=>this._httpClient.post("api/debt-management/debt",{collectibleData:t}).pipe((0,g.k)(a=>(this._collectibles.next([a,...c]),a)))))}getCollectibleById(t){return this._collectibles.pipe((0,p.U)(1),(0,g.k)(l=>{const o=l.find(c=>c.id.toString()==t)||null;return this._collectible.next(o),o}),(0,h.G)(l=>l?(0,J.of)(l):(0,F.c)("Could not found collectible with id of "+t+"!")))}static#e=this.\u0275fac=function(l){return new(l||i)(e.CoB(j.KK),e.CoB(K.u))};static#t=this.\u0275prov=e.wxM({token:i,factory:i.\u0275fac,providedIn:"root"})}return i})();var P=n(6924),m=n(4332),v=n(9512),L=n(7280),N=n(7804),C=n(568),M=n(3024),y=n(6300),k=n(2556),T=n(8083),f=n(6524),V=n(3148),_=n(8168),z=n(8616),w=n(8240),H=n(4864),W=n(6752),u=n(324),X=n(9020),Z=n(3328),$=n(6312);const q=["matDrawer"];function ee(i,s){if(1&i&&(e.SAx(0),e.OEk(1),e.k70()),2&i){const t=e.GaO(2);e.yG2(),e.oRS(" ",t.collectibleCount," ")}}const te=(i,s,t,l,o,c,a,r,d,A,Y,O)=>({"=0":i,"=1":s,"=2":t,"=3":l,"=4":o,"=5":c,"=6":a,"=7":r,"=8":d,"=9":A,"=10":Y,other:O});function le(i,s){if(1&i&&(e.SAx(0),e.I0R(1,"div",14),e.OEk(2),e.C$Y(),e.I0R(3,"div",15),e.yuY(4,ee,2,1,"ng-container",16),e.OEk(5),e.wVc(6,"i18nPlural"),e.C$Y(),e.k70()),2&i){const t=s.$implicit,l=e.GaO();e.yG2(2),e.oRS(" ",t("Collectibles")," "),e.yG2(2),e.E7m("ngIf",l.collectibleCount>0),e.yG2(),e.oRS(" ",e.g7$(6,3,l.collectibleCount,e.gFU(6,te,[t("NoCollectibles"),t("Collectible"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectibles"),t("Collectible")]))," ")}}function ie(i,s){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",17)(2,"button",18),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.createCollectible("Collectible"))}),e.wR5(3,"mat-icon",19),e.I0R(4,"span",20),e.OEk(5),e.C$Y()(),e.I0R(6,"button",21),e.wR5(7,"mat-icon",19),e.I0R(8,"span",20),e.OEk(9),e.C$Y()(),e.I0R(10,"mat-menu",null,22)(12,"button",23),e.wR5(13,"mat-icon",24),e.I0R(14,"span"),e.OEk(15),e.C$Y()(),e.I0R(16,"button",23),e.wR5(17,"mat-icon",24),e.I0R(18,"span"),e.OEk(19),e.C$Y()()()(),e.k70()}if(2&i){const t=s.$implicit,l=e.Gew(11);e.yG2(2),e.E7m("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_outline:plus"),e.yG2(2),e.cNF(t("AddCollectible")),e.yG2(),e.E7m("matMenuTriggerFor",l)("color","primary"),e.yG2(),e.E7m("svgIcon","heroicons_solid:arrow-up-tray"),e.yG2(2),e.cNF(t("Export")),e.yG2(4),e.E7m("svgIcon","heroicons_outline:document-text"),e.yG2(2),e.oRS("",t("as")," PDF"),e.yG2(2),e.E7m("svgIcon","heroicons_outline:document-text"),e.yG2(2),e.oRS("",t("as")," XLS")}}function oe(i,s){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",25)(2,"mat-form-field",26),e.wR5(3,"mat-icon",27),e.I0R(4,"input",28,29),e.qCj("input",function(){e.usT(t);const o=e.Gew(5),c=e.GaO();return e.CGJ(c.filterCollectibles(o.value))}),e.C$Y()()(),e.k70()}if(2&i){const t=s.$implicit;e.yG2(2),e.E7m("subscriptSizing","dynamic"),e.yG2(),e.E7m("svgIcon","heroicons_solid:magnifying-glass"),e.yG2(),e.E7m("autocomplete","off")("placeholder",t("Search"))}}function ne(i,s){if(1&i&&(e.I0R(0,"th",43),e.OEk(1),e.C$Y()),2&i){const t=e.GaO().$implicit;e.yG2(),e.oRS(" ",t("Name")," ")}}const ce=(i,s,t,l)=>({"bg-blue-500":i,"bg-red-500":s,"bg-green-500":t,"bg-yellow-500":l});function se(i,s){if(1&i&&(e.I0R(0,"td",44)(1,"span",45),e.wR5(2,"span",46),e.I0R(3,"span",47),e.OEk(4),e.C$Y()()()),2&i){const t=s.$implicit;e.yG2(2),e.E7m("ngClass",e.WuN(2,ce,t.id<=4,t.id>=6&&t.id<=9,t.id<=10&&t.id>=5,t.id>=11)),e.yG2(2),e.cNF(t.name)}}function ae(i,s){if(1&i&&(e.I0R(0,"th",43),e.OEk(1),e.C$Y()),2&i){const t=e.GaO().$implicit;e.yG2(),e.oRS(" ",t("Description")," ")}}function re(i,s){if(1&i&&(e.I0R(0,"td",44)(1,"span",48),e.OEk(2),e.C$Y()()),2&i){const t=s.$implicit;e.yG2(2),e.oRS(" ",t.description," ")}}function me(i,s){if(1&i&&(e.I0R(0,"th",43),e.OEk(1),e.C$Y()),2&i){const t=e.GaO().$implicit;e.yG2(),e.oRS(" ",t("Rarity")," ")}}function ue(i,s){if(1&i&&(e.I0R(0,"td",44)(1,"span",48),e.OEk(2),e.C$Y()()),2&i){const t=s.$implicit;e.yG2(2),e.oRS(" ",t.rarity," ")}}function de(i,s){if(1&i&&(e.I0R(0,"th",43),e.OEk(1),e.C$Y()),2&i){const t=e.GaO().$implicit;e.yG2(),e.oRS(" ",t("Price")," ")}}function be(i,s){if(1&i&&(e.I0R(0,"td",44)(1,"span",48),e.OEk(2),e.C$Y()()),2&i){const t=s.$implicit;e.yG2(2),e.oRS(" ",t.price," ")}}function pe(i,s){if(1&i&&(e.I0R(0,"th",43),e.OEk(1),e.C$Y()),2&i){const t=e.GaO().$implicit;e.yG2(),e.oRS(" ",t("DateAcquired")," ")}}function he(i,s){if(1&i&&(e.I0R(0,"td",44)(1,"span",48),e.OEk(2),e.wVc(3,"date"),e.C$Y()()),2&i){const t=s.$implicit;e.yG2(2),e.oRS(" ",e.g7$(3,1,t.dateAcquired,"dd/MM/yyyy")," ")}}function fe(i,s){1&i&&e.wR5(0,"tr",49)}function Ce(i,s){if(1&i){const t=e.KQA();e.I0R(0,"tr",50),e.qCj("click",function(){const c=e.usT(t).$implicit,a=e.GaO(2);return e.CGJ(a.clickedRows(c))}),e.C$Y()}}function ge(i,s){if(1&i&&(e.SAx(0),e.I0R(1,"div",30)(2,"div",31),e.OEk(3),e.C$Y(),e.I0R(4,"div",32)(5,"table",33),e.SAx(6,34),e.yuY(7,ne,2,1,"th",35)(8,se,5,7,"td",36),e.k70(),e.SAx(9,37),e.yuY(10,ae,2,1,"th",35)(11,re,3,1,"td",36),e.k70(),e.SAx(12,38),e.yuY(13,me,2,1,"th",35)(14,ue,3,1,"td",36),e.k70(),e.SAx(15,39),e.yuY(16,de,2,1,"th",35)(17,be,3,1,"td",36),e.k70(),e.SAx(18,40),e.yuY(19,pe,2,1,"th",35)(20,he,4,4,"td",36),e.k70(),e.yuY(21,fe,1,0,"tr",41)(22,Ce,1,0,"tr",42),e.C$Y()()(),e.k70()),2&i){const t=s.$implicit,l=e.GaO();e.yG2(3),e.oRS(" ",t("Collectibles")," "),e.yG2(2),e.E7m("dataSource",l.data),e.yG2(16),e.E7m("matHeaderRowDef",l.displayedColumns),e.yG2(),e.E7m("matRowDefColumns",l.displayedColumns)}}let D=(()=>{class i{constructor(t,l,o,c){this._collectiblesService=t,this._changeDetectorRef=l,this._router=o,this._activatedRoute=c,this.searchInputControl=new m.yM,this.displayedColumns=["name","description","rarity","price","dateAcquired"],this.collectibleCount=0,this._unsubscribeAll=new E.E,this.collectiblesData=[],this.collectiblegCount=0}ngOnInit(){this._collectiblesService.collectibles$.pipe((0,_.a)(this._unsubscribeAll)).subscribe(t=>{this._changeDetectorRef.markForCheck(),this.data=t,this.search=t,this.collectibleCount=t.length})}onBackdropClicked(){this._router.navigate(["./"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}clickedRows(t){this._router.navigate(["./",t.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()}closeDrawer(){return null}createCollectible(t){this._collectiblesService.createCollectible(t,"mock").subscribe(l=>{this._router.navigate(["./",l.id],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck()})}filterCollectibles(t){this.data=t?this.search.filter(l=>l.name.toLowerCase().includes(t.toLowerCase())):this.search}trackByFn(t,l){return l.id||t}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete()}static#e=this.\u0275fac=function(l){return new(l||i)(e.GI1(I),e.GI1(e.kD9),e.GI1(b.E5),e.GI1(b.gV))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["collectibles-table"]],viewQuery:function(l,o){if(1&l&&e.CC$(q,7),2&l){let c;e.wto(c=e.Gqi())&&(o.matDrawer=c.first)}},standalone:!0,features:[e.UHJ],decls:18,vars:4,consts:[[1,"absolute","inset-0","flex","flex-col","min-w-0","overflow-hidden"],[1,"flex-auto","h-full","dark:bg-transparent",3,"backdropClick"],[1,"w-full","sm:w-128","dark:bg-gray-900",3,"mode","opened","position","disableClose"],["matDrawer",""],[1,"flex","flex-col"],[1,"flex","flex-col","flex-auto"],[1,"bg-card"],[1,"flex","flex-col","w-full","max-w-screen-xl","mx-auto","px-6","sm:px-8"],[1,"flex","flex-col","sm:flex-row","flex-auto","sm:items-center","min-w-0","my-4","sm:my-8"],[1,"flex","flex-auto","items-center","min-w-0"],[1,"flex","flex-col","min-w-0","ml-4"],[4,"transloco"],[1,"w-full","max-w-screen-xl","mx-auto","p-4","lg:p-6"],[1,"grid","grid-cols-1","gap-8","w-full"],[1,"text-5xl","md:text-5xl","font-semibold","tracking-tight","leading-7","md:leading-snug","truncate"],[1,"ml-0.5","font-medium","text-secondary"],[4,"ngIf"],[1,"flex","items-center","mt-6","sm:mt-0","sm:ml-2","space-x-3"],["mat-flat-button","",3,"color","click"],[1,"icon-size-5",3,"svgIcon"],[1,"ml-2"],["mat-flat-button","",1,"hidden","sm:inline-flex","ml-3",3,"matMenuTriggerFor","color"],["moreMenu","matMenu"],["mat-menu-item",""],[3,"svgIcon"],[1,"flex-auto","mb-8"],[1,"fuse-mat-rounded","fuse-mat-dense","w-full",3,"subscriptSizing"],["matPrefix","",1,"icon-size-5",3,"svgIcon"],["matInput","",3,"autocomplete","placeholder","input"],["searchField",""],[1,"col-span2","flex","flex-col","flex-auto","pt-6","px-6","bg-card","shadow","rounded-2xl","overflow-hidden"],[1,"text-lg","font-medium","tracking-tight","leading-6","truncate"],[1,"flex","flex-col","flex-auto","mt-2","overflow-x-auto"],["mat-table","",1,"min-w-240","overflow-y-visible","mat-mdc-my-table",3,"dataSource"],["matColumnDef","name","sticky",""],["mat-header-cell","","class","bg-header-table",4,"matHeaderCellDef"],["mat-cell","",4,"matCellDef"],["matColumnDef","description"],["matColumnDef","rarity"],["matColumnDef","price"],["matColumnDef","dateAcquired"],["mat-header-row","","class"," ",4,"matHeaderRowDef"],["class","hover:cursor-pointer ","mat-row","",3,"click",4,"matRowDef","matRowDefColumns"],["mat-header-cell","",1,"bg-header-table"],["mat-cell",""],[1,"flex","items-center"],[1,"w-2","h-2","rounded-full",3,"ngClass"],[1,"ml-3","font-medium","text-right"],[1,"font-medium","text-right"],["mat-header-row","",1,""],["mat-row","",1,"hover:cursor-pointer",3,"click"]],template:function(l,o){1&l&&(e.I0R(0,"div",0)(1,"mat-drawer-container",1),e.qCj("backdropClick",function(){return o.onBackdropClicked()}),e.I0R(2,"mat-drawer",2,3),e.wR5(4,"router-outlet"),e.C$Y(),e.I0R(5,"mat-drawer-content",4)(6,"div",5)(7,"div",6)(8,"div",7)(9,"div",8)(10,"div",9)(11,"div",10),e.yuY(12,le,7,19,"ng-container",11),e.C$Y()(),e.yuY(13,ie,20,11,"ng-container",11),e.C$Y(),e.yuY(14,oe,6,4,"ng-container",11),e.C$Y()(),e.I0R(15,"div",12)(16,"div",13),e.yuY(17,ge,23,4,"ng-container",11),e.C$Y()()()()()()),2&l&&(e.yG2(2),e.E7m("mode",o.drawerMode)("opened",!1)("position","end")("disableClose",!0))},dependencies:[w.kJ,w.IZ,k.oB,k.qL,v.oJ,v.Gw,x.y,N.KE,f._A,f.aM,f.OQ,f.yG,Z.w5,W.ue,X.G,$.sb,$.Iz,$.G4,$.q0,x.u_,u.If,u.wL,u.ie,u.aG,u.Af,u.uc,u.gx,u.qC,u.cX,u.yC,u._I,x.QF,b.cP,m.sl,T.cN,T.yi,y.Up,y.is,x.od],encapsulation:2,changeDetection:0})}return i})();var ve=n(4248);const ye=["titleField"],_e=()=>["../"];function xe(i,s){if(1&i){const t=e.KQA();e.SAx(0),e.I0R(1,"div",1)(2,"form",2)(3,"div",3)(4,"div",4)(5,"button",5)(6,"mat-icon",6),e.OEk(7,"more_vert"),e.C$Y()(),e.I0R(8,"mat-menu",null,7)(10,"button",8),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.deleteCollectible())}),e.I0R(11,"mat-icon",6),e.OEk(12,"delete"),e.C$Y(),e.I0R(13,"span",9),e.OEk(14),e.C$Y()()(),e.I0R(15,"a",10)(16,"mat-icon",6),e.OEk(17,"close"),e.C$Y()()()(),e.wR5(18,"mat-divider",11),e.I0R(19,"div",12)(20,"div")(21,"mat-form-field",13)(22,"mat-label"),e.OEk(23),e.C$Y(),e.wR5(24,"input",14),e.C$Y()(),e.I0R(25,"div")(26,"mat-form-field",13)(27,"mat-label"),e.OEk(28),e.C$Y(),e.wR5(29,"input",14),e.C$Y()(),e.I0R(30,"div")(31,"mat-form-field",13)(32,"mat-label"),e.OEk(33),e.C$Y(),e.wR5(34,"input",14),e.C$Y()(),e.I0R(35,"div")(36,"mat-form-field",13)(37,"mat-label"),e.OEk(38),e.C$Y(),e.wR5(39,"input",14),e.C$Y()(),e.I0R(40,"mat-form-field",15)(41,"mat-label"),e.OEk(42),e.C$Y(),e.wR5(43,"input",16)(44,"mat-datepicker-toggle",17),e.I0R(45,"mat-datepicker",18,19)(47,"mat-datepicker-actions")(48,"button",20),e.OEk(49),e.C$Y(),e.I0R(50,"button",21),e.OEk(51),e.C$Y()()()()(),e.I0R(52,"button",22)(53,"div",23)(54,"span",24),e.qCj("click",function(){e.usT(t);const o=e.GaO();return e.CGJ(o.onSubmit())}),e.OEk(55),e.C$Y()()()()(),e.k70()}if(2&i){const t=s.$implicit,l=e.Gew(9),o=e.Gew(46),c=e.GaO();e.yG2(2),e.E7m("formGroup",c.collectibleForm),e.yG2(3),e.E7m("matMenuTriggerFor",l),e.yG2(9),e.cNF(t("Delete")),e.yG2(),e.E7m("routerLink",e.q4q(19,_e)),e.yG2(8),e.cNF(t("CollectibleName")),e.yG2(),e.E7m("formControlName","name"),e.yG2(4),e.cNF(t("Description")),e.yG2(),e.E7m("formControlName","description"),e.yG2(4),e.cNF(t("Rarity")),e.yG2(),e.E7m("formControlName","rarity"),e.yG2(4),e.cNF(t("Price")),e.yG2(),e.E7m("formControlName","price"),e.yG2(3),e.cNF(t("DateAcquired")),e.yG2(),e.E7m("matDatepicker",o)("formControlName","dateAcquired"),e.yG2(),e.E7m("for",o),e.yG2(5),e.cNF(t("Cancel")),e.yG2(2),e.cNF(t("Apply")),e.yG2(4),e.cNF(t("Save"))}}const Re=[{path:"",component:B,children:[{path:"",component:D,resolve:{land:()=>(0,e.uUt)(I).getCollectibles()},children:[{path:":id",component:(()=>{class i{constructor(t,l,o,c,a,r,d,A,Y,O){this._activatedRoute=t,this._changeDetectorRef=l,this._formBuilder=o,this._fuseConfirmationService=c,this._router=a,this._collectiblesTableComponent=r,this._collectiblesService=d,this._collectiblecomponent=A,this._overlay=Y,this._viewContainerRef=O,this._unsubscribeAll=new E.E,this.hiddedButton=!0}ngOnInit(){this._collectiblesTableComponent.matDrawer.open(),this.collectibleForm=this._formBuilder.group({name:["Test the addition process ",m.AQ.required],price:[400,m.AQ.required],rarity:["test",m.AQ.required],dateAcquired:[new Date,{disabled:!0},m.AQ.required],userId:[1080],description:["Test the addition process ",m.AQ.required],assetId:[3,m.AQ.required]}),this.getDataCollectibles(),this.updataCollectible()}getDataCollectibles(){this._collectiblesService.collectibles$.pipe((0,_.a)(this._unsubscribeAll)).subscribe(t=>{this._changeDetectorRef.markForCheck()}),this._collectiblesService.collectible$.pipe((0,_.a)(this._unsubscribeAll)).subscribe(t=>{this._collectiblesTableComponent.matDrawer.open(),this.collectible=t,this.collectibleForm.patchValue(t,{emitEvent:!1}),this._changeDetectorRef.markForCheck()})}updataCollectible(){this.collectibleForm.valueChanges.pipe((0,R.y)(t=>{this.collectible=(0,V.c)(this.collectible,t)}),(0,z.o)(300),(0,_.a)(this._unsubscribeAll)).subscribe(t=>{this._changeDetectorRef.markForCheck()}),this._router.events.pipe((0,_.a)(this._unsubscribeAll),(0,G.I)(t=>t instanceof b.MT)).subscribe(()=>{this._titleField.nativeElement.focus()})}onSubmit(){this.collectibleForm.valid?this._collectiblesService.createCollectible(this.collectibleForm.value,"base").subscribe(l=>{console.log("Post successful:",l),this.closeDrawer(),this._router.navigate(["../"],{relativeTo:this._activatedRoute}),this._changeDetectorRef.markForCheck(),this._collectiblecomponent.ngOnInit()},l=>{console.error("Error:",l)}):console.error("Form is invalid")}deleteCollectible(){this._fuseConfirmationService.open({title:"Delete Collectible",message:"Are you sure you want to delete this Collectible? This action cannot be undone!",actions:{confirm:{label:"Delete"}}}).afterClosed().subscribe(l=>{if("confirmed"===l){const o=this.collectible.id,c=this.collectibles.findIndex(d=>d.id===o),r=1===this.collectibles.length&&this.collectibles[0].id===o?null:this.collectibles[c+(c===this.collectibles.length-1?-1:1)].id;this._collectiblesService.deleteCollectible(o).subscribe(d=>{d&&this._router.navigate(r?["../",r]:["../"],{relativeTo:this._activatedRoute})}),this._changeDetectorRef.markForCheck()}})}ngOnDestroy(){this._unsubscribeAll.next(null),this._unsubscribeAll.complete(),this._changeDetectorRef.markForCheck(),this._collectiblesService.getCollectibles().subscribe(t=>{this._changeDetectorRef.markForCheck()})}ngAfterViewInit(){this._collectiblesTableComponent.matDrawer.openedChange.pipe((0,_.a)(this._unsubscribeAll),(0,G.I)(t=>t)).subscribe(()=>{})}closeDrawer(){return this._collectiblesTableComponent.matDrawer.close()}trackByFn(t,l){return l.id||t}static#e=this.\u0275fac=function(l){return new(l||i)(e.GI1(b.gV),e.GI1(e.kD9),e.GI1(m.KE),e.GI1(H.q),e.GI1(b.E5),e.GI1(D),e.GI1(I),e.GI1(D),e.GI1(ve.mc),e.GI1(e.y8U))};static#t=this.\u0275cmp=e.In1({type:i,selectors:[["details-collectibles"]],viewQuery:function(l,o){if(1&l&&e.CC$(ye,5),2&l){let c;e.wto(c=e.Gqi())&&(o._titleField=c.first)}},standalone:!0,features:[e.UHJ],decls:1,vars:0,consts:[[4,"transloco"],[1,"flex","flex-auto"],[1,"flex","flex-col","flex-auto","p-6","pt-10","sm:p-8","sm:pt-10","overflow-y-auto",3,"formGroup"],[1,"flex","items-center","justify-between","-mt-3","-ml-4"],[1,"flex","items-center"],["mat-icon-button","",1,"hover:text-blue-500","focus:outline-none",3,"matMenuTriggerFor"],[1,"text-gray-700"],["moreMenu","matMenu"],["mat-menu-item","",3,"click"],[1,"ml-2"],["mat-icon-button","",1,"hover:text-blue-500","focus:outline-none",3,"routerLink"],[1,"mt-6","mb-4"],[1,"card","px-4"],[1,"w-full","mt-4"],["matInput","","spellcheck","false",3,"formControlName"],[1,"w-full"],["matInput","","placeholder","Choose a date",3,"matDatepicker","formControlName"],["matSuffix","",3,"for"],["disabled","false"],["dateAcquired",""],["mat-button","","matDatepickerCancel",""],["mat-raised-button","","color","primary","matDatepickerApply",""],["type","submit","mat-button","",1,"mt-6"],[1,"flex","items-center","justify-center"],[1,"font-semibold",3,"click"]],template:function(l,o){1&l&&e.yuY(0,xe,56,20,"ng-container",0)},dependencies:[m.y,m.sz,m.ot,m.ue,m.u,m.sl,m.uW,m.Wo,v.oJ,v.Gw,v.cP,v.um,k.oB,k.qL,f._A,f.aM,f.OQ,f.yG,b.ER,M.U,M.k,y.wb,y.Up,y.w5,y.Gm,T.cN,T.yi,P.aC,N.KE,L.Vn,C.iU,C.SU,C.Ul,C.yu,C._C,C.o9,C.Y3,w.kJ,w.IZ],encapsulation:2,changeDetection:0})}return i})(),resolve:{land:(i,s)=>{const t=(0,e.uUt)(I),l=(0,e.uUt)(b.E5);return t.getCollectibleById(i.paramMap.get("id")).pipe((0,Q.a)(o=>{console.error(o);const c=s.url.split("/").slice(0,-1).join("/");return l.navigateByUrl(c),(0,F.c)(o)}))}},canDeactivate:[(i,s,t,l)=>{let o=l.root;for(;o.firstChild;)o=o.firstChild;return!(l.url.includes("collectibles")&&!o.paramMap.get("id"))||(console.log("found Error in drawer"),i.closeDrawer().then(()=>!0))}]}]}]}]}}]);